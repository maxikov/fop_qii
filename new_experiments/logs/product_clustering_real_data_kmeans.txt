Sun Jul 2 12:12:21 PDT 2017 spark-submit --driver-memory 10g product_clustering.py --persist-dir archived_states/product_regression_all_regression_tree_rank_12_depth_5.state --n-clusters 15 --cluster-model kmeans --movies-file datasets/ml-20m/movies.csv >> new_experiments/logs/product_clustering_real_data_kmeans.txt
Loading results dict
Loading indicators
Loading ALS model
Loading movies
Done, 27278 movies loaded
Training kmeans
Done
Centroids: [array([ 0.00629494, -0.25303743,  0.34203355,  0.04543364,  0.56788592,
       -0.68415142, -0.10345276,  0.93398993,  0.78975366,  0.05514191,
       -0.525547  , -0.91851938]), array([-0.2197223 ,  0.62374136,  0.30258983,  0.0186287 ,  0.26588245,
       -0.1420646 ,  0.22140465,  0.74657003,  1.24075723,  0.03776   ,
       -0.52067097, -0.84897296]), array([ 0.10846554,  0.41711925,  0.5237649 ,  0.06984951,  0.24194569,
        0.04076458,  0.03002477,  0.66530913,  0.63154789,  0.40109465,
       -0.42059653, -0.83707351]), array([ 0.28069783,  0.49520314,  0.22199506,  0.21508013,  0.45169548,
       -0.3069601 ,  0.61101277,  0.81885988,  0.52681011,  0.19552916,
       -0.85139507, -0.92254014]), array([ 0.249247  ,  0.50977269, -0.01082592, -0.23944128,  0.15062017,
       -0.17776794, -0.03781741,  0.46623656,  0.46313491, -0.01130831,
       -0.9617556 , -1.47571652]), array([ 0.06053341,  0.51684417,  0.37883052, -0.49641154, -0.2136916 ,
       -0.49053868,  0.46956423,  0.56613841,  1.26959001,  0.20307183,
       -0.70564907, -0.92565816]), array([-0.4859154 ,  0.12053388, -0.17214286, -0.06092514,  0.16589182,
       -0.36752955, -0.59547818,  0.60068547,  0.57690441,  0.54911364,
       -1.18499052, -0.73025165]), array([ 0.46865719,  0.66144009, -0.16159716, -0.65934371,  0.11680432,
       -0.22687   ,  0.25947624,  1.29372736,  0.78425417,  0.44473179,
       -0.57076353, -0.43398903]), array([ 0.34910103,  0.50738917,  0.11266977, -0.43825699, -0.42058544,
       -0.91991923, -0.17311564,  0.8969154 ,  0.89027404,  0.44164696,
       -1.12922846, -0.38049985]), array([ 0.19973391,  0.89588993,  0.23207128, -0.08694111, -0.19769093,
       -0.35720672,  0.22503887,  1.0041478 ,  0.62714376,  0.08421364,
       -0.80010487, -0.90749723]), array([ 0.07514754, -0.19952477, -0.03183899,  0.27081645,  0.36142099,
        0.28124288,  0.05361774,  0.67916026,  0.89940175,  0.46830793,
       -0.85904378, -0.73770339]), array([-0.10252712,  0.34100408,  0.60761953, -0.16004122,  0.23976257,
        0.09255219,  0.01916033,  0.91993255,  0.31213699, -0.41816898,
       -1.38269373, -0.54827686]), array([-0.7393509 ,  0.43628113, -0.11993636, -0.47096099,  0.43751727,
       -0.10704692,  0.44505511,  1.2177539 ,  0.50287548,  0.54547407,
       -0.74160666, -0.49582734]), array([ 0.12942255,  0.21311894,  0.17182421, -0.15777356,  0.7097133 ,
        0.18177571,  0.29512159,  0.33132254,  0.39479758,  0.46215539,
       -1.19761691, -0.75861342]), array([ -6.83164356e-02,   6.13460545e-01,   4.91025366e-01,
        -4.06670488e-01,   2.40547817e-04,  -4.62143710e-01,
         5.73660268e-01,   9.02572680e-01,   4.02586524e-01,
         5.90728822e-01,  -5.10377408e-01,  -1.03898031e+00])]
Labeling clusters
Clusters: defaultdict(<type 'int'>, {0.0: 250, 1.0: 416, 2.0: 394, 3.0: 546, 4.0: 335, 5.0: 470, 6.0: 346, 7.0: 258, 8.0: 276, 9.0: 622, 10.0: 291, 11.0: 188, 12.0: 196, 13.0: 472, 14.0: 379})
Centroid mean: [ 0.02076459  0.39328241  0.19253885 -0.17046384  0.1918275  -0.24305757
  0.15288484  0.80288813  0.68746457  0.26996617 -0.82413601 -0.79734132]
Centroid variance: 0.965599820145
Training a latent tree
DecisionTreeModel classifier of depth 8 with 433 nodes
  If (feature 8 <= 0.9953653216362)
   If (feature 4 <= 0.11177628487348557)
    If (feature 1 <= 0.6914887428283691)
     If (feature 6 <= 0.14640167355537415)
      If (feature 10 <= -0.6404027938842773)
       If (feature 11 <= -1.4363478422164917)
        If (feature 2 <= 0.651933491230011)
         If (feature 10 <= -1.6700984239578247)
          Predict: 4.0
         Else (feature 10 > -1.6700984239578247)
          Predict: 4.0
        Else (feature 2 > 0.651933491230011)
         Predict: 14.0
       Else (feature 11 > -1.4363478422164917)
        If (feature 5 <= -0.7505891919136047)
         If (feature 11 <= -1.2869747877120972)
          Predict: 6.0
         Else (feature 11 > -1.2869747877120972)
          Predict: 8.0
        Else (feature 5 > -0.7505891919136047)
         If (feature 0 <= -0.12881913781166077)
          Predict: 6.0
         Else (feature 0 > -0.12881913781166077)
          Predict: 11.0
      Else (feature 10 > -0.6404027938842773)
       If (feature 5 <= -0.30421149730682373)
        If (feature 1 <= 0.2541124224662781)
         If (feature 0 <= -0.31207436323165894)
          Predict: 14.0
         Else (feature 0 > -0.31207436323165894)
          Predict: 0.0
        Else (feature 1 > 0.2541124224662781)
         If (feature 5 <= -0.533708930015564)
          Predict: 8.0
         Else (feature 5 > -0.533708930015564)
          Predict: 4.0
       Else (feature 5 > -0.30421149730682373)
        If (feature 0 <= -0.4423484206199646)
         If (feature 4 <= -0.2403019219636917)
          Predict: 12.0
         Else (feature 4 > -0.2403019219636917)
          Predict: 1.0
        Else (feature 0 > -0.4423484206199646)
         If (feature 2 <= -0.09734496474266052)
          Predict: 7.0
         Else (feature 2 > -0.09734496474266052)
          Predict: 2.0
     Else (feature 6 > 0.14640167355537415)
      If (feature 3 <= -0.1609143614768982)
       If (feature 9 <= 0.1600855141878128)
        If (feature 8 <= 0.7736036777496338)
         If (feature 11 <= -1.4363478422164917)
          Predict: 4.0
         Else (feature 11 > -1.4363478422164917)
          Predict: 9.0
        Else (feature 8 > 0.7736036777496338)
         If (feature 2 <= -0.02060030773282051)
          Predict: 9.0
         Else (feature 2 > -0.02060030773282051)
          Predict: 5.0
       Else (feature 9 > 0.1600855141878128)
        If (feature 10 <= -0.8290032744407654)
         If (feature 5 <= 0.15625056624412537)
          Predict: 8.0
         Else (feature 5 > 0.15625056624412537)
          Predict: 13.0
        Else (feature 10 > -0.8290032744407654)
         If (feature 5 <= -0.08787478506565094)
          Predict: 14.0
         Else (feature 5 > -0.08787478506565094)
          Predict: 12.0
      Else (feature 3 > -0.1609143614768982)
       If (feature 3 <= 0.27265262603759766)
        If (feature 7 <= 0.6780731081962585)
         If (feature 6 <= 0.6278329491615295)
          Predict: 4.0
         Else (feature 6 > 0.6278329491615295)
          Predict: 5.0
        Else (feature 7 > 0.6780731081962585)
         If (feature 9 <= 0.34718358516693115)
          Predict: 9.0
         Else (feature 9 > 0.34718358516693115)
          Predict: 14.0
       Else (feature 3 > 0.27265262603759766)
        If (feature 4 <= -0.18141105771064758)
         If (feature 6 <= 0.6278329491615295)
          Predict: 9.0
         Else (feature 6 > 0.6278329491615295)
          Predict: 3.0
        Else (feature 4 > -0.18141105771064758)
         If (feature 0 <= -0.053839392960071564)
          Predict: 0.0
         Else (feature 0 > -0.053839392960071564)
          Predict: 3.0
    Else (feature 1 > 0.6914887428283691)
     If (feature 9 <= 0.41961023211479187)
      If (feature 5 <= -0.08787478506565094)
       If (feature 3 <= -0.5308600068092346)
        If (feature 11 <= -0.8029963970184326)
         If (feature 0 <= -0.053839392960071564)
          Predict: 5.0
         Else (feature 0 > -0.053839392960071564)
          Predict: 9.0
        Else (feature 11 > -0.8029963970184326)
         If (feature 5 <= -0.6300815343856812)
          Predict: 5.0
         Else (feature 5 > -0.6300815343856812)
          Predict: 7.0
       Else (feature 3 > -0.5308600068092346)
        If (feature 6 <= -0.3485971689224243)
         If (feature 0 <= 0.709339439868927)
          Predict: 9.0
         Else (feature 0 > 0.709339439868927)
          Predict: 8.0
        Else (feature 6 > -0.3485971689224243)
         If (feature 5 <= -1.1687638759613037)
          Predict: 14.0
         Else (feature 5 > -1.1687638759613037)
          Predict: 9.0
      Else (feature 5 > -0.08787478506565094)
       If (feature 11 <= -1.356788992881775)
        If (feature 2 <= 0.25617697834968567)
         If (feature 6 <= 0.3255332410335541)
          Predict: 4.0
         Else (feature 6 > 0.3255332410335541)
          Predict: 9.0
        Else (feature 2 > 0.25617697834968567)
         Predict: 2.0
       Else (feature 11 > -1.356788992881775)
        If (feature 8 <= 0.4363538324832916)
         If (feature 9 <= -0.3453892767429352)
          Predict: 11.0
         Else (feature 9 > -0.3453892767429352)
          Predict: 9.0
        Else (feature 8 > 0.4363538324832916)
         If (feature 11 <= 0.015009160153567791)
          Predict: 9.0
         Else (feature 11 > 0.015009160153567791)
          Predict: 7.0
     Else (feature 9 > 0.41961023211479187)
      If (feature 3 <= -0.270315021276474)
       If (feature 11 <= -0.667529284954071)
        If (feature 0 <= 0.22086705267429352)
         If (feature 9 <= 0.6283345222473145)
          Predict: 14.0
         Else (feature 9 > 0.6283345222473145)
          Predict: 14.0
        Else (feature 0 > 0.22086705267429352)
         If (feature 3 <= -0.6487472653388977)
          Predict: 7.0
         Else (feature 3 > -0.6487472653388977)
          Predict: 6.0
       Else (feature 11 > -0.667529284954071)
        If (feature 4 <= -0.4512247145175934)
         If (feature 5 <= -0.30421149730682373)
          Predict: 8.0
         Else (feature 5 > -0.30421149730682373)
          Predict: 7.0
        Else (feature 4 > -0.4512247145175934)
         If (feature 0 <= -0.4423484206199646)
          Predict: 12.0
         Else (feature 0 > -0.4423484206199646)
          Predict: 7.0
      Else (feature 3 > -0.270315021276474)
       If (feature 5 <= -0.8299907445907593)
        Predict: 8.0
       Else (feature 5 > -0.8299907445907593)
        If (feature 7 <= 0.5469221472740173)
         If (feature 10 <= -0.8861097693443298)
          Predict: 6.0
         Else (feature 10 > -0.8861097693443298)
          Predict: 2.0
        Else (feature 7 > 0.5469221472740173)
         If (feature 0 <= -0.6394551396369934)
          Predict: 12.0
         Else (feature 0 > -0.6394551396369934)
          Predict: 9.0
   Else (feature 4 > 0.11177628487348557)
    If (feature 6 <= 0.29299283027648926)
     If (feature 10 <= -0.8031849265098572)
      If (feature 6 <= -0.20167949795722961)
       If (feature 0 <= -0.21623797714710236)
        If (feature 6 <= -0.42825961112976074)
         If (feature 3 <= -1.0396294593811035)
          Predict: 12.0
         Else (feature 3 > -1.0396294593811035)
          Predict: 6.0
        Else (feature 6 > -0.42825961112976074)
         If (feature 7 <= 1.1637656688690186)
          Predict: 6.0
         Else (feature 7 > 1.1637656688690186)
          Predict: 12.0
       Else (feature 0 > -0.21623797714710236)
        If (feature 11 <= -1.1137338876724243)
         If (feature 1 <= -0.026223942637443542)
          Predict: 0.0
         Else (feature 1 > -0.026223942637443542)
          Predict: 4.0
        Else (feature 11 > -1.1137338876724243)
         If (feature 5 <= -0.052810680121183395)
          Predict: 6.0
         Else (feature 5 > -0.052810680121183395)
          Predict: 13.0
      Else (feature 6 > -0.20167949795722961)
       If (feature 11 <= -1.241343379020691)
        If (feature 7 <= 0.8213938474655151)
         If (feature 1 <= -0.1882067322731018)
          Predict: 0.0
         Else (feature 1 > -0.1882067322731018)
          Predict: 4.0
        Else (feature 7 > 0.8213938474655151)
         If (feature 2 <= 0.173069030046463)
          Predict: 3.0
         Else (feature 2 > 0.173069030046463)
          Predict: 11.0
       Else (feature 11 > -1.241343379020691)
        If (feature 7 <= 0.5817530751228333)
         If (feature 8 <= 0.5745958685874939)
          Predict: 13.0
         Else (feature 8 > 0.5745958685874939)
          Predict: 13.0
        Else (feature 7 > 0.5817530751228333)
         If (feature 9 <= 0.035318534821271896)
          Predict: 11.0
         Else (feature 9 > 0.035318534821271896)
          Predict: 10.0
     Else (feature 10 > -0.8031849265098572)
      If (feature 1 <= 0.03247654065489769)
       If (feature 5 <= -0.08787478506565094)
        If (feature 2 <= 0.0604587122797966)
         If (feature 9 <= 0.09978323429822922)
          Predict: 0.0
         Else (feature 9 > 0.09978323429822922)
          Predict: 6.0
        Else (feature 2 > 0.0604587122797966)
         If (feature 0 <= -0.8590327501296997)
          Predict: 12.0
         Else (feature 0 > -0.8590327501296997)
          Predict: 0.0
       Else (feature 5 > -0.08787478506565094)
        If (feature 2 <= 0.4118279814720154)
         If (feature 9 <= 0.06772828102111816)
          Predict: 0.0
         Else (feature 9 > 0.06772828102111816)
          Predict: 10.0
        Else (feature 2 > 0.4118279814720154)
         If (feature 9 <= 0.06772828102111816)
          Predict: 0.0
         Else (feature 9 > 0.06772828102111816)
          Predict: 2.0
      Else (feature 1 > 0.03247654065489769)
       If (feature 5 <= -0.30421149730682373)
        If (feature 11 <= -1.2869747877120972)
         If (feature 10 <= -0.423433780670166)
          Predict: 4.0
         Else (feature 10 > -0.423433780670166)
          Predict: 0.0
        Else (feature 11 > -1.2869747877120972)
         If (feature 0 <= -0.053839392960071564)
          Predict: 6.0
         Else (feature 0 > -0.053839392960071564)
          Predict: 2.0
       Else (feature 5 > -0.30421149730682373)
        If (feature 2 <= 0.09799596667289734)
         If (feature 3 <= 0.27265262603759766)
          Predict: 4.0
         Else (feature 3 > 0.27265262603759766)
          Predict: 10.0
        Else (feature 2 > 0.09799596667289734)
         If (feature 11 <= -1.4363478422164917)
          Predict: 4.0
         Else (feature 11 > -1.4363478422164917)
          Predict: 2.0
    Else (feature 6 > 0.29299283027648926)
     If (feature 3 <= -4.2473641224205494E-4)
      If (feature 7 <= 0.6133189797401428)
       If (feature 10 <= -0.6815246939659119)
        If (feature 9 <= 0.06772828102111816)
         If (feature 11 <= -1.241343379020691)
          Predict: 4.0
         Else (feature 11 > -1.241343379020691)
          Predict: 13.0
        Else (feature 9 > 0.06772828102111816)
         If (feature 5 <= -0.7505891919136047)
          Predict: 0.0
         Else (feature 5 > -0.7505891919136047)
          Predict: 13.0
       Else (feature 10 > -0.6815246939659119)
        If (feature 0 <= 0.4055299460887909)
         If (feature 9 <= 0.41961023211479187)
          Predict: 2.0
         Else (feature 9 > 0.41961023211479187)
          Predict: 14.0
        Else (feature 0 > 0.4055299460887909)
         Predict: 3.0
      Else (feature 7 > 0.6133189797401428)
       If (feature 9 <= 0.22766511142253876)
        If (feature 3 <= -0.3916059732437134)
         If (feature 10 <= -0.7117076516151428)
          Predict: 7.0
         Else (feature 10 > -0.7117076516151428)
          Predict: 14.0
        Else (feature 3 > -0.3916059732437134)
         If (feature 6 <= 0.5428833961486816)
          Predict: 3.0
         Else (feature 6 > 0.5428833961486816)
          Predict: 3.0
       Else (feature 9 > 0.22766511142253876)
        If (feature 2 <= 0.024780064821243286)
         If (feature 0 <= -0.053839392960071564)
          Predict: 12.0
         Else (feature 0 > -0.053839392960071564)
          Predict: 7.0
        Else (feature 2 > 0.024780064821243286)
         If (feature 10 <= -0.6815246939659119)
          Predict: 3.0
         Else (feature 10 > -0.6815246939659119)
          Predict: 14.0
     Else (feature 3 > -4.2473641224205494E-4)
      If (feature 5 <= -0.12852467596530914)
       If (feature 0 <= -0.17236462235450745)
        If (feature 10 <= -0.5725789666175842)
         If (feature 1 <= -0.1882067322731018)
          Predict: 0.0
         Else (feature 1 > -0.1882067322731018)
          Predict: 3.0
        Else (feature 10 > -0.5725789666175842)
         If (feature 2 <= -0.7155903577804565)
          Predict: 12.0
         Else (feature 2 > -0.7155903577804565)
          Predict: 14.0
       Else (feature 0 > -0.17236462235450745)
        If (feature 4 <= 0.22408008575439453)
         If (feature 6 <= 0.39504510164260864)
          Predict: 9.0
         Else (feature 6 > 0.39504510164260864)
          Predict: 3.0
        Else (feature 4 > 0.22408008575439453)
         If (feature 9 <= 1.092928171157837)
          Predict: 3.0
         Else (feature 9 > 1.092928171157837)
          Predict: 7.0
      Else (feature 5 > -0.12852467596530914)
       If (feature 10 <= -1.0571792125701904)
        If (feature 0 <= 0.33172890543937683)
         If (feature 9 <= 3.3317459747195244E-4)
          Predict: 11.0
         Else (feature 9 > 3.3317459747195244E-4)
          Predict: 13.0
        Else (feature 0 > 0.33172890543937683)
         If (feature 1 <= 0.1528576910495758)
          Predict: 10.0
         Else (feature 1 > 0.1528576910495758)
          Predict: 3.0
       Else (feature 10 > -1.0571792125701904)
        If (feature 9 <= 0.28472980856895447)
         If (feature 2 <= 0.651933491230011)
          Predict: 3.0
         Else (feature 2 > 0.651933491230011)
          Predict: 2.0
        Else (feature 9 > 0.28472980856895447)
         If (feature 1 <= -0.026223942637443542)
          Predict: 10.0
         Else (feature 1 > -0.026223942637443542)
          Predict: 3.0
  Else (feature 8 > 0.9953653216362)
   If (feature 3 <= -0.270315021276474)
    If (feature 7 <= 1.0353559255599976)
     If (feature 6 <= 0.14640167355537415)
      If (feature 0 <= -0.5264184474945068)
       If (feature 10 <= -0.49656081199645996)
        If (feature 5 <= 0.336337149143219)
         Predict: 6.0
        Else (feature 5 > 0.336337149143219)
         Predict: 10.0
       Else (feature 10 > -0.49656081199645996)
        If (feature 0 <= -0.8590327501296997)
         Predict: 5.0
        Else (feature 0 > -0.8590327501296997)
         If (feature 0 <= -0.6394551396369934)
          Predict: 12.0
         Else (feature 0 > -0.6394551396369934)
          Predict: 1.0
      Else (feature 0 > -0.5264184474945068)
       If (feature 5 <= -0.57720547914505)
        If (feature 11 <= -0.8029963970184326)
         If (feature 4 <= -0.0456014908850193)
          Predict: 5.0
         Else (feature 4 > -0.0456014908850193)
          Predict: 0.0
        Else (feature 11 > -0.8029963970184326)
         If (feature 1 <= -0.026223942637443542)
          Predict: 0.0
         Else (feature 1 > -0.026223942637443542)
          Predict: 8.0
       Else (feature 5 > -0.57720547914505)
        If (feature 4 <= -0.09017189592123032)
         If (feature 2 <= -0.46078646183013916)
          Predict: 8.0
         Else (feature 2 > -0.46078646183013916)
          Predict: 5.0
        Else (feature 4 > -0.09017189592123032)
         If (feature 11 <= -1.2869747877120972)
          Predict: 4.0
         Else (feature 11 > -1.2869747877120972)
          Predict: 1.0
     Else (feature 6 > 0.14640167355537415)
      If (feature 4 <= 0.22408008575439453)
       If (feature 11 <= -0.2779216170310974)
        If (feature 2 <= -0.09734496474266052)
         If (feature 9 <= -0.24886742234230042)
          Predict: 1.0
         Else (feature 9 > -0.24886742234230042)
          Predict: 5.0
        Else (feature 2 > -0.09734496474266052)
         If (feature 5 <= -0.8299907445907593)
          Predict: 5.0
         Else (feature 5 > -0.8299907445907593)
          Predict: 5.0
       Else (feature 11 > -0.2779216170310974)
        If (feature 5 <= -0.6860373616218567)
         Predict: 8.0
        Else (feature 5 > -0.6860373616218567)
         If (feature 5 <= -0.27282407879829407)
          Predict: 5.0
         Else (feature 5 > -0.27282407879829407)
          Predict: 7.0
      Else (feature 4 > 0.22408008575439453)
       If (feature 3 <= -0.3916059732437134)
        If (feature 4 <= 0.696906566619873)
         If (feature 0 <= 0.3656036853790283)
          Predict: 5.0
         Else (feature 0 > 0.3656036853790283)
          Predict: 7.0
        Else (feature 4 > 0.696906566619873)
         If (feature 0 <= -0.02538127452135086)
          Predict: 0.0
         Else (feature 0 > -0.02538127452135086)
          Predict: 13.0
       Else (feature 3 > -0.3916059732437134)
        If (feature 5 <= -0.533708930015564)
         If (feature 0 <= -0.8590327501296997)
          Predict: 11.0
         Else (feature 0 > -0.8590327501296997)
          Predict: 14.0
        Else (feature 5 > -0.533708930015564)
         If (feature 1 <= -0.1882067322731018)
          Predict: 10.0
         Else (feature 1 > -0.1882067322731018)
          Predict: 1.0
    Else (feature 7 > 1.0353559255599976)
     If (feature 0 <= -0.26239514350891113)
      If (feature 4 <= -0.09017189592123032)
       If (feature 0 <= -0.5264184474945068)
        Predict: 5.0
       Else (feature 0 > -0.5264184474945068)
        If (feature 1 <= -0.026223942637443542)
         Predict: 6.0
        Else (feature 1 > -0.026223942637443542)
         Predict: 8.0
      Else (feature 4 > -0.09017189592123032)
       If (feature 3 <= -0.5308600068092346)
        Predict: 12.0
       Else (feature 3 > -0.5308600068092346)
        Predict: 1.0
     Else (feature 0 > -0.26239514350891113)
      If (feature 5 <= -0.7505891919136047)
       If (feature 6 <= 0.29299283027648926)
        If (feature 2 <= 0.5971070528030396)
         Predict: 8.0
        Else (feature 2 > 0.5971070528030396)
         Predict: 0.0
       Else (feature 6 > 0.29299283027648926)
        If (feature 1 <= 0.5527645349502563)
         Predict: 7.0
        Else (feature 1 > 0.5527645349502563)
         Predict: 5.0
      Else (feature 5 > -0.7505891919136047)
       If (feature 10 <= -1.3524930477142334)
        Predict: 8.0
       Else (feature 10 > -1.3524930477142334)
        If (feature 0 <= 0.15681356191635132)
         If (feature 11 <= -0.5400368571281433)
          Predict: 1.0
         Else (feature 11 > -0.5400368571281433)
          Predict: 7.0
        Else (feature 0 > 0.15681356191635132)
         If (feature 3 <= -0.3916059732437134)
          Predict: 7.0
         Else (feature 3 > -0.3916059732437134)
          Predict: 5.0
   Else (feature 3 > -0.270315021276474)
    If (feature 1 <= 0.1528576910495758)
     If (feature 5 <= -0.20432859659194946)
      If (feature 4 <= 0.15351375937461853)
       If (feature 6 <= 0.14640167355537415)
        If (feature 4 <= -0.4512247145175934)
         Predict: 8.0
        Else (feature 4 > -0.4512247145175934)
         If (feature 10 <= -1.1545145511627197)
          Predict: 8.0
         Else (feature 10 > -1.1545145511627197)
          Predict: 6.0
       Else (feature 6 > 0.14640167355537415)
        If (feature 0 <= -0.6394551396369934)
         If (feature 1 <= -0.5296913981437683)
          Predict: 4.0
         Else (feature 1 > -0.5296913981437683)
          Predict: 1.0
        Else (feature 0 > -0.6394551396369934)
         If (feature 7 <= 0.8547879457473755)
          Predict: 5.0
         Else (feature 7 > 0.8547879457473755)
          Predict: 3.0
      Else (feature 4 > 0.15351375937461853)
       If (feature 1 <= -0.026223942637443542)
        If (feature 6 <= 0.6835197806358337)
         If (feature 2 <= -0.7155903577804565)
          Predict: 6.0
         Else (feature 2 > -0.7155903577804565)
          Predict: 0.0
        Else (feature 6 > 0.6835197806358337)
         If (feature 0 <= -0.21623797714710236)
          Predict: 1.0
         Else (feature 0 > -0.21623797714710236)
          Predict: 3.0
       Else (feature 1 > -0.026223942637443542)
        If (feature 2 <= -0.02060030773282051)
         If (feature 0 <= -0.21623797714710236)
          Predict: 6.0
         Else (feature 0 > -0.21623797714710236)
          Predict: 3.0
        Else (feature 2 > -0.02060030773282051)
         If (feature 3 <= -4.2473641224205494E-4)
          Predict: 5.0
         Else (feature 3 > -4.2473641224205494E-4)
          Predict: 0.0
     Else (feature 5 > -0.20432859659194946)
      If (feature 2 <= 0.651933491230011)
       If (feature 1 <= -0.026223942637443542)
        If (feature 0 <= -0.26239514350891113)
         If (feature 4 <= 0.301957905292511)
          Predict: 6.0
         Else (feature 4 > 0.301957905292511)
          Predict: 10.0
        Else (feature 0 > -0.26239514350891113)
         If (feature 9 <= -0.5561510324478149)
          Predict: 4.0
         Else (feature 9 > -0.5561510324478149)
          Predict: 10.0
       Else (feature 1 > -0.026223942637443542)
        If (feature 9 <= 0.19404537975788116)
         If (feature 11 <= -0.6328675150871277)
          Predict: 1.0
         Else (feature 11 > -0.6328675150871277)
          Predict: 7.0
        Else (feature 9 > 0.19404537975788116)
         If (feature 0 <= -0.02538127452135086)
          Predict: 10.0
         Else (feature 0 > -0.02538127452135086)
          Predict: 2.0
      Else (feature 2 > 0.651933491230011)
       If (feature 4 <= 0.33439522981643677)
        Predict: 1.0
       Else (feature 4 > 0.33439522981643677)
        Predict: 2.0
    Else (feature 1 > 0.1528576910495758)
     If (feature 4 <= -0.005388649180531502)
      If (feature 7 <= 0.961594820022583)
       If (feature 6 <= -0.42825961112976074)
        If (feature 0 <= -0.17236462235450745)
         Predict: 6.0
        Else (feature 0 > -0.17236462235450745)
         Predict: 8.0
       Else (feature 6 > -0.42825961112976074)
        If (feature 5 <= -0.4527931809425354)
         If (feature 11 <= -0.7456893920898438)
          Predict: 5.0
         Else (feature 11 > -0.7456893920898438)
          Predict: 8.0
        Else (feature 5 > -0.4527931809425354)
         If (feature 0 <= -0.0926823765039444)
          Predict: 1.0
         Else (feature 0 > -0.0926823765039444)
          Predict: 5.0
      Else (feature 7 > 0.961594820022583)
       If (feature 0 <= -0.21623797714710236)
        If (feature 1 <= 0.6198479533195496)
         Predict: 8.0
        Else (feature 1 > 0.6198479533195496)
         Predict: 1.0
       Else (feature 0 > -0.21623797714710236)
        If (feature 2 <= 0.7200050950050354)
         If (feature 0 <= 0.4055299460887909)
          Predict: 9.0
         Else (feature 0 > 0.4055299460887909)
          Predict: 7.0
        Else (feature 2 > 0.7200050950050354)
         If (feature 0 <= 0.00636709202080965)
          Predict: 2.0
         Else (feature 0 > 0.00636709202080965)
          Predict: 1.0
     Else (feature 4 > -0.005388649180531502)
      If (feature 0 <= 0.3656036853790283)
       If (feature 9 <= 0.25397148728370667)
        If (feature 5 <= -0.7505891919136047)
         If (feature 1 <= 0.5163325667381287)
          Predict: 3.0
         Else (feature 1 > 0.5163325667381287)
          Predict: 0.0
        Else (feature 5 > -0.7505891919136047)
         If (feature 7 <= 0.007975684478878975)
          Predict: 5.0
         Else (feature 7 > 0.007975684478878975)
          Predict: 1.0
       Else (feature 9 > 0.25397148728370667)
        If (feature 5 <= 0.15625056624412537)
         If (feature 7 <= 0.961594820022583)
          Predict: 1.0
         Else (feature 7 > 0.961594820022583)
          Predict: 2.0
        Else (feature 5 > 0.15625056624412537)
         If (feature 4 <= 0.15351375937461853)
          Predict: 10.0
         Else (feature 4 > 0.15351375937461853)
          Predict: 2.0
      Else (feature 0 > 0.3656036853790283)
       If (feature 6 <= 0.2608985900878906)
        If (feature 3 <= 0.062326397746801376)
         If (feature 3 <= -0.23341499269008636)
          Predict: 2.0
         Else (feature 3 > -0.23341499269008636)
          Predict: 0.0
        Else (feature 3 > 0.062326397746801376)
         If (feature 1 <= 0.5885239839553833)
          Predict: 10.0
         Else (feature 1 > 0.5885239839553833)
          Predict: 1.0
       Else (feature 6 > 0.2608985900878906)
        If (feature 9 <= 0.19404537975788116)
         If (feature 1 <= 0.20310048758983612)
          Predict: 11.0
         Else (feature 1 > 0.20310048758983612)
          Predict: 3.0
        Else (feature 9 > 0.19404537975788116)
         If (feature 3 <= -0.06385564059019089)
          Predict: 5.0
         Else (feature 3 > -0.06385564059019089)
          Predict: 1.0

Done, making predictions
Accuracy of latent tree on training set: 0.686274509804
Accuracy of latent tree on test set: 0.524924924925
Building meta training set
Training a meta tree
DecisionTreeModel classifier of depth 8 with 347 nodes
  If (average_rating <= 3.3247682119205297)
   If (year <= 1998.0)
    If (Isn't imdb_keywords:slasher)
     If (Isn't movielens_genre:Action)
      If (Isn't movielens_genre:Horror)
       If (Isn't imdb_keywords:erotica)
        If (Isn't imdb_keywords:good-versus-evil)
         If (Isn't imdb_keywords:blockbuster)
          Predict: 2.0
         Else (Is imdb_keywords:blockbuster)
          Predict: 2.0
        Else (Is imdb_keywords:good-versus-evil)
         If (Isn't imdb_keywords:campfire)
          Predict: 0.0
         Else (Is imdb_keywords:campfire)
          Predict: 2.0
       Else (Is imdb_keywords:erotica)
        If (Isn't imdb_keywords:rifle)
         If (Isn't imdb_keywords:homosexual)
          Predict: 12.0
         Else (Is imdb_keywords:homosexual)
          Predict: 14.0
        Else (Is imdb_keywords:rifle)
         Predict: 8.0
      Else (Is movielens_genre:Horror)
       If (year <= 1992.0)
        If (Isn't imdb_keywords:ex-husband-ex-wife-relationship)
         If (Isn't imdb_keywords:prologue)
          Predict: 6.0
         Else (Is imdb_keywords:prologue)
          Predict: 0.0
        Else (Is imdb_keywords:ex-husband-ex-wife-relationship)
         Predict: 2.0
       Else (year > 1992.0)
        If (Isn't imdb_keywords:ghost)
         If (Isn't movielens_genre:Crime)
          Predict: 10.0
         Else (Is movielens_genre:Crime)
          Predict: 12.0
        Else (Is imdb_keywords:ghost)
         If (Isn't imdb_keywords:bare-chested-male)
          Predict: 0.0
         Else (Is imdb_keywords:bare-chested-male)
          Predict: 4.0
     Else (Is movielens_genre:Action)
      If (year <= 1986.0)
       If (average_rating <= 3.0)
        If (Isn't imdb_keywords:uzi)
         If (Isn't tvtropes:big bad)
          Predict: 0.0
         Else (Is tvtropes:big bad)
          Predict: 0.0
        Else (Is imdb_keywords:uzi)
         If (Isn't imdb_keywords:shot-in-the-back)
          Predict: 10.0
         Else (Is imdb_keywords:shot-in-the-back)
          Predict: 10.0
       Else (average_rating > 3.0)
        If (Isn't imdb_keywords:mask)
         If (Isn't tvtropes:heel face turn)
          Predict: 1.0
         Else (Is tvtropes:heel face turn)
          Predict: 0.0
        Else (Is imdb_keywords:mask)
         Predict: 6.0
      Else (year > 1986.0)
       If (average_rating <= 3.0)
        If (Isn't imdb_keywords:singing)
         If (Isn't imdb_keywords:gay)
          Predict: 10.0
         Else (Is imdb_keywords:gay)
          Predict: 3.0
        Else (Is imdb_keywords:singing)
         Predict: 0.0
       Else (average_rating > 3.0)
        If (Isn't imdb_keywords:semiautomatic-pistol)
         If (Isn't imdb_keywords:based-on-novel)
          Predict: 2.0
         Else (Is imdb_keywords:based-on-novel)
          Predict: 3.0
        Else (Is imdb_keywords:semiautomatic-pistol)
         If (Isn't imdb_keywords:restaurant)
          Predict: 10.0
         Else (Is imdb_keywords:restaurant)
          Predict: 1.0
    Else (Is imdb_keywords:slasher)
     If (Isn't imdb_keywords:based-on-true-story)
      If (Isn't imdb_keywords:topless-female-nudity)
       If (Isn't imdb_keywords:doctor)
        If (Isn't imdb_keywords:automobile)
         If (year <= 1965.0)
          Predict: 9.0
         Else (year > 1965.0)
          Predict: 6.0
        Else (Is imdb_keywords:automobile)
         If (year <= 1975.0)
          Predict: 0.0
         Else (year > 1975.0)
          Predict: 10.0
       Else (Is imdb_keywords:doctor)
        If (average_rating <= 2.7483031674208145)
         If (Isn't imdb_keywords:b-movie)
          Predict: 6.0
         Else (Is imdb_keywords:b-movie)
          Predict: 2.0
        Else (average_rating > 2.7483031674208145)
         If (Isn't movielens_tags:Betamax)
          Predict: 14.0
         Else (Is movielens_tags:Betamax)
          Predict: 0.0
      Else (Is imdb_keywords:topless-female-nudity)
       If (year <= 1983.0)
        If (Isn't movielens_genre:Thriller)
         Predict: 14.0
        Else (Is movielens_genre:Thriller)
         Predict: 12.0
       Else (year > 1983.0)
        Predict: 8.0
     Else (Is imdb_keywords:based-on-true-story)
      Predict: 8.0
   Else (year > 1998.0)
    If (Isn't movielens_genre:Action)
     If (Isn't movielens_genre:Horror)
      If (average_rating <= 3.0)
       If (Isn't movielens_genre:Drama)
        If (Isn't movielens_tags:comedy)
         If (Isn't imdb_keywords:marijuana)
          Predict: 13.0
         Else (Is imdb_keywords:marijuana)
          Predict: 11.0
        Else (Is movielens_tags:comedy)
         If (Isn't imdb_keywords:bus)
          Predict: 11.0
         Else (Is imdb_keywords:bus)
          Predict: 3.0
       Else (Is movielens_genre:Drama)
        If (Isn't imdb_keywords:pistol)
         If (average_rating <= 2.5148936170212766)
          Predict: 2.0
         Else (average_rating > 2.5148936170212766)
          Predict: 12.0
        Else (Is imdb_keywords:pistol)
         If (Isn't imdb_keywords:infidelity)
          Predict: 13.0
         Else (Is imdb_keywords:infidelity)
          Predict: 3.0
      Else (average_rating > 3.0)
       If (Isn't movielens_tags:comedy)
        If (Isn't imdb_keywords:car-crash)
         If (Isn't imdb_keywords:betrayal)
          Predict: 9.0
         Else (Is imdb_keywords:betrayal)
          Predict: 3.0
        Else (Is imdb_keywords:car-crash)
         If (Isn't imdb_keywords:condom)
          Predict: 3.0
         Else (Is imdb_keywords:condom)
          Predict: 11.0
       Else (Is movielens_tags:comedy)
        If (Isn't movielens_genre:Drama)
         If (Isn't imdb_keywords:cat)
          Predict: 11.0
         Else (Is imdb_keywords:cat)
          Predict: 0.0
        Else (Is movielens_genre:Drama)
         If (year <= 2003.0)
          Predict: 9.0
         Else (year > 2003.0)
          Predict: 13.0
     Else (Is movielens_genre:Horror)
      If (Isn't imdb_keywords:blood-splatter)
       If (Isn't imdb_keywords:bare-breasts)
        If (Isn't imdb_keywords:house)
         If (Isn't imdb_keywords:female-nudity)
          Predict: 13.0
         Else (Is imdb_keywords:female-nudity)
          Predict: 6.0
        Else (Is imdb_keywords:house)
         If (Isn't movielens_tags:nudity (full frontal))
          Predict: 6.0
         Else (Is movielens_tags:nudity (full frontal))
          Predict: 12.0
       Else (Is imdb_keywords:bare-breasts)
        If (year <= 2004.0)
         Predict: 7.0
        Else (year > 2004.0)
         Predict: 11.0
      Else (Is imdb_keywords:blood-splatter)
       If (year <= 2009.0)
        If (Isn't imdb_keywords:cigarette-smoking)
         If (Isn't imdb_keywords:kiss)
          Predict: 6.0
         Else (Is imdb_keywords:kiss)
          Predict: 10.0
        Else (Is imdb_keywords:cigarette-smoking)
         If (Isn't imdb_keywords:threatened-with-a-knife)
          Predict: 6.0
         Else (Is imdb_keywords:threatened-with-a-knife)
          Predict: 10.0
       Else (year > 2009.0)
        If (Isn't imdb_keywords:death-of-wife)
         If (Isn't imdb_keywords:one-word-title)
          Predict: 6.0
         Else (Is imdb_keywords:one-word-title)
          Predict: 4.0
        Else (Is imdb_keywords:death-of-wife)
         Predict: 2.0
    Else (Is movielens_genre:Action)
     If (Isn't movielens_tags:action)
      If (Isn't movielens_tags:BD-Video)
       If (average_rating <= 3.0)
        If (Isn't imdb_keywords:female-nudity)
         If (Isn't imdb_keywords:sniper-rifle)
          Predict: 13.0
         Else (Is imdb_keywords:sniper-rifle)
          Predict: 10.0
        Else (Is imdb_keywords:female-nudity)
         If (Isn't imdb_keywords:gunfight)
          Predict: 11.0
         Else (Is imdb_keywords:gunfight)
          Predict: 13.0
       Else (average_rating > 3.0)
        If (Isn't imdb_keywords:assassination-attempt)
         If (Isn't imdb_keywords:scene-during-end-credits)
          Predict: 4.0
         Else (Is imdb_keywords:scene-during-end-credits)
          Predict: 6.0
        Else (Is imdb_keywords:assassination-attempt)
         If (Isn't imdb_keywords:cigarette-smoking)
          Predict: 13.0
         Else (Is imdb_keywords:cigarette-smoking)
          Predict: 0.0
      Else (Is movielens_tags:BD-Video)
       If (Isn't imdb_keywords:black-comedy)
        Predict: 13.0
       Else (Is imdb_keywords:black-comedy)
        Predict: 4.0
     Else (Is movielens_tags:action)
      If (Isn't imdb_keywords:cafe)
       If (Isn't imdb_keywords:digit-in-title)
        If (Isn't tvtropes:even evil has standards)
         If (Isn't imdb_keywords:brother-sister-relationship)
          Predict: 13.0
         Else (Is imdb_keywords:brother-sister-relationship)
          Predict: 4.0
        Else (Is tvtropes:even evil has standards)
         If (Isn't imdb_keywords:assassination-attempt)
          Predict: 4.0
         Else (Is imdb_keywords:assassination-attempt)
          Predict: 13.0
       Else (Is imdb_keywords:digit-in-title)
        Predict: 4.0
      Else (Is imdb_keywords:cafe)
       Predict: 3.0
  Else (average_rating > 3.3247682119205297)
   If (year <= 1990.0)
    If (year <= 1965.0)
     If (average_rating <= 3.943820224719101)
      If (year <= 1946.0)
       If (Isn't imdb_keywords:colonel)
        If (Isn't imdb_keywords:female-protagonist)
         If (Isn't imdb_producer:)
          Predict: 5.0
         Else (Is imdb_producer:)
          Predict: 14.0
        Else (Is imdb_keywords:female-protagonist)
         If (Isn't movielens_genre:Adventure)
          Predict: 14.0
         Else (Is movielens_genre:Adventure)
          Predict: 0.0
       Else (Is imdb_keywords:colonel)
        If (Isn't movielens_genre:Drama)
         Predict: 14.0
        Else (Is movielens_genre:Drama)
         Predict: 6.0
      Else (year > 1946.0)
       If (Isn't movielens_genre:Action)
        If (Isn't imdb_keywords:poverty)
         If (Isn't movielens_genre:Sci-Fi)
          Predict: 5.0
         Else (Is movielens_genre:Sci-Fi)
          Predict: 1.0
        Else (Is imdb_keywords:poverty)
         If (Isn't imdb_keywords:champagne)
          Predict: 8.0
         Else (Is imdb_keywords:champagne)
          Predict: 1.0
       Else (Is movielens_genre:Action)
        If (Isn't imdb_keywords:boat)
         Predict: 1.0
        Else (Is imdb_keywords:boat)
         If (year <= 1956.0)
          Predict: 8.0
         Else (year > 1956.0)
          Predict: 10.0
     Else (average_rating > 3.943820224719101)
      If (Isn't imdb_keywords:magic)
       If (Isn't imdb_keywords:cowboy)
        If (Isn't movielens_tags:true story)
         If (Isn't imdb_keywords:archive-footage)
          Predict: 5.0
         Else (Is imdb_keywords:archive-footage)
          Predict: 9.0
        Else (Is movielens_tags:true story)
         If (year <= 1946.0)
          Predict: 5.0
         Else (year > 1946.0)
          Predict: 1.0
       Else (Is imdb_keywords:cowboy)
        If (year <= 1946.0)
         Predict: 14.0
        Else (year > 1946.0)
         Predict: 1.0
      Else (Is imdb_keywords:magic)
       If (year <= 1946.0)
        Predict: 14.0
       Else (year > 1946.0)
        Predict: 8.0
    Else (year > 1965.0)
     If (Isn't imdb_keywords:tough-guy)
      If (Isn't imdb_keywords:blockbuster)
       If (Isn't imdb_keywords:surrealism)
        If (Isn't movielens_genre:Thriller)
         If (Isn't imdb_keywords:19th-century)
          Predict: 1.0
         Else (Is imdb_keywords:19th-century)
          Predict: 5.0
        Else (Is movielens_genre:Thriller)
         If (average_rating <= 3.5627035830618894)
          Predict: 1.0
         Else (average_rating > 3.5627035830618894)
          Predict: 1.0
       Else (Is imdb_keywords:surrealism)
        If (Isn't movielens_genre:Horror)
         If (Isn't imdb_keywords:russia)
          Predict: 7.0
         Else (Is imdb_keywords:russia)
          Predict: 8.0
        Else (Is movielens_genre:Horror)
         If (Isn't imdb_keywords:female-protagonist)
          Predict: 8.0
         Else (Is imdb_keywords:female-protagonist)
          Predict: 6.0
      Else (Is imdb_keywords:blockbuster)
       If (average_rating <= 3.678729689807976)
        If (year <= 1979.0)
         If (Isn't imdb_keywords:anger)
          Predict: 1.0
         Else (Is imdb_keywords:anger)
          Predict: 0.0
        Else (year > 1979.0)
         If (Isn't movielens_tags:erlend's DVDs)
          Predict: 2.0
         Else (Is movielens_tags:erlend's DVDs)
          Predict: 9.0
       Else (average_rating > 3.678729689807976)
        If (Isn't imdb_keywords:bisexual)
         If (Isn't movielens_tags:funny)
          Predict: 1.0
         Else (Is movielens_tags:funny)
          Predict: 2.0
        Else (Is imdb_keywords:bisexual)
         Predict: 14.0
     Else (Is imdb_keywords:tough-guy)
      If (Isn't movielens_tags:less than 300 ratings)
       If (Isn't movielens_tags:Criterion)
        If (Isn't imdb_keywords:wine)
         If (Isn't imdb_keywords:baby)
          Predict: 1.0
         Else (Is imdb_keywords:baby)
          Predict: 8.0
        Else (Is imdb_keywords:wine)
         If (year <= 1971.0)
          Predict: 5.0
         Else (year > 1971.0)
          Predict: 4.0
       Else (Is movielens_tags:Criterion)
        Predict: 5.0
      Else (Is movielens_tags:less than 300 ratings)
       If (Isn't imdb_keywords:brother-brother-relationship)
        Predict: 5.0
       Else (Is imdb_keywords:brother-brother-relationship)
        Predict: 0.0
   Else (year > 1990.0)
    If (Isn't movielens_genre:Action)
     If (average_rating <= 3.601255762199968)
      If (Isn't movielens_genre:Horror)
       If (Isn't movielens_tags:comedy)
        If (Isn't imdb_keywords:independent-film)
         If (Isn't imdb_keywords:gay-kiss)
          Predict: 3.0
         Else (Is imdb_keywords:gay-kiss)
          Predict: 14.0
        Else (Is imdb_keywords:independent-film)
         If (year <= 1998.0)
          Predict: 7.0
         Else (year > 1998.0)
          Predict: 9.0
       Else (Is movielens_tags:comedy)
        If (Isn't imdb_keywords:accidental-death)
         If (Isn't imdb_keywords:female-protagonist)
          Predict: 11.0
         Else (Is imdb_keywords:female-protagonist)
          Predict: 14.0
        Else (Is imdb_keywords:accidental-death)
         Predict: 9.0
      Else (Is movielens_genre:Horror)
       If (Isn't imdb_keywords:evil)
        If (Isn't imdb_keywords:zombie)
         If (Isn't movielens_tags:R)
          Predict: 6.0
         Else (Is movielens_tags:R)
          Predict: 4.0
        Else (Is imdb_keywords:zombie)
         Predict: 4.0
       Else (Is imdb_keywords:evil)
        If (Isn't imdb_keywords:child)
         Predict: 0.0
        Else (Is imdb_keywords:child)
         If (year <= 2005.0)
          Predict: 8.0
         Else (year > 2005.0)
          Predict: 3.0
     Else (average_rating > 3.601255762199968)
      If (Isn't imdb_keywords:violence)
       If (Isn't movielens_tags:quirky)
        If (Isn't movielens_tags:slow)
         If (Isn't imdb_keywords:england)
          Predict: 9.0
         Else (Is imdb_keywords:england)
          Predict: 14.0
        Else (Is movielens_tags:slow)
         If (Isn't movielens_tags:fantasy)
          Predict: 9.0
         Else (Is movielens_tags:fantasy)
          Predict: 4.0
       Else (Is movielens_tags:quirky)
        If (Isn't imdb_keywords:london-england)
         If (Isn't imdb_keywords:death-of-mother)
          Predict: 9.0
         Else (Is imdb_keywords:death-of-mother)
          Predict: 2.0
        Else (Is imdb_keywords:london-england)
         Predict: 3.0
      Else (Is imdb_keywords:violence)
       If (year <= 1994.0)
        If (Isn't movielens_tags:quirky)
         If (Isn't imdb_keywords:psychopath)
          Predict: 9.0
         Else (Is imdb_keywords:psychopath)
          Predict: 1.0
        Else (Is movielens_tags:quirky)
         Predict: 9.0
       Else (year > 1994.0)
        If (Isn't imdb_keywords:class)
         If (Isn't tvtropes:mind screw)
          Predict: 9.0
         Else (Is tvtropes:mind screw)
          Predict: 8.0
        Else (Is imdb_keywords:class)
         If (Isn't imdb_keywords:drunkenness)
          Predict: 3.0
         Else (Is imdb_keywords:drunkenness)
          Predict: 5.0
    Else (Is movielens_genre:Action)
     If (Isn't movielens_genre:Sci-Fi)
      If (Isn't imdb_keywords:mixed-martial-arts)
       If (Isn't movielens_tags:Tumey's DVDs)
        If (Isn't movielens_genre:Comedy)
         If (Isn't imdb_keywords:african-american)
          Predict: 3.0
         Else (Is imdb_keywords:african-american)
          Predict: 9.0
        Else (Is movielens_genre:Comedy)
         If (Isn't tvtropes:large ham)
          Predict: 11.0
         Else (Is tvtropes:large ham)
          Predict: 4.0
       Else (Is movielens_tags:Tumey's DVDs)
        If (Isn't tvtropes:badass)
         If (Isn't movielens_genre:Horror)
          Predict: 9.0
         Else (Is movielens_genre:Horror)
          Predict: 6.0
        Else (Is tvtropes:badass)
         Predict: 1.0
      Else (Is imdb_keywords:mixed-martial-arts)
       If (Isn't imdb_keywords:airplane)
        If (Isn't tvtropes:what the hell hero)
         If (year <= 1997.0)
          Predict: 2.0
         Else (year > 1997.0)
          Predict: 4.0
        Else (Is tvtropes:what the hell hero)
         Predict: 13.0
       Else (Is imdb_keywords:airplane)
        If (Isn't imdb_keywords:neo-noir)
         If (year <= 1996.0)
          Predict: 1.0
         Else (year > 1996.0)
          Predict: 13.0
        Else (Is imdb_keywords:neo-noir)
         If (year <= 1997.0)
          Predict: 2.0
         Else (year > 1997.0)
          Predict: 4.0
     Else (Is movielens_genre:Sci-Fi)
      If (year <= 2007.0)
       If (Isn't imdb_keywords:kicked-in-the-face)
        If (Isn't imdb_keywords:neo-noir)
         If (Isn't imdb_keywords:blockbuster)
          Predict: 2.0
         Else (Is imdb_keywords:blockbuster)
          Predict: 13.0
        Else (Is imdb_keywords:neo-noir)
         Predict: 9.0
       Else (Is imdb_keywords:kicked-in-the-face)
        Predict: 4.0
      Else (year > 2007.0)
       Predict: 4.0

Done, making predictions
Accuracy of meta tree on training set: 0.471936148301
Accuracy of meta tree on test set: 0.326045016077
117 features used
Cluster 9 (variance: 0.999840792084):
Traceback (most recent call last):
  File "/longterm/sophiak/fop_qii/product_clustering.py", line 453, in <module>
    main()
  File "/longterm/sophiak/fop_qii/product_clustering.py", line 317, in main
    classifier=True, class_of_interest=cluster)
  File "/longterm/sophiak/fop_qii/tree_qii.py", line 101, in get_tree_qii
    class_of_interest=class_of_interest)
  File "/longterm/sophiak/fop_qii/common_utils.py", line 126, in compute_regression_qii
    if signed_error == 0:
UnboundLocalError: local variable 'signed_error' referenced before assignment
