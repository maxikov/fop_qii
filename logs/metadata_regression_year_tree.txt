2017-05-09 15:08:43,767 - __main__ - DEBUG - rank: 12, lmbda: 0.02, num_iter: 300, num_partitions: 7
2017-05-09 15:08:43,767 - __main__ - DEBUG - data_path: datasets/ml-20m/, checkpoint_dir: /home/maxikov/spark_dir
2017-05-09 15:08:43,767 - __main__ - DEBUG - Temp dir: /home/maxikov/spark_dir
2017-05-09 15:08:43,767 - __main__ - DEBUG - local_threads: *
2017-05-09 15:08:43,767 - __main__ - DEBUG - spark_executor_memory: 25g
2017-05-09 15:08:43,767 - __main__ - DEBUG - regression_model: regression_tree
2017-05-09 15:08:43,767 - __main__ - DEBUG - nbins: 32
2017-05-09 15:08:43,767 - __main__ - DEBUG - regression_users: False
2017-05-09 15:08:43,767 - __main__ - DEBUG - predict_product_features: False
2017-05-09 15:08:43,767 - __main__ - DEBUG - metadata_sources: ['years']
2017-05-09 15:08:43,767 - __main__ - DEBUG - movies_file: datasets/ml-20m/ml-20m.imdb.medium.csv
2017-05-09 15:08:43,767 - __main__ - DEBUG - cross_validation: 70
2017-05-09 15:08:43,767 - __main__ - DEBUG - tvtropes_file: datasets/dbtropes/tropes.csv
2017-05-09 15:08:43,767 - __main__ - DEBUG - features_trim_percentile: 0
2017-05-09 15:08:43,767 - __main__ - DEBUG - drop_missing_movies: False
2017-05-09 15:08:43,767 - __main__ - DEBUG - drop_rare_features: 100
2017-05-09 15:08:43,768 - __main__ - DEBUG - filter_data_set: 10
2017-05-09 15:08:43,768 - __main__ - DEBUG - persist_dir: /home/maxikov/year_tree.state, override_args: False
2017-05-09 15:08:43,768 - __main__ - DEBUG - drop_rare_movies: 1
2017-05-09 15:08:43,768 - __main__ - DEBUG - /home/maxikov/year_tree.state/args.pkl not found, loading new
2017-05-09 15:08:43,768 - __main__ - DEBUG - Storing in /home/maxikov/year_tree.state/args.pkl
2017-05-09 15:08:44,983 - __main__ - DEBUG - msep: ,
2017-05-09 15:08:44,983 - __main__ - DEBUG - Loading ratings
2017-05-09 15:08:52,739 - __main__ - DEBUG - Done in 7.756297 seconds
2017-05-09 15:08:52,739 - __main__ - DEBUG - Loading movies
2017-05-09 15:08:53,950 - __main__ - DEBUG - Done in 1.210258 seconds
2017-05-09 15:08:53,950 - __main__ - DEBUG - 26804 movies loaded
2017-05-09 15:09:54,042 - __main__ - DEBUG - 19912669 records in the training set
2017-05-09 15:10:01,047 - __main__ - DEBUG - 26284 unique movies in the training set
2017-05-09 15:10:01,047 - __main__ - DEBUG - Loading /home/maxikov/year_tree.state/als_model.pkl
2017-05-09 15:10:03,654 - __main__ - DEBUG - /home/maxikov/year_tree.state/features_indicators.pkl not found, building new features
2017-05-09 15:10:03,654 - __main__ - DEBUG - Loading years
2017-05-09 15:10:03,882 - __main__ - DEBUG - Done in 0.227623939514 seconds
2017-05-09 15:10:03,882 - __main__ - DEBUG - 26804 records of 1 features loaded
2017-05-09 15:10:04,101 - __main__ - DEBUG - No missing IDs
2017-05-09 15:10:04,101 - __main__ - DEBUG - Dropping features with less than 100 non-zero values
2017-05-09 15:10:04,320 - __main__ - DEBUG - Dropping 0 features
2017-05-09 15:10:04,327 - __main__ - DEBUG - 1 features remaining
2017-05-09 15:10:04,327 - __main__ - DEBUG - Done in 0.226366 seconds
2017-05-09 15:10:04,328 - __main__ - DEBUG - 1 features loaded
2017-05-09 15:10:04,328 - __main__ - DEBUG - Dropping movies with fewer than 1 non-zero features
2017-05-09 15:10:05,369 - __main__ - DEBUG - 26284 movies left
2017-05-09 15:10:08,777 - __main__ - DEBUG - 19912669 items left in the training set
2017-05-09 15:10:08,934 - __main__ - DEBUG - Building training and test sets for regression
2017-05-09 15:10:08,935 - __main__ - DEBUG - 18399 items in training and 7885 in test set
2017-05-09 15:10:08,948 - __main__ - DEBUG - Writing /home/maxikov/year_tree.state/features_indicators.pkl
2017-05-09 15:30:52,988 - __main__ - DEBUG - /home/maxikov/year_tree.state/results.pkl not found, loading new
2017-05-09 15:30:52,988 - __main__ - DEBUG - Computing mean feature values
2017-05-09 15:30:53,319 - __main__ - DEBUG - Done in 0.330312 seconds
2017-05-09 15:30:53,319 - __main__ - DEBUG - Mean product feature values: {0: 0.5807129578188539, 1: 0.3706228421152521, 2: 0.367308831210969, 3: 0.37643754681835123, 4: 0.5903138269546087, 5: 0.43369538782228967, 6: 0.503686250252167, 7: 0.31332803429804573, 8: 0.3826698111582043, 9: 0.515421193882922, 10: 0.4875445476884888, 11: 0.5898100437672136}
2017-05-09 15:30:53,319 - __main__ - DEBUG - Computing feature ranges
2017-05-09 15:30:53,364 - __main__ - DEBUG - Detected 12 features
2017-05-09 15:30:53,731 - __main__ - DEBUG - Feature ranges: {0: {'_max': 4.05496072769165, 'min': 0.0}, 1: {'_max': 2.937729835510254, 'min': 0.0}, 2: {'_max': 3.427408218383789, 'min': 0.0}, 3: {'_max': 4.784975528717041, 'min': 0.0}, 4: {'_max': 3.8395378589630127, 'min': 0.0}, 5: {'_max': 3.5509934425354004, 'min': 0.0}, 6: {'_max': 4.278365612030029, 'min': 0.0}, 7: {'_max': 3.4786112308502197, 'min': 0.0}, 8: {'_max': 3.727963924407959, 'min': 0.0}, 9: {'_max': 3.6092135906219482, 'min': 0.0}, 10: {'_max': 4.384187698364258, 'min': 0.0}, 11: {'_max': 3.493175506591797, 'min': 0.0}}
2017-05-09 15:30:53,731 - __main__ - DEBUG - Computing mean feature values
2017-05-09 15:30:54,001 - __main__ - DEBUG - Done in 0.270402 seconds
2017-05-09 15:30:54,001 - __main__ - DEBUG - Mean product feature values: {0: 1989.793981129204}
2017-05-09 15:30:54,001 - __main__ - DEBUG - Computing feature ranges
2017-05-09 15:30:54,048 - __main__ - DEBUG - Detected 1 features
2017-05-09 15:30:54,386 - __main__ - DEBUG - Feature ranges: {0: {'_max': 2015.0, 'min': 1891.0}}
2017-05-09 15:30:54,386 - __main__ - DEBUG - Storing in /home/maxikov/year_tree.state/results.pkl
2017-05-09 15:30:54,387 - __main__ - DEBUG - Processing year (0 out of 1)
2017-05-09 15:30:54,387 - __main__ - DEBUG - Processing feature 0
2017-05-09 15:30:54,387 - __main__ - DEBUG - Building data set
2017-05-09 15:30:54,502 - __main__ - DEBUG - Done in 0.115266084671 seconds
2017-05-09 15:30:54,502 - __main__ - DEBUG - Training regression_tree
2017-05-09 15:30:56,884 - __main__ - DEBUG - Done in 2.38191699982 seconds
2017-05-09 15:30:57,433 - __main__ - INFO - DecisionTreeModel regressor of depth 5 with 63 nodes
  If (feature 10 <= 0.7743499875068665)
   If (feature 10 <= 0.38537266850471497)
    If (feature 6 <= 0.44278064370155334)
     If (feature 0 <= 0.4922769367694855)
      If (feature 2 <= 0.2866482436656952)
       Predict: 1994.881555153707
      Else (feature 2 > 0.2866482436656952)
       Predict: 1999.7315741583257
     Else (feature 0 > 0.4922769367694855)
      If (feature 9 <= 0.039899446070194244)
       Predict: 1996.6923076923076
      Else (feature 9 > 0.039899446070194244)
       Predict: 1990.3287101248266
    Else (feature 6 > 0.44278064370155334)
     If (feature 9 <= 0.7201876640319824)
      If (feature 0 <= 0.87936931848526)
       Predict: 2002.4871414441147
      Else (feature 0 > 0.87936931848526)
       Predict: 1997.7040358744396
     Else (feature 9 > 0.7201876640319824)
      If (feature 8 <= 0.11462155729532242)
       Predict: 1991.7079646017698
      Else (feature 8 > 0.11462155729532242)
       Predict: 1997.5582191780823
   Else (feature 10 > 0.38537266850471497)
    If (feature 6 <= 0.5108977556228638)
     If (feature 7 <= 0.48287785053253174)
      If (feature 4 <= 0.4747457504272461)
       Predict: 1976.2625102543068
      Else (feature 4 > 0.4747457504272461)
       Predict: 1986.035294117647
     Else (feature 7 > 0.48287785053253174)
      If (feature 8 <= 0.3114992082118988)
       Predict: 1985.3698630136987
      Else (feature 8 > 0.3114992082118988)
       Predict: 1995.888888888889
    Else (feature 6 > 0.5108977556228638)
     If (feature 9 <= 0.818210780620575)
      If (feature 8 <= 0.3114992082118988)
       Predict: 1993.9058823529413
      Else (feature 8 > 0.3114992082118988)
       Predict: 2001.1238095238095
     Else (feature 9 > 0.818210780620575)
      If (feature 6 <= 0.9276288151741028)
       Predict: 1982.3219954648525
      Else (feature 6 > 0.9276288151741028)
       Predict: 1995.1733870967741
  Else (feature 10 > 0.7743499875068665)
   If (feature 9 <= 0.3990442156791687)
    If (feature 2 <= 0.5090616941452026)
     If (feature 6 <= 0.7584007382392883)
      If (feature 8 <= 0.22235628962516785)
       Predict: 1974.46783625731
      Else (feature 8 > 0.22235628962516785)
       Predict: 1985.2624113475176
     Else (feature 6 > 0.7584007382392883)
      If (feature 0 <= 0.8266652226448059)
       Predict: 1993.1409090909092
      Else (feature 0 > 0.8266652226448059)
       Predict: 1983.6774193548388
    Else (feature 2 > 0.5090616941452026)
     If (feature 9 <= 0.22813637554645538)
      If (feature 10 <= 1.3285847902297974)
       Predict: 2001.5136363636364
      Else (feature 10 > 1.3285847902297974)
       Predict: 1986.857142857143
     Else (feature 9 > 0.22813637554645538)
      If (feature 7 <= 0.5220082998275757)
       Predict: 1980.4177215189873
      Else (feature 7 > 0.5220082998275757)
       Predict: 1999.3793103448277
   Else (feature 9 > 0.3990442156791687)
    If (feature 6 <= 0.8104298114776611)
     If (feature 7 <= 0.48287785053253174)
      If (feature 10 <= 0.9502274394035339)
       Predict: 1972.7902208201892
      Else (feature 10 > 0.9502274394035339)
       Predict: 1958.0438596491229
     Else (feature 7 > 0.48287785053253174)
      If (feature 5 <= 0.5743483304977417)
       Predict: 1978.8327759197325
      Else (feature 5 > 0.5743483304977417)
       Predict: 1994.4166666666667
    Else (feature 6 > 0.8104298114776611)
     If (feature 8 <= 0.03451211005449295)
      If (feature 9 <= 0.7201876640319824)
       Predict: 1983.076923076923
      Else (feature 9 > 0.7201876640319824)
       Predict: 1970.7709923664122
     Else (feature 8 > 0.03451211005449295)
      If (feature 7 <= 0.1291636973619461)
       Predict: 1983.75
      Else (feature 7 > 0.1291636973619461)
       Predict: 1994.6352941176472

2017-05-09 15:30:57,433 - __main__ - DEBUG - Measuring model QII
2017-05-09 15:30:57,439 - __main__ - DEBUG - 12 features detected
2017-05-09 15:30:57,440 - __main__ - DEBUG - Processing feature 0
2017-05-09 15:31:00,189 - __main__ - DEBUG - QII: 12.3995405793, signed QII: -12.3995405793
2017-05-09 15:31:00,190 - __main__ - DEBUG - Processing feature 1
2017-05-09 15:31:02,567 - __main__ - DEBUG - QII: 12.3896797601, signed QII: 12.3896797601
2017-05-09 15:31:02,567 - __main__ - DEBUG - Processing feature 2
2017-05-09 15:31:04,092 - __main__ - DEBUG - QII: 12.4171251202, signed QII: 12.4171251202
2017-05-09 15:31:04,093 - __main__ - DEBUG - Processing feature 3
2017-05-09 15:31:05,566 - __main__ - DEBUG - QII: 12.3896797601, signed QII: 12.3896797601
2017-05-09 15:31:05,566 - __main__ - DEBUG - Processing feature 4
2017-05-09 15:31:07,059 - __main__ - DEBUG - QII: 12.3714804996, signed QII: 12.3714804996
2017-05-09 15:31:07,059 - __main__ - DEBUG - Processing feature 5
2017-05-09 15:31:08,529 - __main__ - DEBUG - QII: 12.3675076078, signed QII: 12.3675076078
2017-05-09 15:31:08,529 - __main__ - DEBUG - Processing feature 6
2017-05-09 15:31:10,016 - __main__ - DEBUG - QII: 12.4873466833, signed QII: 12.4873466833
2017-05-09 15:31:10,016 - __main__ - DEBUG - Processing feature 7
2017-05-09 15:31:11,502 - __main__ - DEBUG - QII: 12.2817456983, signed QII: 12.2817456983
2017-05-09 15:31:11,502 - __main__ - DEBUG - Processing feature 8
2017-05-09 15:31:12,921 - __main__ - DEBUG - QII: 12.3444021149, signed QII: 12.3444021149
2017-05-09 15:31:12,921 - __main__ - DEBUG - Processing feature 9
2017-05-09 15:31:14,351 - __main__ - DEBUG - QII: 12.2130226811, signed QII: 12.2130226811
2017-05-09 15:31:14,351 - __main__ - DEBUG - Processing feature 10
2017-05-09 15:31:15,834 - __main__ - DEBUG - QII: 12.1128071331, signed QII: 12.1128071331
2017-05-09 15:31:15,834 - __main__ - DEBUG - Processing feature 11
2017-05-09 15:31:17,252 - __main__ - DEBUG - QII: 12.3896797601, signed QII: 12.3896797601
2017-05-09 15:31:17,254 - __main__ - DEBUG - Model weights: [-12.39954057928613, 12.389679760097971, 12.417125120180556, 12.389679760097971, 12.37148049958194, 12.367507607796902, 12.487346683251932, 12.281745698271282, 12.344402114932253, 12.213022681059552, 12.11280713307183, 12.389679760097971]
2017-05-09 15:31:17,559 - __main__ - DEBUG - Bin range: (1891.0, 2015.0)
2017-05-09 15:31:17,559 - __main__ - DEBUG -  Evaluating the model
2017-05-09 15:31:17,581 - __main__ - DEBUG -  Bin range: (1891.0, 2015.0)
2017-05-09 15:31:19,651 - __main__ - DEBUG - Done in 2.091980 seconds
2017-05-09 15:31:19,652 - __main__ - DEBUG -  Mean error: 4.20169844289e-16, mean absolute error: 15.2005650757
2017-05-09 15:31:20,000 - __main__ - DEBUG -  RMSE: 135.809964449, variance explained: 19.9657839774, mean absolute error: 15.2005650757,
2017-05-09 15:31:20,000 - __main__ - DEBUG -  MRAE: 0.00767874666503
2017-05-09 15:31:20,001 - __main__ - DEBUG -  Errors histogram: ([-2015.0, -1892.878787878788, -1770.7575757575758, -1648.6363636363635, -1526.5151515151515, -1404.3939393939395, -1282.2727272727273, -1160.151515151515, -1038.030303030303, -915.909090909091, -793.7878787878788, -671.6666666666665, -549.5454545454545, -427.4242424242425, -305.30303030303025, -183.18181818181802, -61.060606060606005, 61.060606060606005, 183.18181818181802, 305.3030303030305, 427.4242424242425, 549.5454545454545, 671.666666666667, 793.787878787879, 915.909090909091, 1038.030303030303, 1160.151515151515, 1282.2727272727275, 1404.3939393939395, 1526.5151515151515, 1648.636363636364, 1770.757575757576, 1892.878787878788, 2015.0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 18258, 141, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
2017-05-09 15:31:20,001 - __main__ - DEBUG -  Absolute errors histogram: ([0.0, 61.06060606060606, 122.12121212121212, 183.1818181818182, 244.24242424242425, 305.3030303030303, 366.3636363636364, 427.42424242424244, 488.4848484848485, 549.5454545454545, 610.6060606060606, 671.6666666666667, 732.7272727272727, 793.7878787878788, 854.8484848484849, 915.909090909091, 976.969696969697, 1038.030303030303, 1099.090909090909, 1160.1515151515152, 1221.2121212121212, 1282.2727272727273, 1343.3333333333335, 1404.3939393939395, 1465.4545454545455, 1526.5151515151515, 1587.5757575757575, 1648.6363636363637, 1709.6969696969697, 1770.7575757575758, 1831.818181818182, 1892.878787878788, 1953.939393939394, 2015.0], [18258, 141, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
2017-05-09 15:31:20,001 - __main__ - DEBUG -  Squared errors histogram: ([0.0, 123037.12121212122, 246074.24242424243, 369111.36363636365, 492148.48484848486, 615185.6060606061, 738222.7272727273, 861259.8484848485, 984296.9696969697, 1107334.0909090908, 1230371.2121212122, 1353408.3333333335, 1476445.4545454546, 1599482.5757575757, 1722519.696969697, 1845556.8181818184, 1968593.9393939395, 2091631.0606060605, 2214668.1818181816, 2337705.303030303, 2460742.4242424243, 2583779.5454545454, 2706816.666666667, 2829853.787878788, 2952890.909090909, 3075928.0303030303, 3198965.1515151514, 3322002.272727273, 3445039.393939394, 3568076.515151515, 3691113.6363636367, 3814150.757575758, 3937187.878787879, 4060225.0], [18399, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]):
2017-05-09 15:31:20,001 - __main__ - DEBUG -  Predictions histogram: ([1891.0, 1894.7575757575758, 1898.5151515151515, 1902.2727272727273, 1906.030303030303, 1909.7878787878788, 1913.5454545454545, 1917.3030303030303, 1921.060606060606, 1924.8181818181818, 1928.5757575757575, 1932.3333333333333, 1936.090909090909, 1939.8484848484848, 1943.6060606060605, 1947.3636363636363, 1951.121212121212, 1954.878787878788, 1958.6363636363637, 1962.3939393939395, 1966.1515151515152, 1969.909090909091, 1973.6666666666667, 1977.4242424242425, 1981.1818181818182, 1984.939393939394, 1988.6969696969697, 1992.4545454545455, 1996.2121212121212, 1999.969696969697, 2003.7272727272727, 2007.4848484848485, 2011.2424242424242, 2015.0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1026, 0, 0, 0, 765, 1561, 378, 760, 2367, 1781, 3236, 3128, 3397, 0, 0, 0])
2017-05-09 15:31:20,001 - __main__ - DEBUG -  Observations histogram: ([1891.0, 1894.7575757575758, 1898.5151515151515, 1902.2727272727273, 1906.030303030303, 1909.7878787878788, 1913.5454545454545, 1917.3030303030303, 1921.060606060606, 1924.8181818181818, 1928.5757575757575, 1932.3333333333333, 1936.090909090909, 1939.8484848484848, 1943.6060606060605, 1947.3636363636363, 1951.121212121212, 1954.878787878788, 1958.6363636363637, 1962.3939393939395, 1966.1515151515152, 1969.909090909091, 1973.6666666666667, 1977.4242424242425, 1981.1818181818182, 1984.939393939394, 1988.6969696969697, 1992.4545454545455, 1996.2121212121212, 1999.969696969697, 2003.7272727272727, 2007.4848484848485, 2011.2424242424242, 2015.0], [2, 5, 1, 1, 3, 8, 35, 54, 52, 89, 174, 278, 208, 290, 255, 294, 254, 391, 376, 459, 368, 527, 531, 599, 466, 769, 845, 1227, 1134, 1793, 2180, 2822, 1909])
2017-05-09 15:31:20,001 - __main__ - DEBUG - Computing predictions on the test set
2017-05-09 15:31:20,711 - __main__ - DEBUG - Bin range: (1893.0, 2015.0)
2017-05-09 15:31:20,711 - __main__ - DEBUG -  Evaluating the model
2017-05-09 15:31:20,754 - __main__ - DEBUG -  Bin range: (1893.0, 2015.0)
2017-05-09 15:31:22,378 - __main__ - DEBUG - Done in 1.666518 seconds
2017-05-09 15:31:22,378 - __main__ - DEBUG -  Mean error: -0.341212962111, mean absolute error: 15.4625601716
2017-05-09 15:31:22,549 - __main__ - DEBUG -  RMSE: 136.98279975, variance explained: 20.3231557183, mean absolute error: 15.4625601716,
2017-05-09 15:31:22,549 - __main__ - DEBUG -  MRAE: 0.00780922851419
2017-05-09 15:31:22,549 - __main__ - DEBUG -  Errors histogram: ([-2015.0, -1892.878787878788, -1770.7575757575758, -1648.6363636363635, -1526.5151515151515, -1404.3939393939395, -1282.2727272727273, -1160.151515151515, -1038.030303030303, -915.909090909091, -793.7878787878788, -671.6666666666665, -549.5454545454545, -427.4242424242425, -305.30303030303025, -183.18181818181802, -61.060606060606005, 61.060606060606005, 183.18181818181802, 305.3030303030305, 427.4242424242425, 549.5454545454545, 671.666666666667, 793.787878787879, 915.909090909091, 1038.030303030303, 1160.151515151515, 1282.2727272727275, 1404.3939393939395, 1526.5151515151515, 1648.636363636364, 1770.757575757576, 1892.878787878788, 2015.0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7811, 74, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
2017-05-09 15:31:22,550 - __main__ - DEBUG -  Absolute errors histogram: ([0.0, 61.06060606060606, 122.12121212121212, 183.1818181818182, 244.24242424242425, 305.3030303030303, 366.3636363636364, 427.42424242424244, 488.4848484848485, 549.5454545454545, 610.6060606060606, 671.6666666666667, 732.7272727272727, 793.7878787878788, 854.8484848484849, 915.909090909091, 976.969696969697, 1038.030303030303, 1099.090909090909, 1160.1515151515152, 1221.2121212121212, 1282.2727272727273, 1343.3333333333335, 1404.3939393939395, 1465.4545454545455, 1526.5151515151515, 1587.5757575757575, 1648.6363636363637, 1709.6969696969697, 1770.7575757575758, 1831.818181818182, 1892.878787878788, 1953.939393939394, 2015.0], [7811, 74, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
2017-05-09 15:31:22,550 - __main__ - DEBUG -  Squared errors histogram: ([0.0, 123037.12121212122, 246074.24242424243, 369111.36363636365, 492148.48484848486, 615185.6060606061, 738222.7272727273, 861259.8484848485, 984296.9696969697, 1107334.0909090908, 1230371.2121212122, 1353408.3333333335, 1476445.4545454546, 1599482.5757575757, 1722519.696969697, 1845556.8181818184, 1968593.9393939395, 2091631.0606060605, 2214668.1818181816, 2337705.303030303, 2460742.4242424243, 2583779.5454545454, 2706816.666666667, 2829853.787878788, 2952890.909090909, 3075928.0303030303, 3198965.1515151514, 3322002.272727273, 3445039.393939394, 3568076.515151515, 3691113.6363636367, 3814150.757575758, 3937187.878787879, 4060225.0], [7885, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]):
2017-05-09 15:31:22,550 - __main__ - DEBUG -  Predictions histogram: ([1893.0, 1896.6969696969697, 1900.3939393939395, 1904.090909090909, 1907.7878787878788, 1911.4848484848485, 1915.1818181818182, 1918.878787878788, 1922.5757575757575, 1926.2727272727273, 1929.969696969697, 1933.6666666666667, 1937.3636363636363, 1941.060606060606, 1944.7575757575758, 1948.4545454545455, 1952.1515151515152, 1955.8484848484848, 1959.5454545454545, 1963.2424242424242, 1966.939393939394, 1970.6363636363635, 1974.3333333333333, 1978.030303030303, 1981.7272727272727, 1985.4242424242425, 1989.121212121212, 1992.8181818181818, 1996.5151515151515, 2000.2121212121212, 2003.909090909091, 2007.6060606060605, 2011.3030303030303, 2015.0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 445, 0, 0, 0, 358, 682, 154, 601, 706, 801, 1340, 1399, 1399, 0, 0, 0])
2017-05-09 15:31:22,550 - __main__ - DEBUG -  Observations histogram: ([1893.0, 1896.6969696969697, 1900.3939393939395, 1904.090909090909, 1907.7878787878788, 1911.4848484848485, 1915.1818181818182, 1918.878787878788, 1922.5757575757575, 1926.2727272727273, 1929.969696969697, 1933.6666666666667, 1937.3636363636363, 1941.060606060606, 1944.7575757575758, 1948.4545454545455, 1952.1515151515152, 1955.8484848484848, 1959.5454545454545, 1963.2424242424242, 1966.939393939394, 1970.6363636363635, 1974.3333333333333, 1978.030303030303, 1981.7272727272727, 1985.4242424242425, 1989.121212121212, 1992.8181818181818, 1996.5151515151515, 2000.2121212121212, 2003.909090909091, 2007.6060606060605, 2011.3030303030303, 2015.0], [3, 3, 2, 1, 1, 15, 10, 17, 37, 36, 88, 110, 109, 90, 115, 150, 104, 161, 160, 146, 224, 238, 213, 173, 265, 376, 292, 505, 619, 578, 971, 1190, 883])
2017-05-09 15:31:22,551 - __main__ - DEBUG - Storing in /home/maxikov/year_tree.state/results.pkl
2017-05-09 15:31:23,743 - __main__ - INFO - Overall results dict: {'feature_ranges': {0: {'_max': 4.05496072769165, 'min': 0.0}, 1: {'_max': 2.937729835510254, 'min': 0.0}, 2: {'_max': 3.427408218383789, 'min': 0.0}, 3: {'_max': 4.784975528717041, 'min': 0.0}, 4: {'_max': 3.8395378589630127, 'min': 0.0}, 5: {'_max': 3.5509934425354004, 'min': 0.0}, 6: {'_max': 4.278365612030029, 'min': 0.0}, 7: {'_max': 3.4786112308502197, 'min': 0.0}, 8: {'_max': 3.727963924407959, 'min': 0.0}, 9: {'_max': 3.6092135906219482, 'min': 0.0}, 10: {'_max': 4.384187698364258, 'min': 0.0}, 11: {'_max': 3.493175506591797, 'min': 0.0}}, 'nof': 1, 'categorical_features': {}, 'indicator_ranges': {0: {'_max': 2015.0, 'min': 1891.0}}, 'mean_feature_values': {0: 0.5807129578188539, 1: 0.3706228421152521, 2: 0.367308831210969, 3: 0.37643754681835123, 4: 0.5903138269546087, 5: 0.43369538782228967, 6: 0.503686250252167, 7: 0.31332803429804573, 8: 0.3826698111582043, 9: 0.515421193882922, 10: 0.4875445476884888, 11: 0.5898100437672136}, 'mean_indicator_values': {0: 1989.793981129204}, 'not_linlog': True, 'train_ratio': 70, 'features': {0: {'qii': [-12.39954057928613, 12.389679760097971, 12.417125120180556, 12.389679760097971, 12.37148049958194, 12.367507607796902, 12.487346683251932, 12.281745698271282, 12.344402114932253, 12.213022681059552, 12.11280713307183, 12.389679760097971], 'name': 'year', 'type': 'regression', 'weights': [-12.39954057928613, 12.389679760097971, 12.417125120180556, 12.389679760097971, 12.37148049958194, 12.367507607796902, 12.487346683251932, 12.281745698271282, 12.344402114932253, 12.213022681059552, 12.11280713307183, 12.389679760097971], 'eval': {'preds_histogram': ([1891.0, 1894.7575757575758, 1898.5151515151515, 1902.2727272727273, 1906.030303030303, 1909.7878787878788, 1913.5454545454545, 1917.3030303030303, 1921.060606060606, 1924.8181818181818, 1928.5757575757575, 1932.3333333333333, 1936.090909090909, 1939.8484848484848, 1943.6060606060605, 1947.3636363636363, 1951.121212121212, 1954.878787878788, 1958.6363636363637, 1962.3939393939395, 1966.1515151515152, 1969.909090909091, 1973.6666666666667, 1977.4242424242425, 1981.1818181818182, 1984.939393939394, 1988.6969696969697, 1992.4545454545455, 1996.2121212121212, 1999.969696969697, 2003.7272727272727, 2007.4848484848485, 2011.2424242424242, 2015.0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1026, 0, 0, 0, 765, 1561, 378, 760, 2367, 1781, 3236, 3128, 3397, 0, 0, 0]), 'obs_histogram': ([1891.0, 1894.7575757575758, 1898.5151515151515, 1902.2727272727273, 1906.030303030303, 1909.7878787878788, 1913.5454545454545, 1917.3030303030303, 1921.060606060606, 1924.8181818181818, 1928.5757575757575, 1932.3333333333333, 1936.090909090909, 1939.8484848484848, 1943.6060606060605, 1947.3636363636363, 1951.121212121212, 1954.878787878788, 1958.6363636363637, 1962.3939393939395, 1966.1515151515152, 1969.909090909091, 1973.6666666666667, 1977.4242424242425, 1981.1818181818182, 1984.939393939394, 1988.6969696969697, 1992.4545454545455, 1996.2121212121212, 1999.969696969697, 2003.7272727272727, 2007.4848484848485, 2011.2424242424242, 2015.0], [2, 5, 1, 1, 3, 8, 35, 54, 52, 89, 174, 278, 208, 290, 255, 294, 254, 391, 376, 459, 368, 527, 531, 599, 466, 769, 845, 1227, 1134, 1793, 2180, 2822, 1909]), 'abs_errors_histogram': ([0.0, 61.06060606060606, 122.12121212121212, 183.1818181818182, 244.24242424242425, 305.3030303030303, 366.3636363636364, 427.42424242424244, 488.4848484848485, 549.5454545454545, 610.6060606060606, 671.6666666666667, 732.7272727272727, 793.7878787878788, 854.8484848484849, 915.909090909091, 976.969696969697, 1038.030303030303, 1099.090909090909, 1160.1515151515152, 1221.2121212121212, 1282.2727272727273, 1343.3333333333335, 1404.3939393939395, 1465.4545454545455, 1526.5151515151515, 1587.5757575757575, 1648.6363636363637, 1709.6969696969697, 1770.7575757575758, 1831.818181818182, 1892.878787878788, 1953.939393939394, 2015.0], [18258, 141, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), 'errors_histogram': ([-2015.0, -1892.878787878788, -1770.7575757575758, -1648.6363636363635, -1526.5151515151515, -1404.3939393939395, -1282.2727272727273, -1160.151515151515, -1038.030303030303, -915.909090909091, -793.7878787878788, -671.6666666666665, -549.5454545454545, -427.4242424242425, -305.30303030303025, -183.18181818181802, -61.060606060606005, 61.060606060606005, 183.18181818181802, 305.3030303030305, 427.4242424242425, 549.5454545454545, 671.666666666667, 793.787878787879, 915.909090909091, 1038.030303030303, 1160.151515151515, 1282.2727272727275, 1404.3939393939395, 1526.5151515151515, 1648.636363636364, 1770.757575757576, 1892.878787878788, 2015.0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 18258, 141, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), 'mean_err': 4.2016984428881405e-16, 'mre': 15.200565075672898, 'sq_errors_histogram': ([0.0, 123037.12121212122, 246074.24242424243, 369111.36363636365, 492148.48484848486, 615185.6060606061, 738222.7272727273, 861259.8484848485, 984296.9696969697, 1107334.0909090908, 1230371.2121212122, 1353408.3333333335, 1476445.4545454546, 1599482.5757575757, 1722519.696969697, 1845556.8181818184, 1968593.9393939395, 2091631.0606060605, 2214668.1818181816, 2337705.303030303, 2460742.4242424243, 2583779.5454545454, 2706816.666666667, 2829853.787878788, 2952890.909090909, 3075928.0303030303, 3198965.1515151514, 3322002.272727273, 3445039.393939394, 3568076.515151515, 3691113.6363636367, 3814150.757575758, 3937187.878787879, 4060225.0], [18399, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), 'mrae': 0.007678746665027563, 'mean_abs_err': 15.200565075672902}, 'eval_test': {'preds_histogram': ([1893.0, 1896.6969696969697, 1900.3939393939395, 1904.090909090909, 1907.7878787878788, 1911.4848484848485, 1915.1818181818182, 1918.878787878788, 1922.5757575757575, 1926.2727272727273, 1929.969696969697, 1933.6666666666667, 1937.3636363636363, 1941.060606060606, 1944.7575757575758, 1948.4545454545455, 1952.1515151515152, 1955.8484848484848, 1959.5454545454545, 1963.2424242424242, 1966.939393939394, 1970.6363636363635, 1974.3333333333333, 1978.030303030303, 1981.7272727272727, 1985.4242424242425, 1989.121212121212, 1992.8181818181818, 1996.5151515151515, 2000.2121212121212, 2003.909090909091, 2007.6060606060605, 2011.3030303030303, 2015.0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 445, 0, 0, 0, 358, 682, 154, 601, 706, 801, 1340, 1399, 1399, 0, 0, 0]), 'obs_histogram': ([1893.0, 1896.6969696969697, 1900.3939393939395, 1904.090909090909, 1907.7878787878788, 1911.4848484848485, 1915.1818181818182, 1918.878787878788, 1922.5757575757575, 1926.2727272727273, 1929.969696969697, 1933.6666666666667, 1937.3636363636363, 1941.060606060606, 1944.7575757575758, 1948.4545454545455, 1952.1515151515152, 1955.8484848484848, 1959.5454545454545, 1963.2424242424242, 1966.939393939394, 1970.6363636363635, 1974.3333333333333, 1978.030303030303, 1981.7272727272727, 1985.4242424242425, 1989.121212121212, 1992.8181818181818, 1996.5151515151515, 2000.2121212121212, 2003.909090909091, 2007.6060606060605, 2011.3030303030303, 2015.0], [3, 3, 2, 1, 1, 15, 10, 17, 37, 36, 88, 110, 109, 90, 115, 150, 104, 161, 160, 146, 224, 238, 213, 173, 265, 376, 292, 505, 619, 578, 971, 1190, 883]), 'abs_errors_histogram': ([0.0, 61.06060606060606, 122.12121212121212, 183.1818181818182, 244.24242424242425, 305.3030303030303, 366.3636363636364, 427.42424242424244, 488.4848484848485, 549.5454545454545, 610.6060606060606, 671.6666666666667, 732.7272727272727, 793.7878787878788, 854.8484848484849, 915.909090909091, 976.969696969697, 1038.030303030303, 1099.090909090909, 1160.1515151515152, 1221.2121212121212, 1282.2727272727273, 1343.3333333333335, 1404.3939393939395, 1465.4545454545455, 1526.5151515151515, 1587.5757575757575, 1648.6363636363637, 1709.6969696969697, 1770.7575757575758, 1831.818181818182, 1892.878787878788, 1953.939393939394, 2015.0], [7811, 74, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), 'errors_histogram': ([-2015.0, -1892.878787878788, -1770.7575757575758, -1648.6363636363635, -1526.5151515151515, -1404.3939393939395, -1282.2727272727273, -1160.151515151515, -1038.030303030303, -915.909090909091, -793.7878787878788, -671.6666666666665, -549.5454545454545, -427.4242424242425, -305.30303030303025, -183.18181818181802, -61.060606060606005, 61.060606060606005, 183.18181818181802, 305.3030303030305, 427.4242424242425, 549.5454545454545, 671.666666666667, 793.787878787879, 915.909090909091, 1038.030303030303, 1160.151515151515, 1282.2727272727275, 1404.3939393939395, 1526.5151515151515, 1648.636363636364, 1770.757575757576, 1892.878787878788, 2015.0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7811, 74, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), 'mean_err': -0.34121296211111024, 'mre': 15.46256017157286, 'sq_errors_histogram': ([0.0, 123037.12121212122, 246074.24242424243, 369111.36363636365, 492148.48484848486, 615185.6060606061, 738222.7272727273, 861259.8484848485, 984296.9696969697, 1107334.0909090908, 1230371.2121212122, 1353408.3333333335, 1476445.4545454546, 1599482.5757575757, 1722519.696969697, 1845556.8181818184, 1968593.9393939395, 2091631.0606060605, 2214668.1818181816, 2337705.303030303, 2460742.4242424243, 2583779.5454545454, 2706816.666666667, 2829853.787878788, 2952890.909090909, 3075928.0303030303, 3198965.1515151514, 3322002.272727273, 3445039.393939394, 3568076.515151515, 3691113.6363636367, 3814150.757575758, 3937187.878787879, 4060225.0], [7885, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), 'mrae': 0.007809228514193835, 'mean_abs_err': 15.46256017157286}}}}
2017-05-09 15:31:23,743 - __main__ - INFO - Train ratio: 70.000000 %
2017-05-09 15:31:23,744 - __main__ - INFO - 
+---------+------------------+------------------+------------------+-------------------+
| Feature |       MRAE       |   Mean abs err   |    MRAE test     | Mean abs err test |
+---------+------------------+------------------+------------------+-------------------+
|   year  | 0.00767874666503 | 0.00767874666503 | 0.00780922851419 |   15.4625601716   |
+---------+------------------+------------------+------------------+-------------------+
