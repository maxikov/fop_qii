spark-submit --driver-memory 64g MovieLensALS.py --spark-executor-memory 64g --local-threads 40 --num-partitions 40 --checkpoint-dir archived_states/spark_dir --temp-dir archived_states/spark_dir --persist-dir archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state --csv --data-path datasets/ml-20m --movies-file datasets/ml-20m/ml-20m.imdb.set1.csv --tvtropes-file datasets/dbtropes/tropes.csv --rank 20 --lmbda 0.1 --num-iter 300 --predict-product-features --metadata-sources years genres average_rating imdb_keywords imdb_producer imdb_director tvtropes tags imdb_year imdb_rating imdb_cast imdb_cinematographer imdb_composer imdb_languages imdb_production_companies imdb_writer --drop-rare-features 250 --drop-rare-movies 25 --cross-validation 70 --regression-model regression_tree --nbins 8 --max-depth 3 --features-trim-percentile 0 --no-ht --filter-data-set 10 --als-cross-validation 1000
2018-01-28 09:39:50,919 - __main__ - DEBUG - rank: 20, lmbda: 0.1, num_iter: 300, num_partitions: 40
2018-01-28 09:39:50,919 - __main__ - DEBUG - data_path: datasets/ml-20m, checkpoint_dir: archived_states/spark_dir
2018-01-28 09:39:50,919 - __main__ - DEBUG - Temp dir: archived_states/spark_dir
2018-01-28 09:39:50,919 - __main__ - DEBUG - local_threads: 40
2018-01-28 09:39:50,919 - __main__ - DEBUG - spark_executor_memory: 64g
2018-01-28 09:39:50,919 - __main__ - DEBUG - cold_start: 0
2018-01-28 09:39:50,919 - __main__ - DEBUG - regression_model: regression_tree
2018-01-28 09:39:50,919 - __main__ - DEBUG - nbins: 8
2018-01-28 09:39:50,919 - __main__ - DEBUG - regression_users: False
2018-01-28 09:39:50,920 - __main__ - DEBUG - predict_product_features: True
2018-01-28 09:39:50,920 - __main__ - DEBUG - metadata_sources: ['years', 'genres', 'average_rating', 'imdb_keywords', 'imdb_producer', 'imdb_director', 'tvtropes', 'tags', 'imdb_year', 'imdb_rating', 'imdb_cast', 'imdb_cinematographer', 'imdb_composer', 'imdb_languages', 'imdb_production_companies', 'imdb_writer']
2018-01-28 09:39:50,920 - __main__ - DEBUG - movies_file: datasets/ml-20m/ml-20m.imdb.set1.csv
2018-01-28 09:39:50,920 - __main__ - DEBUG - cross_validation: 70
2018-01-28 09:39:50,920 - __main__ - DEBUG - tvtropes_file: datasets/dbtropes/tropes.csv
2018-01-28 09:39:50,920 - __main__ - DEBUG - features_trim_percentile: 0
2018-01-28 09:39:50,920 - __main__ - DEBUG - drop_missing_movies: False
2018-01-28 09:39:50,920 - __main__ - DEBUG - drop_rare_features: 250
2018-01-28 09:39:50,920 - __main__ - DEBUG - filter_data_set: 10
2018-01-28 09:39:50,920 - __main__ - DEBUG - persist_dir: archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state, override_args: False
2018-01-28 09:39:50,920 - __main__ - DEBUG - drop_rare_movies: 25
2018-01-28 09:39:50,920 - __main__ - DEBUG - normalize: False
2018-01-28 09:39:50,920 - __main__ - DEBUG - max_depth: 3
2018-01-28 09:39:50,920 - __main__ - DEBUG - no_ht: True
2018-01-28 09:39:50,920 - __main__ - DEBUG - csv: True
2018-01-28 09:39:50,920 - __main__ - DEBUG - archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/args.pkl not found, loading new
2018-01-28 09:39:50,920 - __main__ - DEBUG - Storing in archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/args.pkl
2018-01-28 09:39:52,562 - __main__ - DEBUG - msep: ,
2018-01-28 09:39:52,562 - __main__ - DEBUG - Loading ratings
2018-01-28 09:40:00,774 - __main__ - DEBUG - Done in 8.211090 seconds
2018-01-28 09:40:00,774 - __main__ - DEBUG - Loading movies
2018-01-28 09:40:03,075 - __main__ - DEBUG - Done in 2.300607 seconds
2018-01-28 09:40:03,075 - __main__ - DEBUG - 26804 movies loaded
2018-01-28 09:40:19,044 - __main__ - DEBUG - 19912669 records in the training set
2018-01-28 09:40:21,983 - __main__ - DEBUG - 26284 unique movies in the training set
2018-01-28 09:40:21,984 - __main__ - DEBUG - Started internal_feature_predictor
2018-01-28 09:40:21,984 - __main__ - DEBUG - Trying to load previous results
2018-01-28 09:40:21,984 - __main__ - DEBUG - archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/results.pkl not found
2018-01-28 09:40:21,984 - __main__ - DEBUG - Training the average rating model
2018-01-28 09:40:26,406 - __main__ - DEBUG - Done in 4.421583 seconds
2018-01-28 09:40:26,601 - __main__ - DEBUG - Trying to get 1000 pairs for cross-validation
2018-01-28 09:40:26,601 - __main__ - DEBUG - Counting nusers per each movie
2018-01-28 09:40:28,396 - __main__ - DEBUG - 26284 movies found
2018-01-28 09:40:28,399 - __main__ - DEBUG - 22408 movies with more than one user found
2018-01-28 09:40:28,399 - __main__ - DEBUG - Counting nmovies per each user
2018-01-28 09:40:41,164 - __main__ - DEBUG - 19912669 user-movie pairs in the data set
2018-01-28 09:41:18,905 - __main__ - DEBUG - 138493 users found
2018-01-28 09:41:18,915 - __main__ - DEBUG - 138493 users with more than one movie found
2018-01-28 09:41:32,792 - __main__ - DEBUG - 19908793 user-movie pairs left after filtering
2018-01-28 10:08:07,719 - __main__ - DEBUG - 1000 pairs created
2018-01-28 10:08:12,679 - __main__ - DEBUG - archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/als_model.pkl not found, bulding a new model
2018-01-28 10:08:12,679 - __main__ - DEBUG - Training ALS recommender
2018-01-28 10:18:05,892 - __main__ - DEBUG - Done in 593.212686 seconds
2018-01-28 10:18:05,892 - __main__ - DEBUG - Saving model to archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/als_model.pkl
2018-01-28 10:18:11,701 - __main__ - DEBUG - ALS cross validation Evaluating the model
2018-01-28 10:18:11,741 - __main__ - DEBUG - ALS cross validation Bin range: (0.0, 5.5)
2018-01-28 10:18:16,659 - __main__ - DEBUG - Done in 4.957536 seconds
2018-01-28 10:18:16,660 - __main__ - DEBUG - ALS cross validation Mean error: -0.0515543166186, mean absolute error: 0.612556089518
2018-01-28 10:18:17,727 - __main__ - DEBUG - ALS cross validation RMSE: 0.807056347133, variance explained: 0.406476652564, mean absolute error: 0.612556089518, r2: 0.463135529402
2018-01-28 10:18:17,728 - __main__ - DEBUG - ALS cross validation MRAE: 0.279890704598
2018-01-28 10:18:17,728 - __main__ - DEBUG - ALS cross validation Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 10, 214, 601, 145, 30, 0, 0])
2018-01-28 10:18:17,728 - __main__ - DEBUG - ALS cross validation Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [601, 285, 74, 29, 11, 0, 0, 0, 0])
2018-01-28 10:18:17,728 - __main__ - DEBUG - ALS cross validation Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [960, 32, 8, 0, 0, 0, 0, 0, 0]):
2018-01-28 10:18:17,728 - __main__ - DEBUG - ALS cross validation Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1, 4, 13, 51, 182, 342, 337, 69, 1])
2018-01-28 10:18:17,728 - __main__ - DEBUG - ALS cross validation Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [17, 47, 12, 70, 238, 115, 270, 95, 136])
2018-01-28 10:18:17,729 - __main__ - DEBUG - archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/baseline_predictions.pkl not found, building new predictions
2018-01-28 10:18:17,729 - __main__ - DEBUG - Computing model predictions
2018-01-28 10:18:21,642 - __main__ - DEBUG - Done in 3.913052 seconds
2018-01-28 10:18:21,643 - __main__ - DEBUG - Computing mean error
2018-01-28 10:20:04,663 - __main__ - DEBUG - Done in 103.020571 seconds
2018-01-28 10:20:04,664 - __main__ - DEBUG - Mean error: 0.60165093174, RMSE: 0.773473703095
2018-01-28 10:20:04,712 - __main__ - DEBUG - Original recommender Evaluating the model
2018-01-28 10:20:04,757 - __main__ - DEBUG - Original recommender Bin range: (0.0, 5.5)
2018-01-28 10:24:16,500 - __main__ - DEBUG - Done in 251.787560 seconds
2018-01-28 10:24:16,500 - __main__ - DEBUG - Original recommender Mean error: -0.0980038167915, mean absolute error: 0.60165093174
2018-01-28 10:24:39,751 - __main__ - DEBUG - Original recommender RMSE: 0.773473703095, variance explained: 0.413347777298, mean absolute error: 0.60165093174, r2: 0.459129159925
2018-01-28 10:24:39,752 - __main__ - DEBUG - Original recommender MRAE: 0.246988544803
2018-01-28 10:24:39,752 - __main__ - DEBUG - Original recommender Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [2, 965, 116723, 4782425, 11880169, 2768132, 350754, 13489, 10])
2018-01-28 10:24:39,752 - __main__ - DEBUG - Original recommender Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [11880169, 5872804, 1677753, 378089, 89388, 13677, 777, 12, 0])
2018-01-28 10:24:39,752 - __main__ - DEBUG - Original recommender Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [19430726, 413489, 59629, 8036, 752, 35, 2, 0, 0]):
2018-01-28 10:24:39,752 - __main__ - DEBUG - Original recommender Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [4557, 51084, 274023, 1117566, 3589090, 7266953, 6223605, 1345626, 40046])
2018-01-28 10:24:39,752 - __main__ - DEBUG - Original recommender Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [237647, 677127, 278250, 1424879, 5153769, 2192341, 5536793, 1528880, 2882983])
2018-01-28 10:24:39,753 - __main__ - DEBUG - Writing archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/baseline_predictions.pkl
2018-01-28 10:30:59,243 - __main__ - DEBUG - Writing archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/results.pkl
2018-01-28 10:31:01,278 - __main__ - DEBUG - user_or_product_features: product
2018-01-28 10:31:01,279 - __main__ - DEBUG - archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/indicators.pkl not found, building new features
2018-01-28 10:31:01,279 - __main__ - DEBUG - Loading years
2018-01-28 10:31:02,128 - __main__ - DEBUG - Done in 0.848913908005 seconds
2018-01-28 10:31:02,128 - __main__ - DEBUG - 26804 records of 1 features loaded
2018-01-28 10:31:02,320 - __main__ - DEBUG - No missing IDs
2018-01-28 10:31:02,321 - __main__ - DEBUG - Loading genres
2018-01-28 10:31:02,810 - __main__ - DEBUG - Done in 0.489285945892 seconds
2018-01-28 10:31:02,810 - __main__ - DEBUG - 26804 records of 18 features loaded
2018-01-28 10:31:03,004 - __main__ - DEBUG - No missing IDs
2018-01-28 10:31:03,029 - __main__ - DEBUG - Loading tags
2018-01-28 10:31:04,771 - __main__ - DEBUG - Done in 1.7417280674 seconds
2018-01-28 10:31:04,772 - __main__ - DEBUG - 19545 records of 72 features loaded
2018-01-28 10:31:04,931 - __main__ - DEBUG - 7555 IDs are missing. Adding empty records for them
2018-01-28 10:31:05,060 - __main__ - DEBUG - Done in 0.128511190414 seconds
2018-01-28 10:31:05,096 - __main__ - DEBUG - Loading imdb_keywords
2018-01-28 10:31:07,099 - __main__ - DEBUG - Done in 2.00293898582 seconds
2018-01-28 10:31:07,100 - __main__ - DEBUG - 26804 records of 994 features loaded
2018-01-28 10:31:07,713 - __main__ - DEBUG - No missing IDs
2018-01-28 10:31:07,756 - __main__ - DEBUG - Loading imdb_director
2018-01-28 10:31:08,169 - __main__ - DEBUG - Done in 0.412141084671 seconds
2018-01-28 10:31:08,169 - __main__ - DEBUG - 26804 records of 1 features loaded
2018-01-28 10:31:08,357 - __main__ - DEBUG - No missing IDs
2018-01-28 10:31:08,390 - __main__ - DEBUG - Loading imdb_producer
2018-01-28 10:31:08,959 - __main__ - DEBUG - Done in 0.569092988968 seconds
2018-01-28 10:31:08,959 - __main__ - DEBUG - 26804 records of 1 features loaded
2018-01-28 10:31:09,163 - __main__ - DEBUG - No missing IDs
2018-01-28 10:31:09,195 - __main__ - DEBUG - Loading tvtropes
2018-01-28 10:31:09,845 - __main__ - DEBUG - Done in 0.650558948517 seconds
2018-01-28 10:31:09,845 - __main__ - DEBUG - 6084 records of 110 features loaded
2018-01-28 10:31:09,962 - __main__ - DEBUG - 20795 IDs are missing. Adding empty records for them
2018-01-28 10:31:10,278 - __main__ - DEBUG - Done in 0.315099000931 seconds
2018-01-28 10:31:10,316 - __main__ - DEBUG - Loading imdb_year
2018-01-28 10:31:10,522 - __main__ - DEBUG - Done in 0.206135034561 seconds
2018-01-28 10:31:10,522 - __main__ - DEBUG - 26804 records of 1 features loaded
2018-01-28 10:31:10,733 - __main__ - DEBUG - No missing IDs
2018-01-28 10:31:10,775 - __main__ - DEBUG - Loading imdb_rating
2018-01-28 10:31:10,992 - __main__ - DEBUG - Done in 0.217016935349 seconds
2018-01-28 10:31:10,992 - __main__ - DEBUG - 26804 records of 1 features loaded
2018-01-28 10:31:11,187 - __main__ - DEBUG - No missing IDs
2018-01-28 10:31:11,225 - __main__ - DEBUG - Loading imdb_cast
2018-01-28 10:31:12,711 - __main__ - DEBUG - Done in 1.48594784737 seconds
2018-01-28 10:31:12,711 - __main__ - DEBUG - 26804 records of 3 features loaded
2018-01-28 10:31:12,900 - __main__ - DEBUG - No missing IDs
2018-01-28 10:31:12,940 - __main__ - DEBUG - Loading imdb_cinematographer
2018-01-28 10:31:13,415 - __main__ - DEBUG - Done in 0.475142002106 seconds
2018-01-28 10:31:13,415 - __main__ - DEBUG - 26804 records of 1 features loaded
2018-01-28 10:31:13,594 - __main__ - DEBUG - No missing IDs
2018-01-28 10:31:13,622 - __main__ - DEBUG - Loading imdb_composer
2018-01-28 10:31:14,140 - __main__ - DEBUG - Done in 0.518101930618 seconds
2018-01-28 10:31:14,140 - __main__ - DEBUG - 26804 records of 1 features loaded
2018-01-28 10:31:14,372 - __main__ - DEBUG - No missing IDs
2018-01-28 10:31:14,413 - __main__ - DEBUG - Loading imdb_languages
2018-01-28 10:31:15,126 - __main__ - DEBUG - Done in 0.712774038315 seconds
2018-01-28 10:31:15,126 - __main__ - DEBUG - 26804 records of 12 features loaded
2018-01-28 10:31:15,412 - __main__ - DEBUG - No missing IDs
2018-01-28 10:31:15,446 - __main__ - DEBUG - Loading imdb_production_companies
2018-01-28 10:31:17,798 - __main__ - DEBUG - Done in 2.35133290291 seconds
2018-01-28 10:31:17,798 - __main__ - DEBUG - 26804 records of 9 features loaded
2018-01-28 10:31:18,132 - __main__ - DEBUG - No missing IDs
2018-01-28 10:31:18,176 - __main__ - DEBUG - Loading imdb_writer
2018-01-28 10:31:18,992 - __main__ - DEBUG - Done in 0.815241098404 seconds
2018-01-28 10:31:18,992 - __main__ - DEBUG - 26804 records of 1 features loaded
2018-01-28 10:31:19,247 - __main__ - DEBUG - No missing IDs
2018-01-28 10:31:19,280 - __main__ - DEBUG - Loading average_rating
2018-01-28 10:31:19,644 - __main__ - DEBUG - Done in 0.363780975342 seconds
2018-01-28 10:31:19,644 - __main__ - DEBUG - 26284 records of 1 features loaded
2018-01-28 10:31:19,778 - __main__ - DEBUG - 520 IDs are missing. Adding empty records for them
2018-01-28 10:31:19,813 - __main__ - DEBUG - Done in 0.0349318981171 seconds
2018-01-28 10:31:19,845 - __main__ - DEBUG - 1227 features loaded
2018-01-28 10:31:19,845 - __main__ - DEBUG - Dropping features with less than 250 non-zero values
2018-01-28 10:31:36,363 - __main__ - DEBUG - Dropping 3 features
2018-01-28 10:31:36,371 - __main__ - DEBUG - 1224 features remaining
2018-01-28 10:31:36,371 - __main__ - DEBUG - Done in 16.525555 seconds
2018-01-28 10:31:36,371 - __main__ - DEBUG - Writing archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/indicators.pkl
2018-01-28 10:35:07,731 - __main__ - DEBUG - Dropping movies with fewer than 25 non-zero features
2018-01-28 10:35:08,759 - __main__ - DEBUG - 12693 movies left
2018-01-28 10:35:10,518 - __main__ - DEBUG - 18222610 items left in the training set
2018-01-28 10:35:10,519 - __main__ - DEBUG - mean feature values not found, computing
2018-01-28 10:35:10,519 - __main__ - DEBUG - Computing mean feature values
2018-01-28 10:35:10,519 - __main__ - DEBUG - Computing mean feature values
2018-01-28 10:35:11,134 - __main__ - DEBUG - Done in 0.615037 seconds
2018-01-28 10:35:11,134 - __main__ - DEBUG - Mean product feature values: {0: -0.47478361787405693, 1: 0.4462057050822501, 2: 0.5622191012571341, 3: -0.40672472919322356, 4: 0.15616565397556137, 5: -0.10049022415464373, 6: -0.43235829883880705, 7: -0.17338862848096698, 8: 0.40502909261718234, 9: 0.1901337806692296, 10: -0.062323591696448945, 11: 0.004010560279480396, 12: 0.18227824792510655, 13: 0.14335369288994976, 14: 0.3077711700173214, 15: 0.5799407577064322, 16: 0.5246664185678765, 17: -0.137552001975962, 18: 0.7808692697617491, 19: 0.19992599380453177}
2018-01-28 10:35:11,134 - __main__ - DEBUG - Saving results to archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/results.pkl
2018-01-28 10:35:11,145 - __main__ - DEBUG - archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/features_training_test.pkl not found, building new split
2018-01-28 10:35:11,146 - __main__ - DEBUG - Building training and test sets for regression
2018-01-28 10:35:11,146 - __main__ - DEBUG - 8886 items in training and 3807 in test set
2018-01-28 10:35:11,281 - __main__ - DEBUG - Writing archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/features_training_test.pkl
2018-01-28 10:35:43,199 - __main__ - DEBUG - 8886 feature rows, 8886 indicator rows,  and 12963799 ratings in the training set, 3807 feature rows, 3807 indicators rows, and 5258811 ratings in the test set
2018-01-28 10:35:43,199 - __main__ - DEBUG - Processing 0 out of 20
2018-01-28 10:35:43,199 - __main__ - DEBUG - Feature 0 not in [], processing
2018-01-28 10:35:43,431 - __main__ - DEBUG - predict_internal_feature(features.count()=8886, indicators.count()=8886, f=0, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, no_threshold=True, is_classifier=False, num_classes=None, max_depth=3)
2018-01-28 10:35:43,431 - __main__ - DEBUG - Processing feature 0
2018-01-28 10:35:43,431 - __main__ - DEBUG - Building data set
2018-01-28 10:35:43,464 - __main__ - DEBUG - Done in 0.0329089164734 seconds
2018-01-28 10:35:44,073 - __main__ - DEBUG - train_regression_model(data.count=8886, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, max_depth=3, num_trees=128, is_classifier=False, num_classes=None)
2018-01-28 10:35:44,073 - __main__ - DEBUG - num_classes is None, setting to max_bins=8
2018-01-28 10:35:44,073 - __main__ - DEBUG - Training regression_tree
2018-01-28 10:35:46,044 - __main__ - DEBUG - Done in 1.97073221207 seconds
2018-01-28 10:35:46,773 - __main__ - INFO - DecisionTreeModel regressor of depth 3 with 15 nodes
  If (Isn't movielens_genre:Horror)
   If (average_rating <= 2.5210405508798774)
    If (imdb_year <= 1996.0)
     Predict: -0.34564525666292584
    Else (imdb_year > 1996.0)
     Predict: -0.43980443079893305
   Else (average_rating > 2.5210405508798774)
    If (Isn't imdb_keywords:surrealism)
     Predict: -0.5218958027227925
    Else (Is imdb_keywords:surrealism)
     Predict: -0.36825625997475187
  Else (Is movielens_genre:Horror)
   If (average_rating <= 2.5210405508798774)
    If (year <= 1996.0)
     Predict: -0.17185259978279213
    Else (year > 1996.0)
     Predict: -0.28386487104936686
   Else (average_rating > 2.5210405508798774)
    If (Isn't imdb_keywords:cult-film)
     Predict: -0.3563863433729617
    Else (Is imdb_keywords:cult-film)
     Predict: -0.2730054903425422

2018-01-28 10:35:46,773 - __main__ - DEBUG - Computing predictions on the test set
2018-01-28 10:35:47,132 - __main__ - DEBUG - Training feature 0 Evaluating the model
2018-01-28 10:35:48,263 - __main__ - DEBUG - Training feature 0 Bin range: (-1.6150355339050293, 1.0300707817077637)
2018-01-28 10:35:50,243 - __main__ - DEBUG - Done in 3.110556 seconds
2018-01-28 10:35:50,243 - __main__ - DEBUG - Training feature 0 Mean error: 1.09198168301e-17, mean absolute error: 0.145885417577
2018-01-28 10:35:50,481 - __main__ - DEBUG - Training feature 0 RMSE: 0.192614171685, variance explained: 0.00731201530602, mean absolute error: 0.145885417577, r2: 0.164639662881
2018-01-28 10:35:50,481 - __main__ - DEBUG - Training feature 0 MRAE: 1.60022888292
2018-01-28 10:35:50,481 - __main__ - DEBUG - Training feature 0 Errors histogram: ([-1.6150355339050293, -1.2561387485928006, -0.8972419632805718, -0.538345177968343, -0.17944839265611434, 0.17944839265611434, 0.5383451779683432, 0.8972419632805719, 1.2561387485928006, 1.6150355339050293], [1, 4, 88, 1273, 6121, 1372, 25, 2, 0])
2018-01-28 10:35:50,482 - __main__ - DEBUG - Training feature 0 Absolute errors histogram: ([0.0, 0.17944839265611437, 0.35889678531222874, 0.5383451779683431, 0.7177935706244575, 0.8972419632805718, 1.0766903559366863, 1.2561387485928006, 1.435587141248915, 1.6150355339050293], [6121, 2203, 442, 96, 17, 5, 1, 0, 1])
2018-01-28 10:35:50,482 - __main__ - DEBUG - Training feature 0 Squared errors histogram: ([0.0, 0.289815530641767, 0.579631061283534, 0.869446591925301, 1.159262122567068, 1.449077653208835, 1.738893183850602, 2.0287087144923692, 2.318524245134136, 2.608339775775903], [8766, 102, 14, 2, 1, 0, 0, 0, 1]):
2018-01-28 10:35:50,482 - __main__ - DEBUG - Training feature 0 Predictions histogram: ([-1.6150355339050293, -1.3211348321702745, -1.0272341304355197, -0.7333334287007649, -0.4394327269660101, -0.1455320252312553, 0.1483686765034995, 0.4422693782382545, 0.7361700799730091, 1.0300707817077637], [0, 0, 0, 6912, 1974, 0, 0, 0, 0])
2018-01-28 10:35:50,482 - __main__ - DEBUG - Training feature 0 Observations histogram: ([-1.6150355339050293, -1.3211348321702745, -1.0272341304355197, -0.7333334287007649, -0.4394327269660101, -0.1455320252312553, 0.1483686765034995, 0.4422693782382545, 0.7361700799730091, 1.0300707817077637], [2, 24, 772, 4597, 2876, 557, 55, 2, 1])
2018-01-28 10:35:50,483 - __main__ - DEBUG - Evaluating regression on the test set
2018-01-28 10:35:50,483 - __main__ - DEBUG - Test feature 0 Evaluating the model
2018-01-28 10:35:51,492 - __main__ - DEBUG - Test feature 0 Bin range: (-1.4355887174606323, 0.5486209988594055)
2018-01-28 10:35:53,458 - __main__ - DEBUG - Done in 2.974973 seconds
2018-01-28 10:35:53,458 - __main__ - DEBUG - Test feature 0 Mean error: 0.00282890762967, mean absolute error: 0.147528914707
2018-01-28 10:35:53,685 - __main__ - DEBUG - Test feature 0 RMSE: 0.194942022841, variance explained: 0.00787883989347, mean absolute error: 0.147528914707, r2: 0.166511276487
2018-01-28 10:35:53,686 - __main__ - DEBUG - Test feature 0 MRAE: 1.27408593155
2018-01-28 10:35:53,686 - __main__ - DEBUG - Test feature 0 Errors histogram: ([-1.4355887174606323, -1.1165690024693806, -0.797549287478129, -0.47852957248687744, -0.15950985749562574, 0.15950985749562596, 0.47852957248687744, 0.7975492874781294, 1.1165690024693808, 1.4355887174606323], [0, 7, 42, 639, 2404, 680, 32, 3, 0])
2018-01-28 10:35:53,686 - __main__ - DEBUG - Test feature 0 Absolute errors histogram: ([0.0, 0.15950985749562582, 0.31901971499125165, 0.47852957248687744, 0.6380394299825033, 0.7975492874781291, 0.9570591449737549, 1.1165690024693808, 1.2760788599650066, 1.4355887174606323], [2404, 1052, 267, 56, 18, 9, 1, 0, 0])
2018-01-28 10:35:53,686 - __main__ - DEBUG - Test feature 0 Squared errors histogram: ([0.0, 0.2289905517444737, 0.4579811034889474, 0.6869716552334211, 0.9159622069778948, 1.1449527587223685, 1.3739433104668421, 1.6029338622113158, 1.8319244139557895, 2.0609149657002632], [3723, 62, 12, 9, 0, 1, 0, 0, 0]):
2018-01-28 10:35:53,687 - __main__ - DEBUG - Test feature 0 Predictions histogram: ([-1.4355887174606323, -1.2151209712028503, -0.9946532249450684, -0.7741854786872864, -0.5537177324295044, -0.3332499861717224, -0.11278223991394043, 0.10768550634384155, 0.32815325260162354, 0.5486209988594055], [0, 0, 0, 0, 3516, 291, 0, 0, 0])
2018-01-28 10:35:53,687 - __main__ - DEBUG - Test feature 0 Observations histogram: ([-1.4355887174606323, -1.2151209712028503, -0.9946532249450684, -0.7741854786872864, -0.5537177324295044, -0.3332499861717224, -0.11278223991394043, 0.10768550634384155, 0.32815325260162354, 0.5486209988594055], [4, 23, 206, 1139, 1585, 640, 169, 34, 7])
2018-01-28 10:35:53,688 - __main__ - DEBUG - Computing predictions of the model with replaced feature 0
2018-01-28 10:35:53,688 - __main__ - DEBUG - Replacing original feature 0 with predicted values
2018-01-28 10:35:54,156 - __main__ - DEBUG - No predictions for 0 items out of 8886, leaving as is
2018-01-28 10:35:54,198 - __main__ - DEBUG - Done in 0.509658098221 seconds
2018-01-28 10:35:55,405 - __main__ - DEBUG - Done in 1.206407 seconds
2018-01-28 10:35:55,405 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 10:37:10,176 - __main__ - DEBUG - Done in 74.770541 seconds
2018-01-28 10:37:10,176 - __main__ - DEBUG - Replaced mean error baseline: 0.075279
2018-01-28 10:37:10,176 - __main__ - DEBUG - Evaluating replaced model
2018-01-28 10:37:13,375 - __main__ - DEBUG - Replaced feature 0 training Evaluating the model
2018-01-28 10:37:13,411 - __main__ - DEBUG - Replaced feature 0 training Bin range: (0.0, 5.5)
2018-01-28 10:40:01,817 - __main__ - DEBUG - Done in 168.441851 seconds
2018-01-28 10:40:01,817 - __main__ - DEBUG - Replaced feature 0 training Mean error: -0.0453964975163, mean absolute error: 0.0752787756216
2018-01-28 10:40:17,271 - __main__ - DEBUG - Replaced feature 0 training RMSE: 0.101437162711, variance explained: 0.383928405615, mean absolute error: 0.0752787756216, r2: 0.973405420539
2018-01-28 10:40:17,271 - __main__ - DEBUG - Replaced feature 0 training MRAE: 0.0224765088806
2018-01-28 10:40:17,271 - __main__ - DEBUG - Replaced feature 0 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 332, 12963427, 40, 0, 0, 0])
2018-01-28 10:40:17,271 - __main__ - DEBUG - Replaced feature 0 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12963427, 372, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 10:40:17,271 - __main__ - DEBUG - Replaced feature 0 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963799, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 10:40:17,272 - __main__ - DEBUG - Replaced feature 0 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1889, 25885, 163522, 733902, 2487636, 4903068, 3878234, 751854, 17779])
2018-01-28 10:40:17,272 - __main__ - DEBUG - Replaced feature 0 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 10:40:17,273 - __main__ - DEBUG - Computing predictions of the model with replaced feature 0 test
2018-01-28 10:40:17,273 - __main__ - DEBUG - Replacing original feature 0 with predicted values
2018-01-28 10:40:17,770 - __main__ - DEBUG - No predictions for 0 items out of 3807, leaving as is
2018-01-28 10:40:17,814 - __main__ - DEBUG - Done in 0.540781021118 seconds
2018-01-28 10:40:19,028 - __main__ - DEBUG - Done in 1.213490 seconds
2018-01-28 10:40:19,028 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 10:40:48,599 - __main__ - DEBUG - Done in 29.571276 seconds
2018-01-28 10:40:48,599 - __main__ - DEBUG - Replaced mean error baseline test: 0.079231
2018-01-28 10:40:48,600 - __main__ - DEBUG - Evaluating replaced model test
2018-01-28 10:40:51,384 - __main__ - DEBUG - Replaced feature 0 test Evaluating the model
2018-01-28 10:40:51,430 - __main__ - DEBUG - Replaced feature 0 test Bin range: (0.0, 5.5)
2018-01-28 10:41:52,667 - __main__ - DEBUG - Done in 61.283391 seconds
2018-01-28 10:41:52,668 - __main__ - DEBUG - Replaced feature 0 test Mean error: -0.0520973719701, mean absolute error: 0.0792309803359
2018-01-28 10:41:59,135 - __main__ - DEBUG - Replaced feature 0 test RMSE: 0.1049514877, variance explained: 0.396498028179, mean absolute error: 0.0792309803359, r2: 0.972734330678
2018-01-28 10:41:59,135 - __main__ - DEBUG - Replaced feature 0 test MRAE: 0.0235786321685
2018-01-28 10:41:59,135 - __main__ - DEBUG - Replaced feature 0 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 83, 5258712, 16, 0, 0, 0])
2018-01-28 10:41:59,135 - __main__ - DEBUG - Replaced feature 0 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5258712, 99, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 10:41:59,135 - __main__ - DEBUG - Replaced feature 0 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 10:41:59,136 - __main__ - DEBUG - Replaced feature 0 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [930, 13627, 78219, 305659, 964177, 1967208, 1622645, 300468, 5868])
2018-01-28 10:41:59,136 - __main__ - DEBUG - Replaced feature 0 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 10:41:59,137 - __main__ - DEBUG - Randomizing feature 0
2018-01-28 10:41:59,494 - __main__ - DEBUG - Done in 0.357070 seconds
2018-01-28 10:41:59,494 - __main__ - DEBUG - Computing predictions of the model with randomized feature 0
2018-01-28 10:42:00,215 - __main__ - DEBUG - Done in 0.720646 seconds
2018-01-28 10:42:00,215 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 10:43:13,523 - __main__ - DEBUG - Done in 73.307605 seconds
2018-01-28 10:43:13,523 - __main__ - DEBUG - Radnomized mean error baseline: 0.121841
2018-01-28 10:43:13,523 - __main__ - DEBUG - Substitution is 1.618528 times better than randomization on the training set
2018-01-28 10:43:13,523 - __main__ - DEBUG - Evaluating randomized model
2018-01-28 10:43:16,490 - __main__ - DEBUG - Randomized feature 0 training Evaluating the model
2018-01-28 10:43:16,541 - __main__ - DEBUG - Randomized feature 0 training Bin range: (0.0, 5.5)
2018-01-28 10:46:12,968 - __main__ - DEBUG - Done in 176.478082 seconds
2018-01-28 10:46:12,968 - __main__ - DEBUG - Randomized feature 0 training Mean error: -0.0521937527861, mean absolute error: 0.121840833314
2018-01-28 10:46:28,117 - __main__ - DEBUG - Randomized feature 0 training RMSE: 0.164536176744, variance explained: 0.389442366657, mean absolute error: 0.121840833314, r2: 0.930028409765
2018-01-28 10:46:28,117 - __main__ - DEBUG - Randomized feature 0 training MRAE: 0.0363351067624
2018-01-28 10:46:28,117 - __main__ - DEBUG - Randomized feature 0 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 1, 48625, 12913306, 1867, 0, 0, 0])
2018-01-28 10:46:28,117 - __main__ - DEBUG - Randomized feature 0 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12913306, 50257, 235, 1, 0, 0, 0, 0, 0])
2018-01-28 10:46:28,117 - __main__ - DEBUG - Randomized feature 0 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963798, 1, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 10:46:28,117 - __main__ - DEBUG - Randomized feature 0 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1727, 23918, 158819, 759576, 2574162, 4856164, 3794425, 773024, 21937])
2018-01-28 10:46:28,118 - __main__ - DEBUG - Randomized feature 0 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 10:46:28,118 - __main__ - DEBUG - Randomizing feature 0 test
2018-01-28 10:46:28,477 - __main__ - DEBUG - Done in 0.358499 seconds
2018-01-28 10:46:28,477 - __main__ - DEBUG - Computing predictions of the model with randomized feature 0 test
2018-01-28 10:46:29,142 - __main__ - DEBUG - Done in 0.664439 seconds
2018-01-28 10:46:29,142 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 10:46:59,965 - __main__ - DEBUG - Done in 30.822533 seconds
2018-01-28 10:46:59,965 - __main__ - DEBUG - Radnomized mean error baseline test: 0.123767
2018-01-28 10:46:59,965 - __main__ - DEBUG - Substitution is 1.562098 times better than randomization on the test set
2018-01-28 10:46:59,965 - __main__ - DEBUG - Evaluating randomized model test
2018-01-28 10:47:02,955 - __main__ - DEBUG - Randomized feature 0 test Evaluating the model
2018-01-28 10:47:02,998 - __main__ - DEBUG - Randomized feature 0 test Bin range: (0.0, 5.5)
2018-01-28 10:48:06,310 - __main__ - DEBUG - Done in 63.353958 seconds
2018-01-28 10:48:06,310 - __main__ - DEBUG - Randomized feature 0 test Mean error: -0.0581212206225, mean absolute error: 0.123766576317
2018-01-28 10:48:12,728 - __main__ - DEBUG - Randomized feature 0 test RMSE: 0.167674076235, variance explained: 0.404148178272, mean absolute error: 0.123766576317, r2: 0.930406158496
2018-01-28 10:48:12,728 - __main__ - DEBUG - Randomized feature 0 test MRAE: 0.03695829052
2018-01-28 10:48:12,729 - __main__ - DEBUG - Randomized feature 0 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 20273, 5237748, 790, 0, 0, 0])
2018-01-28 10:48:12,729 - __main__ - DEBUG - Randomized feature 0 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5237748, 21041, 22, 0, 0, 0, 0, 0, 0])
2018-01-28 10:48:12,729 - __main__ - DEBUG - Randomized feature 0 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 10:48:12,729 - __main__ - DEBUG - Randomized feature 0 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [898, 12682, 75841, 316217, 1006657, 1939520, 1580906, 318843, 7233])
2018-01-28 10:48:12,729 - __main__ - DEBUG - Randomized feature 0 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 10:48:12,732 - __main__ - DEBUG - persist_dir: archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state
2018-01-28 10:48:12,732 - __main__ - DEBUG - Saving the state of current iteration
2018-01-28 10:48:12,732 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/results.pkl
2018-01-28 10:48:12,757 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/lr_model_0.pkl
2018-01-28 10:48:13,422 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/predictions_0.pkl
2018-01-28 10:48:13,705 - __main__ - DEBUG - Processing 1 out of 20
2018-01-28 10:48:13,705 - __main__ - DEBUG - Feature 1 not in [0], processing
2018-01-28 10:48:13,955 - __main__ - DEBUG - predict_internal_feature(features.count()=8886, indicators.count()=8886, f=1, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, no_threshold=True, is_classifier=False, num_classes=None, max_depth=3)
2018-01-28 10:48:13,955 - __main__ - DEBUG - Processing feature 1
2018-01-28 10:48:13,956 - __main__ - DEBUG - Building data set
2018-01-28 10:48:13,985 - __main__ - DEBUG - Done in 0.0292539596558 seconds
2018-01-28 10:48:14,649 - __main__ - DEBUG - train_regression_model(data.count=8886, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, max_depth=3, num_trees=128, is_classifier=False, num_classes=None)
2018-01-28 10:48:14,649 - __main__ - DEBUG - num_classes is None, setting to max_bins=8
2018-01-28 10:48:14,649 - __main__ - DEBUG - Training regression_tree
2018-01-28 10:48:15,677 - __main__ - DEBUG - Done in 1.02741003036 seconds
2018-01-28 10:48:16,395 - __main__ - INFO - DecisionTreeModel regressor of depth 3 with 15 nodes
  If (imdb_year <= 1996.0)
   If (average_rating <= 2.5210405508798774)
    If (imdb_rating <= 5.9)
     Predict: 0.4271874497354906
    Else (imdb_rating > 5.9)
     Predict: 0.3441665814017618
   Else (average_rating > 2.5210405508798774)
    If (Is movielens_genre:Comedy)
     Predict: 0.4543630577513334
    Else (Isn't movielens_genre:Comedy)
     Predict: 0.5248556829239517
  Else (imdb_year > 1996.0)
   If (Isn't movielens_genre:Drama)
    If (year <= 2009.0)
     Predict: 0.37633165960005827
    Else (year > 2009.0)
     Predict: 0.31427601861435667
   Else (Is movielens_genre:Drama)
    If (Is imdb_languages:English)
     Predict: 0.4201016105916312
    Else (Isn't imdb_languages:English)
     Predict: 0.47669998883080167

2018-01-28 10:48:16,395 - __main__ - DEBUG - Computing predictions on the test set
2018-01-28 10:48:16,739 - __main__ - DEBUG - Training feature 1 Evaluating the model
2018-01-28 10:48:17,855 - __main__ - DEBUG - Training feature 1 Bin range: (-0.6661449670791626, 1.6030383110046387)
2018-01-28 10:48:19,958 - __main__ - DEBUG - Done in 3.218709 seconds
2018-01-28 10:48:19,959 - __main__ - DEBUG - Training feature 1 Mean error: -2.39886136313e-18, mean absolute error: 0.11270639995
2018-01-28 10:48:20,196 - __main__ - DEBUG - Training feature 1 RMSE: 0.155815094583, variance explained: 0.0041887056332, mean absolute error: 0.11270639995, r2: 0.147142248015
2018-01-28 10:48:20,196 - __main__ - DEBUG - Training feature 1 MRAE: 0.705578123582
2018-01-28 10:48:20,196 - __main__ - DEBUG - Training feature 1 Errors histogram: ([-1.6030383110046387, -1.24680757522583, -0.8905768394470215, -0.5343461036682129, -0.1781153678894043, 0.1781153678894043, 0.5343461036682129, 0.8905768394470215, 1.24680757522583, 1.6030383110046387], [0, 4, 36, 854, 7148, 807, 34, 3, 0])
2018-01-28 10:48:20,196 - __main__ - DEBUG - Training feature 1 Absolute errors histogram: ([0.0, 0.1781153678894043, 0.3562307357788086, 0.5343461036682129, 0.7124614715576172, 0.8905768394470215, 1.0686922073364258, 1.24680757522583, 1.4249229431152344, 1.6030383110046387], [7148, 1439, 222, 61, 9, 6, 1, 0, 0])
2018-01-28 10:48:20,196 - __main__ - DEBUG - Training feature 1 Squared errors histogram: ([0.0, 0.2855257585054005, 0.571051517010801, 0.8565772755162016, 1.142103034021602, 1.4276287925270026, 1.713154551032403, 1.9986803095378036, 2.284206068043204, 2.5697318265486047], [8809, 64, 7, 5, 1, 0, 0, 0, 0]):
2018-01-28 10:48:20,197 - __main__ - DEBUG - Training feature 1 Predictions histogram: ([-0.6661449670791626, -0.414013491736518, -0.16188201639387345, 0.09024945894877112, 0.3423809342914157, 0.5945124096340604, 0.8466438849767048, 1.0987753603193493, 1.350906835661994, 1.6030383110046387], [0, 0, 0, 554, 8332, 0, 0, 0, 0])
2018-01-28 10:48:20,197 - __main__ - DEBUG - Training feature 1 Observations histogram: ([-0.6661449670791626, -0.414013491736518, -0.16188201639387345, 0.09024945894877112, 0.3423809342914157, 0.5945124096340604, 0.8466438849767048, 1.0987753603193493, 1.350906835661994, 1.6030383110046387], [3, 20, 159, 1909, 5370, 1306, 104, 11, 4])
2018-01-28 10:48:20,198 - __main__ - DEBUG - Evaluating regression on the test set
2018-01-28 10:48:20,198 - __main__ - DEBUG - Test feature 1 Evaluating the model
2018-01-28 10:48:21,289 - __main__ - DEBUG - Test feature 1 Bin range: (-0.45375296473503113, 1.333910346031189)
2018-01-28 10:48:23,497 - __main__ - DEBUG - Done in 3.299026 seconds
2018-01-28 10:48:23,498 - __main__ - DEBUG - Test feature 1 Mean error: -0.000766218170328, mean absolute error: 0.11412612164
2018-01-28 10:48:23,712 - __main__ - DEBUG - Test feature 1 RMSE: 0.157494187615, variance explained: 0.00418933587286, mean absolute error: 0.11412612164, r2: 0.128807469755
2018-01-28 10:48:23,712 - __main__ - DEBUG - Test feature 1 MRAE: 0.659522222089
2018-01-28 10:48:23,712 - __main__ - DEBUG - Test feature 1 Errors histogram: ([-1.333910346031189, -1.0374858246909247, -0.7410613033506606, -0.44463678201039636, -0.14821226067013216, 0.14821226067013216, 0.44463678201039625, 0.7410613033506603, 1.0374858246909247, 1.333910346031189], [0, 1, 31, 483, 2780, 475, 34, 3, 0])
2018-01-28 10:48:23,712 - __main__ - DEBUG - Test feature 1 Absolute errors histogram: ([0.0, 0.1482122606701321, 0.2964245213402642, 0.4446367820103963, 0.5928490426805284, 0.7410613033506606, 0.8892735640207926, 1.0374858246909247, 1.1856980853610568, 1.333910346031189], [2780, 761, 197, 50, 15, 4, 0, 0, 0])
2018-01-28 10:48:23,713 - __main__ - DEBUG - Test feature 1 Squared errors histogram: ([0.0, 0.1977018679165607, 0.3954037358331214, 0.593105603749682, 0.7908074716662428, 0.9885093395828035, 1.186211207499364, 1.3839130754159248, 1.5816149433324855, 1.7793168112490463], [3738, 56, 11, 2, 0, 0, 0, 0, 0]):
2018-01-28 10:48:23,713 - __main__ - DEBUG - Test feature 1 Predictions histogram: ([-0.45375296473503113, -0.2551237079832289, -0.05649445123142666, 0.1421348055203756, 0.3407640622721778, 0.53939331902398, 0.7380225757757823, 0.9366518325275845, 1.1352810892793868, 1.333910346031189], [0, 0, 0, 239, 3568, 0, 0, 0, 0])
2018-01-28 10:48:23,713 - __main__ - DEBUG - Test feature 1 Observations histogram: ([-0.45375296473503113, -0.2551237079832289, -0.05649445123142666, 0.1421348055203756, 0.3407640622721778, 0.53939331902398, 0.7380225757757823, 0.9366518325275845, 1.1352810892793868, 1.333910346031189], [5, 26, 112, 742, 1946, 815, 141, 18, 2])
2018-01-28 10:48:23,714 - __main__ - DEBUG - Computing predictions of the model with replaced feature 1
2018-01-28 10:48:23,715 - __main__ - DEBUG - Replacing original feature 1 with predicted values
2018-01-28 10:48:24,191 - __main__ - DEBUG - No predictions for 0 items out of 8886, leaving as is
2018-01-28 10:48:24,231 - __main__ - DEBUG - Done in 0.51612496376 seconds
2018-01-28 10:48:25,320 - __main__ - DEBUG - Done in 1.087748 seconds
2018-01-28 10:48:25,320 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 10:49:40,354 - __main__ - DEBUG - Done in 75.033165 seconds
2018-01-28 10:49:40,406 - __main__ - DEBUG - Replaced mean error baseline: 0.034850
2018-01-28 10:49:40,407 - __main__ - DEBUG - Evaluating replaced model
2018-01-28 10:49:43,585 - __main__ - DEBUG - Replaced feature 1 training Evaluating the model
2018-01-28 10:49:43,635 - __main__ - DEBUG - Replaced feature 1 training Bin range: (0.0, 5.5)
2018-01-28 10:52:40,031 - __main__ - DEBUG - Done in 176.446398 seconds
2018-01-28 10:52:40,031 - __main__ - DEBUG - Replaced feature 1 training Mean error: 0.0194617455074, mean absolute error: 0.0348501410246
2018-01-28 10:52:55,064 - __main__ - DEBUG - Replaced feature 1 training RMSE: 0.0467153978222, variance explained: 0.394860630881, mean absolute error: 0.0348501410246, r2: 0.994359481289
2018-01-28 10:52:55,064 - __main__ - DEBUG - Replaced feature 1 training MRAE: 0.0103424460381
2018-01-28 10:52:55,064 - __main__ - DEBUG - Replaced feature 1 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 240, 12963556, 3, 0, 0, 0])
2018-01-28 10:52:55,064 - __main__ - DEBUG - Replaced feature 1 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12963556, 214, 29, 0, 0, 0, 0, 0, 0])
2018-01-28 10:52:55,064 - __main__ - DEBUG - Replaced feature 1 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963799, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 10:52:55,064 - __main__ - DEBUG - Replaced feature 1 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [2023, 25210, 150927, 653858, 2201673, 4671190, 4228910, 992342, 37514])
2018-01-28 10:52:55,064 - __main__ - DEBUG - Replaced feature 1 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 10:52:55,065 - __main__ - DEBUG - Computing predictions of the model with replaced feature 1 test
2018-01-28 10:52:55,065 - __main__ - DEBUG - Replacing original feature 1 with predicted values
2018-01-28 10:52:55,566 - __main__ - DEBUG - No predictions for 0 items out of 3807, leaving as is
2018-01-28 10:52:55,608 - __main__ - DEBUG - Done in 0.542052030563 seconds
2018-01-28 10:52:56,667 - __main__ - DEBUG - Done in 1.058922 seconds
2018-01-28 10:52:56,667 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 10:53:27,850 - __main__ - DEBUG - Done in 31.182937 seconds
2018-01-28 10:53:27,887 - __main__ - DEBUG - Replaced mean error baseline test: 0.035355
2018-01-28 10:53:27,887 - __main__ - DEBUG - Evaluating replaced model test
2018-01-28 10:53:30,858 - __main__ - DEBUG - Replaced feature 1 test Evaluating the model
2018-01-28 10:53:30,912 - __main__ - DEBUG - Replaced feature 1 test Bin range: (0.0, 5.5)
2018-01-28 10:54:34,246 - __main__ - DEBUG - Done in 63.388103 seconds
2018-01-28 10:54:34,247 - __main__ - DEBUG - Replaced feature 1 test Mean error: 0.0193887195256, mean absolute error: 0.0353554237448
2018-01-28 10:54:40,793 - __main__ - DEBUG - Replaced feature 1 test RMSE: 0.0485790203183, variance explained: 0.413531867235, mean absolute error: 0.0353554237448, r2: 0.994158337401
2018-01-28 10:54:40,793 - __main__ - DEBUG - Replaced feature 1 test MRAE: 0.0105084750145
2018-01-28 10:54:40,793 - __main__ - DEBUG - Replaced feature 1 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 217, 5258594, 0, 0, 0, 0])
2018-01-28 10:54:40,794 - __main__ - DEBUG - Replaced feature 1 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5258594, 212, 5, 0, 0, 0, 0, 0, 0])
2018-01-28 10:54:40,794 - __main__ - DEBUG - Replaced feature 1 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 10:54:40,794 - __main__ - DEBUG - Replaced feature 1 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1002, 13448, 73457, 274919, 848540, 1833593, 1777246, 423383, 13196])
2018-01-28 10:54:40,794 - __main__ - DEBUG - Replaced feature 1 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 10:54:40,795 - __main__ - DEBUG - Randomizing feature 1
2018-01-28 10:54:41,130 - __main__ - DEBUG - Done in 0.335224 seconds
2018-01-28 10:54:41,130 - __main__ - DEBUG - Computing predictions of the model with randomized feature 1
2018-01-28 10:54:41,954 - __main__ - DEBUG - Done in 0.823994 seconds
2018-01-28 10:54:41,955 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 10:55:57,146 - __main__ - DEBUG - Done in 75.191017 seconds
2018-01-28 10:55:57,204 - __main__ - DEBUG - Radnomized mean error baseline: 0.063573
2018-01-28 10:55:57,205 - __main__ - DEBUG - Substitution is 1.824170 times better than randomization on the training set
2018-01-28 10:55:57,205 - __main__ - DEBUG - Evaluating randomized model
2018-01-28 10:56:00,346 - __main__ - DEBUG - Randomized feature 1 training Evaluating the model
2018-01-28 10:56:00,395 - __main__ - DEBUG - Randomized feature 1 training Bin range: (0.0, 5.5)
2018-01-28 10:58:59,360 - __main__ - DEBUG - Done in 179.014331 seconds
2018-01-28 10:58:59,360 - __main__ - DEBUG - Randomized feature 1 training Mean error: 0.0154595413932, mean absolute error: 0.0635725896316
2018-01-28 10:59:14,545 - __main__ - DEBUG - Randomized feature 1 training RMSE: 0.0865137035786, variance explained: 0.395404972801, mean absolute error: 0.0635725896316, r2: 0.980654999316
2018-01-28 10:59:14,545 - __main__ - DEBUG - Randomized feature 1 training MRAE: 0.0188755872391
2018-01-28 10:59:14,545 - __main__ - DEBUG - Randomized feature 1 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 816, 12962664, 319, 0, 0, 0])
2018-01-28 10:59:14,545 - __main__ - DEBUG - Randomized feature 1 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12962664, 1076, 59, 0, 0, 0, 0, 0, 0])
2018-01-28 10:59:14,545 - __main__ - DEBUG - Randomized feature 1 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963799, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 10:59:14,545 - __main__ - DEBUG - Randomized feature 1 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1992, 25060, 150343, 658946, 2229553, 4688755, 4179839, 990401, 38729])
2018-01-28 10:59:14,546 - __main__ - DEBUG - Randomized feature 1 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 10:59:14,546 - __main__ - DEBUG - Randomizing feature 1 test
2018-01-28 10:59:14,932 - __main__ - DEBUG - Done in 0.385975 seconds
2018-01-28 10:59:14,932 - __main__ - DEBUG - Computing predictions of the model with randomized feature 1 test
2018-01-28 10:59:15,541 - __main__ - DEBUG - Done in 0.608896 seconds
2018-01-28 10:59:15,542 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 10:59:46,685 - __main__ - DEBUG - Done in 31.143624 seconds
2018-01-28 10:59:46,728 - __main__ - DEBUG - Radnomized mean error baseline test: 0.064255
2018-01-28 10:59:46,729 - __main__ - DEBUG - Substitution is 1.817405 times better than randomization on the test set
2018-01-28 10:59:46,729 - __main__ - DEBUG - Evaluating randomized model test
2018-01-28 10:59:49,734 - __main__ - DEBUG - Randomized feature 1 test Evaluating the model
2018-01-28 10:59:49,774 - __main__ - DEBUG - Randomized feature 1 test Bin range: (0.0, 5.5)
2018-01-28 11:00:53,944 - __main__ - DEBUG - Done in 64.210566 seconds
2018-01-28 11:00:53,945 - __main__ - DEBUG - Randomized feature 1 test Mean error: 0.019138016487, mean absolute error: 0.0642551123011
2018-01-28 11:01:00,203 - __main__ - DEBUG - Randomized feature 1 test RMSE: 0.0853724309288, variance explained: 0.414266462352, mean absolute error: 0.0642551123011, r2: 0.981958432781
2018-01-28 11:01:00,203 - __main__ - DEBUG - Randomized feature 1 test MRAE: 0.0190760380927
2018-01-28 11:01:00,203 - __main__ - DEBUG - Randomized feature 1 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 302, 5258463, 46, 0, 0, 0])
2018-01-28 11:01:00,203 - __main__ - DEBUG - Randomized feature 1 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5258463, 343, 5, 0, 0, 0, 0, 0, 0])
2018-01-28 11:01:00,203 - __main__ - DEBUG - Randomized feature 1 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 11:01:00,203 - __main__ - DEBUG - Randomized feature 1 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [981, 13173, 72866, 275498, 854067, 1833718, 1768268, 425414, 14765])
2018-01-28 11:01:00,203 - __main__ - DEBUG - Randomized feature 1 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 11:01:00,204 - __main__ - DEBUG - persist_dir: archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state
2018-01-28 11:01:00,204 - __main__ - DEBUG - Saving the state of current iteration
2018-01-28 11:01:00,204 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/results.pkl
2018-01-28 11:01:00,218 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/lr_model_1.pkl
2018-01-28 11:01:00,646 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/predictions_1.pkl
2018-01-28 11:01:01,025 - __main__ - DEBUG - Processing 2 out of 20
2018-01-28 11:01:01,025 - __main__ - DEBUG - Feature 2 not in [0, 1], processing
2018-01-28 11:01:01,297 - __main__ - DEBUG - predict_internal_feature(features.count()=8886, indicators.count()=8886, f=2, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, no_threshold=True, is_classifier=False, num_classes=None, max_depth=3)
2018-01-28 11:01:01,297 - __main__ - DEBUG - Processing feature 2
2018-01-28 11:01:01,297 - __main__ - DEBUG - Building data set
2018-01-28 11:01:01,331 - __main__ - DEBUG - Done in 0.0335500240326 seconds
2018-01-28 11:01:01,917 - __main__ - DEBUG - train_regression_model(data.count=8886, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, max_depth=3, num_trees=128, is_classifier=False, num_classes=None)
2018-01-28 11:01:01,918 - __main__ - DEBUG - num_classes is None, setting to max_bins=8
2018-01-28 11:01:01,918 - __main__ - DEBUG - Training regression_tree
2018-01-28 11:01:02,998 - __main__ - DEBUG - Done in 1.08007788658 seconds
2018-01-28 11:01:03,702 - __main__ - INFO - DecisionTreeModel regressor of depth 3 with 15 nodes
  If (Isn't imdb_keywords:cult-film)
   If (Isn't movielens_genre:Horror)
    If (Is movielens_genre:Romance)
     Predict: 0.44290816302645075
    Else (Isn't movielens_genre:Romance)
     Predict: 0.5351956246721233
   Else (Is movielens_genre:Horror)
    If (average_rating <= 2.5210405508798774)
     Predict: 0.6036480397287042
    Else (average_rating > 2.5210405508798774)
     Predict: 0.7281517574299814
  Else (Is imdb_keywords:cult-film)
   If (Isn't imdb_keywords:gore)
    If (year <= 1957.0)
     Predict: 0.5280774313211442
    Else (year > 1957.0)
     Predict: 0.686504830321559
   Else (Is imdb_keywords:gore)
    If (Is imdb_keywords:hero)
     Predict: 0.6813667743129933
    Else (Isn't imdb_keywords:hero)
     Predict: 0.8453156118608579

2018-01-28 11:01:03,702 - __main__ - DEBUG - Computing predictions on the test set
2018-01-28 11:01:04,060 - __main__ - DEBUG - Training feature 2 Evaluating the model
2018-01-28 11:01:05,263 - __main__ - DEBUG - Training feature 2 Bin range: (-0.7570154666900635, 1.5582897663116455)
2018-01-28 11:01:07,368 - __main__ - DEBUG - Done in 3.307062 seconds
2018-01-28 11:01:07,368 - __main__ - DEBUG - Training feature 2 Mean error: -1.30937849404e-17, mean absolute error: 0.166849330759
2018-01-28 11:01:07,616 - __main__ - DEBUG - Training feature 2 RMSE: 0.21485505276, variance explained: 0.00883915270114, mean absolute error: 0.166849330759, r2: 0.160706472238
2018-01-28 11:01:07,616 - __main__ - DEBUG - Training feature 2 MRAE: 0.697000679245
2018-01-28 11:01:07,616 - __main__ - DEBUG - Training feature 2 Errors histogram: ([-1.5582897663116455, -1.2120031515757244, -0.8657165368398031, -0.5194299221038818, -0.17314330736796069, 0.17314330736796046, 0.5194299221038818, 0.8657165368398028, 1.2120031515757241, 1.5582897663116455], [0, 5, 112, 1615, 5416, 1660, 72, 5, 1])
2018-01-28 11:01:07,616 - __main__ - DEBUG - Training feature 2 Absolute errors histogram: ([0.0, 0.1731433073679606, 0.3462866147359212, 0.5194299221038818, 0.6925732294718424, 0.865716536839803, 1.0388598442077637, 1.2120031515757241, 1.3851464589436848, 1.5582897663116455], [5416, 2589, 686, 155, 29, 10, 0, 1, 0])
2018-01-28 11:01:07,617 - __main__ - DEBUG - Training feature 2 Squared errors histogram: ([0.0, 0.26980744397684475, 0.5396148879536895, 0.8094223319305343, 1.079229775907379, 1.3490372198842238, 1.6188446638610685, 1.8886521078379133, 2.158459551814758, 2.4282669957916028], [8691, 164, 23, 7, 0, 0, 1, 0, 0]):
2018-01-28 11:01:07,617 - __main__ - DEBUG - Training feature 2 Predictions histogram: ([-0.7570154666900635, -0.4997593296898736, -0.24250319268968368, 0.014752944310506222, 0.2720090813106961, 0.5292652183108859, 0.7865213553110759, 1.043777492311266, 1.3010336293114557, 1.5582897663116455], [0, 0, 0, 0, 1518, 7075, 293, 0, 0])
2018-01-28 11:01:07,617 - __main__ - DEBUG - Training feature 2 Observations histogram: ([-0.7570154666900635, -0.4997593296898736, -0.24250319268968368, 0.014752944310506222, 0.2720090813106961, 0.5292652183108859, 0.7865213553110759, 1.043777492311266, 1.3010336293114557, 1.5582897663116455], [1, 5, 69, 828, 3098, 3406, 1284, 178, 17])
2018-01-28 11:01:07,617 - __main__ - DEBUG - Evaluating regression on the test set
2018-01-28 11:01:07,618 - __main__ - DEBUG - Test feature 2 Evaluating the model
2018-01-28 11:01:08,737 - __main__ - DEBUG - Test feature 2 Bin range: (-0.4615216553211212, 1.6231509447097778)
2018-01-28 11:01:10,933 - __main__ - DEBUG - Done in 3.315325 seconds
2018-01-28 11:01:10,934 - __main__ - DEBUG - Test feature 2 Mean error: -0.00065311737879, mean absolute error: 0.166317232958
2018-01-28 11:01:11,154 - __main__ - DEBUG - Test feature 2 RMSE: 0.214438906083, variance explained: 0.00926176567296, mean absolute error: 0.166317232958, r2: 0.178019872906
2018-01-28 11:01:11,155 - __main__ - DEBUG - Test feature 2 MRAE: 1.32964244906
2018-01-28 11:01:11,155 - __main__ - DEBUG - Test feature 2 Errors histogram: ([-1.6231509447097778, -1.2624507347742717, -0.9017505248387655, -0.5410503149032593, -0.18035010496775317, 0.18035010496775294, 0.5410503149032593, 0.9017505248387652, 1.2624507347742715, 1.6231509447097778], [0, 3, 35, 673, 2402, 658, 35, 1, 0])
2018-01-28 11:01:11,155 - __main__ - DEBUG - Test feature 2 Absolute errors histogram: ([0.0, 0.18035010496775308, 0.36070020993550617, 0.5410503149032593, 0.7214004198710123, 0.9017505248387654, 1.0821006298065186, 1.2624507347742715, 1.4428008397420247, 1.6231509447097778], [2402, 1061, 270, 61, 9, 3, 1, 0, 0])
2018-01-28 11:01:11,155 - __main__ - DEBUG - Test feature 2 Squared errors histogram: ([0.0, 0.29273544325691603, 0.5854708865138321, 0.8782063297707481, 1.1709417730276641, 1.4636772162845801, 1.7564126595414962, 2.049148102798412, 2.3418835460553282, 2.6346189893122443], [3733, 64, 7, 2, 1, 0, 0, 0, 0]):
2018-01-28 11:01:11,155 - __main__ - DEBUG - Test feature 2 Predictions histogram: ([-0.4615216553211212, -0.2298913664287991, 0.0017389224635230294, 0.2333692113558452, 0.4649995002481673, 0.6966297891404893, 0.9282600780328116, 1.1598903669251337, 1.3915206558174558, 1.6231509447097778], [0, 0, 0, 650, 2815, 342, 0, 0, 0])
2018-01-28 11:01:11,155 - __main__ - DEBUG - Test feature 2 Observations histogram: ([-0.4615216553211212, -0.2298913664287991, 0.0017389224635230294, 0.2333692113558452, 0.4649995002481673, 0.6966297891404893, 0.9282600780328116, 1.1598903669251337, 1.3915206558174558, 1.6231509447097778], [5, 26, 268, 1000, 1466, 802, 211, 23, 6])
2018-01-28 11:01:11,157 - __main__ - DEBUG - Computing predictions of the model with replaced feature 2
2018-01-28 11:01:11,157 - __main__ - DEBUG - Replacing original feature 2 with predicted values
2018-01-28 11:01:11,610 - __main__ - DEBUG - No predictions for 0 items out of 8886, leaving as is
2018-01-28 11:01:11,649 - __main__ - DEBUG - Done in 0.492511034012 seconds
2018-01-28 11:01:12,848 - __main__ - DEBUG - Done in 1.197022 seconds
2018-01-28 11:01:12,848 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 11:02:29,237 - __main__ - DEBUG - Done in 76.388797 seconds
2018-01-28 11:02:29,286 - __main__ - DEBUG - Replaced mean error baseline: 0.078521
2018-01-28 11:02:29,287 - __main__ - DEBUG - Evaluating replaced model
2018-01-28 11:02:32,455 - __main__ - DEBUG - Replaced feature 2 training Evaluating the model
2018-01-28 11:02:32,502 - __main__ - DEBUG - Replaced feature 2 training Bin range: (0.0, 5.5)
2018-01-28 11:05:29,736 - __main__ - DEBUG - Done in 177.280947 seconds
2018-01-28 11:05:29,736 - __main__ - DEBUG - Replaced feature 2 training Mean error: -0.000113576849165, mean absolute error: 0.0785206654751
2018-01-28 11:05:44,984 - __main__ - DEBUG - Replaced feature 2 training RMSE: 0.106661909801, variance explained: 0.393701655771, mean absolute error: 0.0785206654751, r2: 0.970595239117
2018-01-28 11:05:44,985 - __main__ - DEBUG - Replaced feature 2 training MRAE: 0.0236346405571
2018-01-28 11:05:44,985 - __main__ - DEBUG - Replaced feature 2 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 1790, 12960865, 1143, 1, 0, 0])
2018-01-28 11:05:44,985 - __main__ - DEBUG - Replaced feature 2 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12960865, 2926, 7, 1, 0, 0, 0, 0, 0])
2018-01-28 11:05:44,985 - __main__ - DEBUG - Replaced feature 2 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963798, 1, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 11:05:44,985 - __main__ - DEBUG - Replaced feature 2 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1743, 24220, 154162, 690486, 2291921, 4715866, 4123762, 928396, 33130])
2018-01-28 11:05:44,985 - __main__ - DEBUG - Replaced feature 2 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 11:05:44,986 - __main__ - DEBUG - Computing predictions of the model with replaced feature 2 test
2018-01-28 11:05:44,986 - __main__ - DEBUG - Replacing original feature 2 with predicted values
2018-01-28 11:05:45,467 - __main__ - DEBUG - No predictions for 0 items out of 3807, leaving as is
2018-01-28 11:05:45,506 - __main__ - DEBUG - Done in 0.519779920578 seconds
2018-01-28 11:05:46,540 - __main__ - DEBUG - Done in 1.032862 seconds
2018-01-28 11:05:46,540 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 11:06:17,563 - __main__ - DEBUG - Done in 31.023321 seconds
2018-01-28 11:06:17,609 - __main__ - DEBUG - Replaced mean error baseline test: 0.080367
2018-01-28 11:06:17,611 - __main__ - DEBUG - Evaluating replaced model test
2018-01-28 11:06:20,612 - __main__ - DEBUG - Replaced feature 2 test Evaluating the model
2018-01-28 11:06:20,668 - __main__ - DEBUG - Replaced feature 2 test Bin range: (0.0, 5.5)
2018-01-28 11:07:24,784 - __main__ - DEBUG - Done in 64.170899 seconds
2018-01-28 11:07:24,784 - __main__ - DEBUG - Replaced feature 2 test Mean error: -0.000755300787479, mean absolute error: 0.0803665386134
2018-01-28 11:07:31,207 - __main__ - DEBUG - Replaced feature 2 test RMSE: 0.106994125223, variance explained: 0.413976929234, mean absolute error: 0.0803665386134, r2: 0.9716626764
2018-01-28 11:07:31,207 - __main__ - DEBUG - Replaced feature 2 test MRAE: 0.0242991143641
2018-01-28 11:07:31,207 - __main__ - DEBUG - Replaced feature 2 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 585, 5257934, 292, 0, 0, 0])
2018-01-28 11:07:31,207 - __main__ - DEBUG - Replaced feature 2 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5257934, 872, 5, 0, 0, 0, 0, 0, 0])
2018-01-28 11:07:31,207 - __main__ - DEBUG - Replaced feature 2 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 11:07:31,207 - __main__ - DEBUG - Replaced feature 2 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [879, 12996, 75243, 293453, 876978, 1863217, 1725920, 396636, 13464])
2018-01-28 11:07:31,207 - __main__ - DEBUG - Replaced feature 2 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 11:07:31,208 - __main__ - DEBUG - Randomizing feature 2
2018-01-28 11:07:31,566 - __main__ - DEBUG - Done in 0.358092 seconds
2018-01-28 11:07:31,566 - __main__ - DEBUG - Computing predictions of the model with randomized feature 2
2018-01-28 11:07:32,333 - __main__ - DEBUG - Done in 0.766051 seconds
2018-01-28 11:07:32,333 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 11:08:48,535 - __main__ - DEBUG - Done in 76.202015 seconds
2018-01-28 11:08:48,570 - __main__ - DEBUG - Radnomized mean error baseline: 0.148561
2018-01-28 11:08:48,570 - __main__ - DEBUG - Substitution is 1.892003 times better than randomization on the training set
2018-01-28 11:08:48,570 - __main__ - DEBUG - Evaluating randomized model
2018-01-28 11:08:51,377 - __main__ - DEBUG - Randomized feature 2 training Evaluating the model
2018-01-28 11:08:51,427 - __main__ - DEBUG - Randomized feature 2 training Bin range: (0.0, 5.5)
2018-01-28 11:11:49,119 - __main__ - DEBUG - Done in 177.741902 seconds
2018-01-28 11:11:49,119 - __main__ - DEBUG - Randomized feature 2 training Mean error: -0.0234622062827, mean absolute error: 0.148561326409
2018-01-28 11:12:04,219 - __main__ - DEBUG - Randomized feature 2 training RMSE: 0.198270918038, variance explained: 0.417115519583, mean absolute error: 0.148561326409, r2: 0.89839455647
2018-01-28 11:12:04,219 - __main__ - DEBUG - Randomized feature 2 training MRAE: 0.0443816597752
2018-01-28 11:12:04,219 - __main__ - DEBUG - Randomized feature 2 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 4, 81425, 12855617, 26752, 1, 0, 0])
2018-01-28 11:12:04,219 - __main__ - DEBUG - Randomized feature 2 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12855617, 107717, 460, 5, 0, 0, 0, 0, 0])
2018-01-28 11:12:04,219 - __main__ - DEBUG - Randomized feature 2 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963794, 5, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 11:12:04,220 - __main__ - DEBUG - Randomized feature 2 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [2126, 28985, 177957, 767607, 2408703, 4651743, 3949706, 932538, 44032])
2018-01-28 11:12:04,220 - __main__ - DEBUG - Randomized feature 2 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 11:12:04,220 - __main__ - DEBUG - Randomizing feature 2 test
2018-01-28 11:12:04,509 - __main__ - DEBUG - Done in 0.289148 seconds
2018-01-28 11:12:04,510 - __main__ - DEBUG - Computing predictions of the model with randomized feature 2 test
2018-01-28 11:12:05,115 - __main__ - DEBUG - Done in 0.605206 seconds
2018-01-28 11:12:05,115 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 11:12:35,957 - __main__ - DEBUG - Done in 30.841775 seconds
2018-01-28 11:12:35,995 - __main__ - DEBUG - Radnomized mean error baseline test: 0.142838
2018-01-28 11:12:35,995 - __main__ - DEBUG - Substitution is 1.777335 times better than randomization on the test set
2018-01-28 11:12:35,995 - __main__ - DEBUG - Evaluating randomized model test
2018-01-28 11:12:39,112 - __main__ - DEBUG - Randomized feature 2 test Evaluating the model
2018-01-28 11:12:39,153 - __main__ - DEBUG - Randomized feature 2 test Bin range: (0.0, 5.5)
2018-01-28 11:13:43,431 - __main__ - DEBUG - Done in 64.319013 seconds
2018-01-28 11:13:43,432 - __main__ - DEBUG - Randomized feature 2 test Mean error: -0.0228999639844, mean absolute error: 0.142838278659
2018-01-28 11:13:49,854 - __main__ - DEBUG - Randomized feature 2 test RMSE: 0.188955598279, variance explained: 0.429939364718, mean absolute error: 0.142838278659, r2: 0.911619085298
2018-01-28 11:13:49,854 - __main__ - DEBUG - Randomized feature 2 test MRAE: 0.0428650442234
2018-01-28 11:13:49,855 - __main__ - DEBUG - Randomized feature 2 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 27163, 5224107, 7541, 0, 0, 0])
2018-01-28 11:13:49,855 - __main__ - DEBUG - Randomized feature 2 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5224107, 34604, 100, 0, 0, 0, 0, 0, 0])
2018-01-28 11:13:49,855 - __main__ - DEBUG - Randomized feature 2 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 11:13:49,855 - __main__ - DEBUG - Randomized feature 2 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1036, 15778, 84120, 313199, 910258, 1873474, 1659777, 382337, 18668])
2018-01-28 11:13:49,855 - __main__ - DEBUG - Randomized feature 2 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 11:13:49,856 - __main__ - DEBUG - persist_dir: archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state
2018-01-28 11:13:49,856 - __main__ - DEBUG - Saving the state of current iteration
2018-01-28 11:13:49,856 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/results.pkl
2018-01-28 11:13:49,884 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/lr_model_2.pkl
2018-01-28 11:13:50,275 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/predictions_2.pkl
2018-01-28 11:13:50,615 - __main__ - DEBUG - Processing 3 out of 20
2018-01-28 11:13:50,615 - __main__ - DEBUG - Feature 3 not in [0, 1, 2], processing
2018-01-28 11:13:50,861 - __main__ - DEBUG - predict_internal_feature(features.count()=8886, indicators.count()=8886, f=3, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, no_threshold=True, is_classifier=False, num_classes=None, max_depth=3)
2018-01-28 11:13:50,861 - __main__ - DEBUG - Processing feature 3
2018-01-28 11:13:50,861 - __main__ - DEBUG - Building data set
2018-01-28 11:13:50,893 - __main__ - DEBUG - Done in 0.0313501358032 seconds
2018-01-28 11:13:51,520 - __main__ - DEBUG - train_regression_model(data.count=8886, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, max_depth=3, num_trees=128, is_classifier=False, num_classes=None)
2018-01-28 11:13:51,521 - __main__ - DEBUG - num_classes is None, setting to max_bins=8
2018-01-28 11:13:51,521 - __main__ - DEBUG - Training regression_tree
2018-01-28 11:13:52,459 - __main__ - DEBUG - Done in 0.938127040863 seconds
2018-01-28 11:13:53,141 - __main__ - INFO - DecisionTreeModel regressor of depth 3 with 15 nodes
  If (imdb_rating <= 6.6)
   If (year <= 1976.0)
    If (average_rating <= 2.5210405508798774)
     Predict: -0.3266848202388829
    Else (average_rating > 2.5210405508798774)
     Predict: -0.4526205053740531
   Else (year > 1976.0)
    If (imdb_year <= 2001.0)
     Predict: -0.25433450197229224
    Else (imdb_year > 2001.0)
     Predict: -0.34370800707521004
  Else (imdb_rating > 6.6)
   If (imdb_year <= 1977.0)
    If (Is movielens_tags:Criterion)
     Predict: -0.7435076475591107
    Else (Isn't movielens_tags:Criterion)
     Predict: -0.5473659430332257
   Else (imdb_year > 1977.0)
    If (Isn't imdb_languages:English)
     Predict: -0.5517747563369828
    Else (Is imdb_languages:English)
     Predict: -0.4175510106717188

2018-01-28 11:13:53,141 - __main__ - DEBUG - Computing predictions on the test set
2018-01-28 11:13:53,468 - __main__ - DEBUG - Training feature 3 Evaluating the model
2018-01-28 11:13:54,700 - __main__ - DEBUG - Training feature 3 Bin range: (-1.4128847122192383, 1.3954392671585083)
2018-01-28 11:13:56,822 - __main__ - DEBUG - Done in 3.353644 seconds
2018-01-28 11:13:56,822 - __main__ - DEBUG - Training feature 3 Mean error: -1.75416737179e-17, mean absolute error: 0.147962955048
2018-01-28 11:13:57,045 - __main__ - DEBUG - Training feature 3 RMSE: 0.192396291306, variance explained: 0.0134533695082, mean absolute error: 0.147962955048, r2: 0.266563281812
2018-01-28 11:13:57,046 - __main__ - DEBUG - Training feature 3 MRAE: 1.36561325434
2018-01-28 11:13:57,046 - __main__ - DEBUG - Training feature 3 Errors histogram: ([-1.4128847122192383, -1.0989103317260742, -0.7849359512329102, -0.4709615707397461, -0.15698719024658203, 0.15698719024658203, 0.4709615707397461, 0.7849359512329102, 1.0989103317260742, 1.4128847122192383], [0, 4, 55, 1651, 5554, 1495, 115, 11, 0])
2018-01-28 11:13:57,046 - __main__ - DEBUG - Training feature 3 Absolute errors histogram: ([0.0, 0.15698719024658203, 0.31397438049316406, 0.4709615707397461, 0.6279487609863281, 0.7849359512329102, 0.9419231414794922, 1.0989103317260742, 1.2558975219726562, 1.4128847122192383], [5554, 2530, 616, 135, 35, 10, 5, 0, 0])
2018-01-28 11:13:57,047 - __main__ - DEBUG - Training feature 3 Squared errors histogram: ([0.0, 0.22180480111364886, 0.44360960222729773, 0.6654144033409466, 0.8872192044545955, 1.1090240055682443, 1.3308288066818932, 1.552633607795542, 1.774438408909191, 1.9962432100228398], [8700, 150, 23, 7, 4, 1, 0, 0, 0]):
2018-01-28 11:13:57,047 - __main__ - DEBUG - Training feature 3 Predictions histogram: ([-1.4128847122192383, -1.1008487145105998, -0.7888127168019613, -0.47677671909332275, -0.16474072138468432, 0.14729527632395412, 0.4593312740325928, 0.771367271741231, 1.0834032694498696, 1.3954392671585083], [0, 0, 2226, 6660, 0, 0, 0, 0, 0])
2018-01-28 11:13:57,047 - __main__ - DEBUG - Training feature 3 Observations histogram: ([-1.4128847122192383, -1.1008487145105998, -0.7888127168019613, -0.47677671909332275, -0.16474072138468432, 0.14729527632395412, 0.4593312740325928, 0.771367271741231, 1.0834032694498696, 1.3954392671585083], [27, 406, 2800, 4440, 1171, 37, 4, 0, 1])
2018-01-28 11:13:57,048 - __main__ - DEBUG - Evaluating regression on the test set
2018-01-28 11:13:57,048 - __main__ - DEBUG - Test feature 3 Evaluating the model
2018-01-28 11:13:58,219 - __main__ - DEBUG - Test feature 3 Bin range: (-1.403637170791626, 0.5776750445365906)
2018-01-28 11:14:00,286 - __main__ - DEBUG - Done in 3.237804 seconds
2018-01-28 11:14:00,287 - __main__ - DEBUG - Test feature 3 Mean error: -0.00133827170369, mean absolute error: 0.151593810557
2018-01-28 11:14:00,534 - __main__ - DEBUG - Test feature 3 RMSE: 0.196520027298, variance explained: 0.013383652546, mean absolute error: 0.151593810557, r2: 0.263425272475
2018-01-28 11:14:00,534 - __main__ - DEBUG - Test feature 3 MRAE: 1.52840660892
2018-01-28 11:14:00,535 - __main__ - DEBUG - Test feature 3 Errors histogram: ([-1.403637170791626, -1.091717799504598, -0.77979842821757, -0.467879056930542, -0.15595968564351392, 0.15595968564351415, 0.467879056930542, 0.7797984282175703, 1.0917177995045981, 1.403637170791626], [0, 2, 28, 748, 2320, 635, 69, 5, 0])
2018-01-28 11:14:00,535 - __main__ - DEBUG - Test feature 3 Absolute errors histogram: ([0.0, 0.155959685643514, 0.311919371287028, 0.467879056930542, 0.623838742574056, 0.7797984282175701, 0.935758113861084, 1.0917177995045981, 1.247677485148112, 1.403637170791626], [2320, 1105, 278, 77, 20, 6, 1, 0, 0])
2018-01-28 11:14:00,535 - __main__ - DEBUG - Test feature 3 Squared errors histogram: ([0.0, 0.21891081191421335, 0.4378216238284267, 0.6567324357426401, 0.8756432476568534, 1.0945540595710668, 1.3134648714852801, 1.5323756833994935, 1.7512864953137068, 1.9701973072279202], [3703, 84, 16, 3, 1, 0, 0, 0, 0]):
2018-01-28 11:14:00,535 - __main__ - DEBUG - Test feature 3 Predictions histogram: ([-1.403637170791626, -1.1834913690884907, -0.9633455673853557, -0.7431997656822205, -0.5230539639790853, -0.3029081622759502, -0.08276236057281494, 0.13738344113032008, 0.35752924283345533, 0.5776750445365906], [0, 0, 95, 915, 2046, 751, 0, 0, 0])
2018-01-28 11:14:00,535 - __main__ - DEBUG - Test feature 3 Observations histogram: ([-1.403637170791626, -1.1834913690884907, -0.9633455673853557, -0.7431997656822205, -0.5230539639790853, -0.3029081622759502, -0.08276236057281494, 0.13738344113032008, 0.35752924283345533, 0.5776750445365906], [5, 48, 222, 855, 1407, 1002, 249, 16, 3])
2018-01-28 11:14:00,536 - __main__ - DEBUG - Computing predictions of the model with replaced feature 3
2018-01-28 11:14:00,537 - __main__ - DEBUG - Replacing original feature 3 with predicted values
2018-01-28 11:14:01,035 - __main__ - DEBUG - No predictions for 0 items out of 8886, leaving as is
2018-01-28 11:14:01,075 - __main__ - DEBUG - Done in 0.537874937057 seconds
2018-01-28 11:14:02,258 - __main__ - DEBUG - Done in 1.182436 seconds
2018-01-28 11:14:02,258 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 11:15:18,109 - __main__ - DEBUG - Done in 75.850368 seconds
2018-01-28 11:15:18,153 - __main__ - DEBUG - Replaced mean error baseline: 0.046838
2018-01-28 11:15:18,153 - __main__ - DEBUG - Evaluating replaced model
2018-01-28 11:15:21,349 - __main__ - DEBUG - Replaced feature 3 training Evaluating the model
2018-01-28 11:15:21,394 - __main__ - DEBUG - Replaced feature 3 training Bin range: (0.0, 5.5)
2018-01-28 11:18:19,057 - __main__ - DEBUG - Done in 177.707981 seconds
2018-01-28 11:18:19,058 - __main__ - DEBUG - Replaced feature 3 training Mean error: 0.0108262116599, mean absolute error: 0.046838058132
2018-01-28 11:18:34,027 - __main__ - DEBUG - Replaced feature 3 training RMSE: 0.0622030171738, variance explained: 0.375568973, mean absolute error: 0.046838058132, r2: 0.989999497044
2018-01-28 11:18:34,028 - __main__ - DEBUG - Replaced feature 3 training MRAE: 0.014345060348
2018-01-28 11:18:34,028 - __main__ - DEBUG - Replaced feature 3 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 36, 12963757, 6, 0, 0, 0])
2018-01-28 11:18:34,028 - __main__ - DEBUG - Replaced feature 3 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12963757, 42, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 11:18:34,028 - __main__ - DEBUG - Replaced feature 3 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963799, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 11:18:34,028 - __main__ - DEBUG - Replaced feature 3 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1772, 21789, 137110, 635089, 2231231, 4809117, 4204112, 893802, 29673])
2018-01-28 11:18:34,028 - __main__ - DEBUG - Replaced feature 3 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 11:18:34,029 - __main__ - DEBUG - Computing predictions of the model with replaced feature 3 test
2018-01-28 11:18:34,029 - __main__ - DEBUG - Replacing original feature 3 with predicted values
2018-01-28 11:18:34,476 - __main__ - DEBUG - No predictions for 0 items out of 3807, leaving as is
2018-01-28 11:18:34,519 - __main__ - DEBUG - Done in 0.489390134811 seconds
2018-01-28 11:18:35,540 - __main__ - DEBUG - Done in 1.020002 seconds
2018-01-28 11:18:35,540 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 11:19:07,097 - __main__ - DEBUG - Done in 31.557002 seconds
2018-01-28 11:19:07,146 - __main__ - DEBUG - Replaced mean error baseline test: 0.047491
2018-01-28 11:19:07,146 - __main__ - DEBUG - Evaluating replaced model test
2018-01-28 11:19:09,808 - __main__ - DEBUG - Replaced feature 3 test Evaluating the model
2018-01-28 11:19:09,852 - __main__ - DEBUG - Replaced feature 3 test Bin range: (0.0, 5.5)
2018-01-28 11:20:13,420 - __main__ - DEBUG - Done in 63.611182 seconds
2018-01-28 11:20:13,420 - __main__ - DEBUG - Replaced feature 3 test Mean error: 0.0117590906756, mean absolute error: 0.047490593631
2018-01-28 11:20:19,742 - __main__ - DEBUG - Replaced feature 3 test RMSE: 0.0632220159364, variance explained: 0.392669805659, mean absolute error: 0.047490593631, r2: 0.990105914823
2018-01-28 11:20:19,742 - __main__ - DEBUG - Replaced feature 3 test MRAE: 0.0145614591285
2018-01-28 11:20:19,742 - __main__ - DEBUG - Replaced feature 3 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 43, 5258763, 5, 0, 0, 0])
2018-01-28 11:20:19,743 - __main__ - DEBUG - Replaced feature 3 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5258763, 48, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 11:20:19,743 - __main__ - DEBUG - Replaced feature 3 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 11:20:19,743 - __main__ - DEBUG - Replaced feature 3 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [843, 11520, 66671, 266852, 858054, 1897768, 1761839, 384670, 10572])
2018-01-28 11:20:19,743 - __main__ - DEBUG - Replaced feature 3 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 11:20:19,744 - __main__ - DEBUG - Randomizing feature 3
2018-01-28 11:20:20,095 - __main__ - DEBUG - Done in 0.350569 seconds
2018-01-28 11:20:20,095 - __main__ - DEBUG - Computing predictions of the model with randomized feature 3
2018-01-28 11:20:20,953 - __main__ - DEBUG - Done in 0.858065 seconds
2018-01-28 11:20:20,953 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 11:21:36,826 - __main__ - DEBUG - Done in 75.872764 seconds
2018-01-28 11:21:36,889 - __main__ - DEBUG - Radnomized mean error baseline: 0.089755
2018-01-28 11:21:36,890 - __main__ - DEBUG - Substitution is 1.916278 times better than randomization on the training set
2018-01-28 11:21:36,891 - __main__ - DEBUG - Evaluating randomized model
2018-01-28 11:21:40,228 - __main__ - DEBUG - Randomized feature 3 training Evaluating the model
2018-01-28 11:21:40,279 - __main__ - DEBUG - Randomized feature 3 training Bin range: (0.0, 5.5)
2018-01-28 11:24:40,010 - __main__ - DEBUG - Done in 179.780829 seconds
2018-01-28 11:24:40,010 - __main__ - DEBUG - Randomized feature 3 training Mean error: 0.00756076277923, mean absolute error: 0.0897547522759
2018-01-28 11:24:55,088 - __main__ - DEBUG - Randomized feature 3 training RMSE: 0.121685512326, variance explained: 0.361439615951, mean absolute error: 0.0897547522759, r2: 0.961728393658
2018-01-28 11:24:55,089 - __main__ - DEBUG - Randomized feature 3 training MRAE: 0.027363318122
2018-01-28 11:24:55,089 - __main__ - DEBUG - Randomized feature 3 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 1, 5196, 12956481, 2121, 0, 0, 0])
2018-01-28 11:24:55,089 - __main__ - DEBUG - Randomized feature 3 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12956481, 7265, 52, 1, 0, 0, 0, 0, 0])
2018-01-28 11:24:55,089 - __main__ - DEBUG - Randomized feature 3 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963798, 1, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 11:24:55,089 - __main__ - DEBUG - Randomized feature 3 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1626, 19736, 125567, 607276, 2240220, 4948912, 4148651, 843041, 28646])
2018-01-28 11:24:55,089 - __main__ - DEBUG - Randomized feature 3 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 11:24:55,090 - __main__ - DEBUG - Randomizing feature 3 test
2018-01-28 11:24:55,380 - __main__ - DEBUG - Done in 0.290110 seconds
2018-01-28 11:24:55,381 - __main__ - DEBUG - Computing predictions of the model with randomized feature 3 test
2018-01-28 11:24:55,986 - __main__ - DEBUG - Done in 0.605298 seconds
2018-01-28 11:24:55,987 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 11:25:27,489 - __main__ - DEBUG - Done in 31.502520 seconds
2018-01-28 11:25:27,545 - __main__ - DEBUG - Radnomized mean error baseline test: 0.092094
2018-01-28 11:25:27,545 - __main__ - DEBUG - Substitution is 1.939204 times better than randomization on the test set
2018-01-28 11:25:27,545 - __main__ - DEBUG - Evaluating randomized model test
2018-01-28 11:25:30,569 - __main__ - DEBUG - Randomized feature 3 test Evaluating the model
2018-01-28 11:25:30,613 - __main__ - DEBUG - Randomized feature 3 test Bin range: (0.0, 5.5)
2018-01-28 11:26:34,973 - __main__ - DEBUG - Done in 64.402998 seconds
2018-01-28 11:26:34,973 - __main__ - DEBUG - Randomized feature 3 test Mean error: 0.0100840044748, mean absolute error: 0.0920939511921
2018-01-28 11:26:41,321 - __main__ - DEBUG - Randomized feature 3 test RMSE: 0.126204638313, variance explained: 0.384483833542, mean absolute error: 0.0920939511921, r2: 0.960573375372
2018-01-28 11:26:41,321 - __main__ - DEBUG - Randomized feature 3 test MRAE: 0.0279710528297
2018-01-28 11:26:41,322 - __main__ - DEBUG - Randomized feature 3 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 1232, 5256808, 771, 0, 0, 0])
2018-01-28 11:26:41,322 - __main__ - DEBUG - Randomized feature 3 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5256808, 2001, 2, 0, 0, 0, 0, 0, 0])
2018-01-28 11:26:41,322 - __main__ - DEBUG - Randomized feature 3 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 11:26:41,322 - __main__ - DEBUG - Randomized feature 3 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [759, 10426, 62958, 258322, 868085, 1932823, 1737985, 374392, 13018])
2018-01-28 11:26:41,322 - __main__ - DEBUG - Randomized feature 3 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 11:26:41,323 - __main__ - DEBUG - persist_dir: archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state
2018-01-28 11:26:41,323 - __main__ - DEBUG - Saving the state of current iteration
2018-01-28 11:26:41,323 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/results.pkl
2018-01-28 11:26:41,358 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/lr_model_3.pkl
2018-01-28 11:26:41,807 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/predictions_3.pkl
2018-01-28 11:26:42,155 - __main__ - DEBUG - Processing 4 out of 20
2018-01-28 11:26:42,156 - __main__ - DEBUG - Feature 4 not in [0, 1, 2, 3], processing
2018-01-28 11:26:42,429 - __main__ - DEBUG - predict_internal_feature(features.count()=8886, indicators.count()=8886, f=4, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, no_threshold=True, is_classifier=False, num_classes=None, max_depth=3)
2018-01-28 11:26:42,429 - __main__ - DEBUG - Processing feature 4
2018-01-28 11:26:42,429 - __main__ - DEBUG - Building data set
2018-01-28 11:26:42,470 - __main__ - DEBUG - Done in 0.0408959388733 seconds
2018-01-28 11:26:43,077 - __main__ - DEBUG - train_regression_model(data.count=8886, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, max_depth=3, num_trees=128, is_classifier=False, num_classes=None)
2018-01-28 11:26:43,077 - __main__ - DEBUG - num_classes is None, setting to max_bins=8
2018-01-28 11:26:43,077 - __main__ - DEBUG - Training regression_tree
2018-01-28 11:26:44,228 - __main__ - DEBUG - Done in 1.15127396584 seconds
2018-01-28 11:26:44,954 - __main__ - INFO - DecisionTreeModel regressor of depth 3 with 15 nodes
  If (Isn't movielens_genre:Horror)
   If (imdb_year <= 1996.0)
    If (year <= 1957.0)
     Predict: 0.06247566720140981
    Else (year > 1957.0)
     Predict: 0.11987869813024729
   Else (imdb_year > 1996.0)
    If (Is movielens_genre:Adventure)
     Predict: 0.09461322511694455
    Else (Isn't movielens_genre:Adventure)
     Predict: 0.18702002631039014
  Else (Is movielens_genre:Horror)
   If (Isn't imdb_keywords:slasher)
    If (year <= 1976.0)
     Predict: 0.1784239174279895
    Else (year > 1976.0)
     Predict: 0.26019431226631073
   Else (Is imdb_keywords:slasher)
    If (Isn't imdb_keywords:sequel)
     Predict: 0.30652065922546645
    Else (Is imdb_keywords:sequel)
     Predict: 0.524958090697016

2018-01-28 11:26:44,954 - __main__ - DEBUG - Computing predictions on the test set
2018-01-28 11:26:45,312 - __main__ - DEBUG - Training feature 4 Evaluating the model
2018-01-28 11:26:46,481 - __main__ - DEBUG - Training feature 4 Bin range: (-0.7109807729721069, 1.0849798917770386)
2018-01-28 11:26:48,611 - __main__ - DEBUG - Done in 3.298991 seconds
2018-01-28 11:26:48,611 - __main__ - DEBUG - Training feature 4 Mean error: 2.99857670392e-18, mean absolute error: 0.111275219974
2018-01-28 11:26:48,847 - __main__ - DEBUG - Training feature 4 RMSE: 0.149910952674, variance explained: 0.0036554271931, mean absolute error: 0.111275219974, r2: 0.139900732364
2018-01-28 11:26:48,848 - __main__ - DEBUG - Training feature 4 MRAE: 35.3485210171
2018-01-28 11:26:48,848 - __main__ - DEBUG - Training feature 4 Errors histogram: ([-1.0849798917770386, -0.8438732491599189, -0.6027666065427992, -0.36165996392567956, -0.12055332130855989, 0.12055332130855989, 0.36165996392567945, 0.602766606542799, 0.8438732491599188, 1.0849798917770386], [2, 14, 104, 1472, 5750, 1428, 105, 10, 1])
2018-01-28 11:26:48,848 - __main__ - DEBUG - Training feature 4 Absolute errors histogram: ([0.0, 0.12055332130855984, 0.24110664261711967, 0.3616599639256795, 0.48221328523423934, 0.6027666065427992, 0.723319927851359, 0.8438732491599188, 0.9644265704684787, 1.0849798917770386], [5750, 2289, 611, 143, 66, 14, 10, 3, 0])
2018-01-28 11:26:48,848 - __main__ - DEBUG - Training feature 4 Squared errors histogram: ([0.0, 0.1307979295067238, 0.2615958590134476, 0.3923937885201714, 0.5231917180268952, 0.6539896475336191, 0.7847875770403429, 0.9155855065470666, 1.0463834360537905, 1.1771813655605143], [8650, 171, 42, 10, 8, 2, 2, 1, 0]):
2018-01-28 11:26:48,849 - __main__ - DEBUG - Training feature 4 Predictions histogram: ([-0.7109807729721069, -0.5114295879999796, -0.31187840302785236, -0.1123272180557251, 0.08722396691640222, 0.28677515188852953, 0.48632633686065674, 0.6858775218327842, 0.8854287068049114, 1.0849798917770386], [0, 0, 0, 1018, 7718, 115, 35, 0, 0])
2018-01-28 11:26:48,849 - __main__ - DEBUG - Training feature 4 Observations histogram: ([-0.7109807729721069, -0.5114295879999796, -0.31187840302785236, -0.1123272180557251, 0.08722396691640222, 0.28677515188852953, 0.48632633686065674, 0.6858775218327842, 0.8854287068049114, 1.0849798917770386], [6, 41, 299, 2611, 4375, 1305, 197, 43, 9])
2018-01-28 11:26:48,850 - __main__ - DEBUG - Evaluating regression on the test set
2018-01-28 11:26:48,850 - __main__ - DEBUG - Test feature 4 Evaluating the model
2018-01-28 11:26:49,963 - __main__ - DEBUG - Test feature 4 Bin range: (-0.7646307349205017, 1.0847598314285278)
2018-01-28 11:26:52,157 - __main__ - DEBUG - Done in 3.307258 seconds
2018-01-28 11:26:52,157 - __main__ - DEBUG - Test feature 4 Mean error: -0.00292077200564, mean absolute error: 0.112146164219
2018-01-28 11:26:52,393 - __main__ - DEBUG - Test feature 4 RMSE: 0.15016316184, variance explained: 0.00398240972496, mean absolute error: 0.112146164219, r2: 0.153313258041
2018-01-28 11:26:52,393 - __main__ - DEBUG - Test feature 4 MRAE: 3.04360197537
2018-01-28 11:26:52,393 - __main__ - DEBUG - Test feature 4 Errors histogram: ([-1.0847598314285278, -0.8437020911110772, -0.6026443507936265, -0.3615866104761759, -0.12052887015872527, 0.12052887015872527, 0.361586610476176, 0.6026443507936268, 0.8437020911110773, 1.0847598314285278], [1, 3, 47, 660, 2445, 604, 42, 4, 1])
2018-01-28 11:26:52,393 - __main__ - DEBUG - Test feature 4 Absolute errors histogram: ([0.0, 0.12052887015872532, 0.24105774031745064, 0.36158661047617596, 0.4821154806349013, 0.6026443507936265, 0.7231732209523519, 0.8437020911110773, 0.9642309612698026, 1.0847598314285278], [2445, 981, 283, 65, 24, 4, 3, 0, 2])
2018-01-28 11:26:52,394 - __main__ - DEBUG - Test feature 4 Squared errors histogram: ([0.0, 0.13074487687564978, 0.26148975375129957, 0.39223463062694935, 0.5229795075025991, 0.653724384378249, 0.7844692612538987, 0.9152141381295484, 1.0459590150051983, 1.1767038918808481], [3709, 74, 17, 2, 3, 0, 0, 1, 1]):
2018-01-28 11:26:52,394 - __main__ - DEBUG - Test feature 4 Predictions histogram: ([-0.7646307349205017, -0.559142894215054, -0.35365505350960624, -0.14816721280415845, 0.05732062790128922, 0.2628084686067369, 0.4682963093121848, 0.6737841500176325, 0.8792719907230802, 1.0847598314285278], [0, 0, 0, 0, 3728, 59, 20, 0, 0])
2018-01-28 11:26:52,394 - __main__ - DEBUG - Test feature 4 Observations histogram: ([-0.7646307349205017, -0.559142894215054, -0.35365505350960624, -0.14816721280415845, 0.05732062790128922, 0.2628084686067369, 0.4682963093121848, 0.6737841500176325, 0.8792719907230802, 1.0847598314285278], [3, 10, 76, 822, 2043, 704, 128, 18, 3])
2018-01-28 11:26:52,395 - __main__ - DEBUG - Computing predictions of the model with replaced feature 4
2018-01-28 11:26:52,395 - __main__ - DEBUG - Replacing original feature 4 with predicted values
2018-01-28 11:26:52,868 - __main__ - DEBUG - No predictions for 0 items out of 8886, leaving as is
2018-01-28 11:26:52,909 - __main__ - DEBUG - Done in 0.514147043228 seconds
2018-01-28 11:26:54,001 - __main__ - DEBUG - Done in 1.090990 seconds
2018-01-28 11:26:54,002 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 11:28:10,006 - __main__ - DEBUG - Done in 76.003752 seconds
2018-01-28 11:28:10,059 - __main__ - DEBUG - Replaced mean error baseline: 0.014379
2018-01-28 11:28:10,060 - __main__ - DEBUG - Evaluating replaced model
2018-01-28 11:28:13,250 - __main__ - DEBUG - Replaced feature 4 training Evaluating the model
2018-01-28 11:28:13,298 - __main__ - DEBUG - Replaced feature 4 training Bin range: (0.0, 5.5)
2018-01-28 11:31:10,169 - __main__ - DEBUG - Done in 176.918018 seconds
2018-01-28 11:31:10,169 - __main__ - DEBUG - Replaced feature 4 training Mean error: 0.00182297304337, mean absolute error: 0.0143791792477
2018-01-28 11:31:25,301 - __main__ - DEBUG - Replaced feature 4 training RMSE: 0.0240020954788, variance explained: 0.38795090167, mean absolute error: 0.0143791792477, r2: 0.998510991218
2018-01-28 11:31:25,301 - __main__ - DEBUG - Replaced feature 4 training MRAE: 0.00433833924663
2018-01-28 11:31:25,301 - __main__ - DEBUG - Replaced feature 4 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 17, 12963773, 9, 0, 0, 0])
2018-01-28 11:31:25,301 - __main__ - DEBUG - Replaced feature 4 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12963773, 26, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 11:31:25,301 - __main__ - DEBUG - Replaced feature 4 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963799, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 11:31:25,301 - __main__ - DEBUG - Replaced feature 4 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1929, 24542, 150322, 669923, 2278632, 4756833, 4135088, 916741, 29716])
2018-01-28 11:31:25,301 - __main__ - DEBUG - Replaced feature 4 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 11:31:25,302 - __main__ - DEBUG - Computing predictions of the model with replaced feature 4 test
2018-01-28 11:31:25,302 - __main__ - DEBUG - Replacing original feature 4 with predicted values
2018-01-28 11:31:25,767 - __main__ - DEBUG - No predictions for 0 items out of 3807, leaving as is
2018-01-28 11:31:25,804 - __main__ - DEBUG - Done in 0.501412153244 seconds
2018-01-28 11:31:26,793 - __main__ - DEBUG - Done in 0.988994 seconds
2018-01-28 11:31:26,794 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 11:31:58,455 - __main__ - DEBUG - Done in 31.661640 seconds
2018-01-28 11:31:58,494 - __main__ - DEBUG - Replaced mean error baseline test: 0.013559
2018-01-28 11:31:58,494 - __main__ - DEBUG - Evaluating replaced model test
2018-01-28 11:32:01,398 - __main__ - DEBUG - Replaced feature 4 test Evaluating the model
2018-01-28 11:32:01,449 - __main__ - DEBUG - Replaced feature 4 test Bin range: (0.0, 5.5)
2018-01-28 11:33:05,453 - __main__ - DEBUG - Done in 64.055296 seconds
2018-01-28 11:33:05,454 - __main__ - DEBUG - Replaced feature 4 test Mean error: 0.000112066848577, mean absolute error: 0.0135588433814
2018-01-28 11:33:11,763 - __main__ - DEBUG - Replaced feature 4 test RMSE: 0.0227059306799, variance explained: 0.404914469876, mean absolute error: 0.0135588433814, r2: 0.998723803409
2018-01-28 11:33:11,764 - __main__ - DEBUG - Replaced feature 4 test MRAE: 0.00415343532623
2018-01-28 11:33:11,764 - __main__ - DEBUG - Replaced feature 4 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 0, 5258804, 7, 0, 0, 0])
2018-01-28 11:33:11,764 - __main__ - DEBUG - Replaced feature 4 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5258804, 7, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 11:33:11,764 - __main__ - DEBUG - Replaced feature 4 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 11:33:11,764 - __main__ - DEBUG - Replaced feature 4 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [947, 13057, 73170, 282359, 875971, 1880567, 1737889, 384479, 10351])
2018-01-28 11:33:11,764 - __main__ - DEBUG - Replaced feature 4 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 11:33:11,764 - __main__ - DEBUG - Randomizing feature 4
2018-01-28 11:33:12,089 - __main__ - DEBUG - Done in 0.324894 seconds
2018-01-28 11:33:12,090 - __main__ - DEBUG - Computing predictions of the model with randomized feature 4
2018-01-28 11:33:12,812 - __main__ - DEBUG - Done in 0.721864 seconds
2018-01-28 11:33:12,812 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 11:34:28,610 - __main__ - DEBUG - Done in 75.797921 seconds
2018-01-28 11:34:28,667 - __main__ - DEBUG - Radnomized mean error baseline: 0.024221
2018-01-28 11:34:28,667 - __main__ - DEBUG - Substitution is 1.684462 times better than randomization on the training set
2018-01-28 11:34:28,667 - __main__ - DEBUG - Evaluating randomized model
2018-01-28 11:34:31,802 - __main__ - DEBUG - Randomized feature 4 training Evaluating the model
2018-01-28 11:34:31,842 - __main__ - DEBUG - Randomized feature 4 training Bin range: (0.0, 5.5)
2018-01-28 11:37:30,032 - __main__ - DEBUG - Done in 178.229412 seconds
2018-01-28 11:37:30,032 - __main__ - DEBUG - Randomized feature 4 training Mean error: 0.00152591020589, mean absolute error: 0.0242211871351
2018-01-28 11:37:45,017 - __main__ - DEBUG - Randomized feature 4 training RMSE: 0.039851164363, variance explained: 0.388942807187, mean absolute error: 0.0242211871351, r2: 0.995895304255
2018-01-28 11:37:45,017 - __main__ - DEBUG - Randomized feature 4 training MRAE: 0.00732321158693
2018-01-28 11:37:45,017 - __main__ - DEBUG - Randomized feature 4 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 94, 12963550, 155, 0, 0, 0])
2018-01-28 11:37:45,018 - __main__ - DEBUG - Randomized feature 4 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12963550, 248, 1, 0, 0, 0, 0, 0, 0])
2018-01-28 11:37:45,018 - __main__ - DEBUG - Randomized feature 4 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963799, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 11:37:45,018 - __main__ - DEBUG - Randomized feature 4 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1888, 24476, 150866, 673612, 2282180, 4747601, 4132859, 920879, 29373])
2018-01-28 11:37:45,018 - __main__ - DEBUG - Randomized feature 4 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 11:37:45,019 - __main__ - DEBUG - Randomizing feature 4 test
2018-01-28 11:37:45,371 - __main__ - DEBUG - Done in 0.352385 seconds
2018-01-28 11:37:45,372 - __main__ - DEBUG - Computing predictions of the model with randomized feature 4 test
2018-01-28 11:37:46,060 - __main__ - DEBUG - Done in 0.688551 seconds
2018-01-28 11:37:46,061 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 11:38:17,502 - __main__ - DEBUG - Done in 31.440927 seconds
2018-01-28 11:38:17,543 - __main__ - DEBUG - Radnomized mean error baseline test: 0.023757
2018-01-28 11:38:17,543 - __main__ - DEBUG - Substitution is 1.752133 times better than randomization on the test set
2018-01-28 11:38:17,543 - __main__ - DEBUG - Evaluating randomized model test
2018-01-28 11:38:20,361 - __main__ - DEBUG - Randomized feature 4 test Evaluating the model
2018-01-28 11:38:20,408 - __main__ - DEBUG - Randomized feature 4 test Bin range: (0.0, 5.5)
2018-01-28 11:39:24,207 - __main__ - DEBUG - Done in 63.846001 seconds
2018-01-28 11:39:24,207 - __main__ - DEBUG - Randomized feature 4 test Mean error: -9.24927833376e-05, mean absolute error: 0.0237568911068
2018-01-28 11:39:30,715 - __main__ - DEBUG - Randomized feature 4 test RMSE: 0.0397716615783, variance explained: 0.405896031266, mean absolute error: 0.0237568911068, r2: 0.996084507147
2018-01-28 11:39:30,715 - __main__ - DEBUG - Randomized feature 4 test MRAE: 0.00724097014958
2018-01-28 11:39:30,716 - __main__ - DEBUG - Randomized feature 4 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 83, 5258640, 88, 0, 0, 0])
2018-01-28 11:39:30,716 - __main__ - DEBUG - Randomized feature 4 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5258640, 170, 1, 0, 0, 0, 0, 0, 0])
2018-01-28 11:39:30,716 - __main__ - DEBUG - Randomized feature 4 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 11:39:30,716 - __main__ - DEBUG - Randomized feature 4 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [906, 13079, 73633, 282977, 877276, 1877780, 1736562, 386005, 10570])
2018-01-28 11:39:30,716 - __main__ - DEBUG - Randomized feature 4 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 11:39:30,717 - __main__ - DEBUG - persist_dir: archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state
2018-01-28 11:39:30,717 - __main__ - DEBUG - Saving the state of current iteration
2018-01-28 11:39:30,717 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/results.pkl
2018-01-28 11:39:30,758 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/lr_model_4.pkl
2018-01-28 11:39:31,153 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/predictions_4.pkl
2018-01-28 11:39:31,462 - __main__ - DEBUG - Processing 5 out of 20
2018-01-28 11:39:31,462 - __main__ - DEBUG - Feature 5 not in [0, 1, 2, 3, 4], processing
2018-01-28 11:39:31,708 - __main__ - DEBUG - predict_internal_feature(features.count()=8886, indicators.count()=8886, f=5, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, no_threshold=True, is_classifier=False, num_classes=None, max_depth=3)
2018-01-28 11:39:31,709 - __main__ - DEBUG - Processing feature 5
2018-01-28 11:39:31,709 - __main__ - DEBUG - Building data set
2018-01-28 11:39:31,740 - __main__ - DEBUG - Done in 0.0308790206909 seconds
2018-01-28 11:39:32,321 - __main__ - DEBUG - train_regression_model(data.count=8886, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, max_depth=3, num_trees=128, is_classifier=False, num_classes=None)
2018-01-28 11:39:32,321 - __main__ - DEBUG - num_classes is None, setting to max_bins=8
2018-01-28 11:39:32,321 - __main__ - DEBUG - Training regression_tree
2018-01-28 11:39:33,419 - __main__ - DEBUG - Done in 1.09769797325 seconds
2018-01-28 11:39:34,193 - __main__ - INFO - DecisionTreeModel regressor of depth 3 with 15 nodes
  If (imdb_year <= 1988.0)
   If (Is imdb_keywords:cult-film)
    If (Is imdb_keywords:first-part)
     Predict: -0.37129595012358224
    Else (Isn't imdb_keywords:first-part)
     Predict: -0.2608280508721957
   Else (Isn't imdb_keywords:cult-film)
    If (Isn't movielens_genre:Drama)
     Predict: -0.23140925177876795
    Else (Is movielens_genre:Drama)
     Predict: -0.18122719066471027
  Else (imdb_year > 1988.0)
   If (imdb_year <= 1996.0)
    If (Is movielens_genre:Comedy)
     Predict: -0.1438714002404898
    Else (Isn't movielens_genre:Comedy)
     Predict: -0.07350644485086855
   Else (imdb_year > 1996.0)
    If (Is movielens_genre:Comedy)
     Predict: -0.04483931794658991
    Else (Isn't movielens_genre:Comedy)
     Predict: 0.006842578014257924

2018-01-28 11:39:34,193 - __main__ - DEBUG - Computing predictions on the test set
2018-01-28 11:39:34,524 - __main__ - DEBUG - Training feature 5 Evaluating the model
2018-01-28 11:39:35,692 - __main__ - DEBUG - Training feature 5 Bin range: (-1.4901291131973267, 0.7602754831314087)
2018-01-28 11:39:37,764 - __main__ - DEBUG - Done in 3.240001 seconds
2018-01-28 11:39:37,765 - __main__ - DEBUG - Training feature 5 Mean error: 3.5982920447e-18, mean absolute error: 0.130246061818
2018-01-28 11:39:37,988 - __main__ - DEBUG - Training feature 5 RMSE: 0.173755579558, variance explained: 0.0103529815395, mean absolute error: 0.130246061818, r2: 0.2553518619
2018-01-28 11:39:37,988 - __main__ - DEBUG - Training feature 5 MRAE: 13.5056026546
2018-01-28 11:39:37,988 - __main__ - DEBUG - Training feature 5 Errors histogram: ([-1.4901291131973267, -1.1589893102645874, -0.8278495073318481, -0.4967097043991089, -0.16556990146636963, 0.16556990146636963, 0.4967097043991089, 0.8278495073318481, 1.1589893102645874, 1.4901291131973267], [0, 0, 51, 1246, 6342, 1164, 77, 5, 1])
2018-01-28 11:39:37,989 - __main__ - DEBUG - Training feature 5 Absolute errors histogram: ([0.0, 0.16556990146636963, 0.33113980293273926, 0.4967097043991089, 0.6622796058654785, 0.8278495073318481, 0.9934194087982178, 1.1589893102645874, 1.324559211730957, 1.4901291131973267], [6342, 2009, 401, 100, 28, 5, 0, 1, 0])
2018-01-28 11:39:37,989 - __main__ - DEBUG - Training feature 5 Squared errors histogram: ([0.0, 0.24672053044425013, 0.49344106088850026, 0.7401615913327504, 0.9868821217770005, 1.2336026522212507, 1.4803231826655008, 1.727043713109751, 1.973764243554001, 2.220484773998251], [8752, 108, 20, 5, 0, 0, 1, 0, 0]):
2018-01-28 11:39:37,989 - __main__ - DEBUG - Training feature 5 Predictions histogram: ([-1.4901291131973267, -1.2400841580496893, -0.9900392029020522, -0.7399942477544149, -0.48994929260677766, -0.2399043374591403, 0.010140617688496834, 0.26018557283613397, 0.5102305279837713, 0.7602754831314087], [0, 0, 0, 0, 804, 8082, 0, 0, 0])
2018-01-28 11:39:37,989 - __main__ - DEBUG - Training feature 5 Observations histogram: ([-1.4901291131973267, -1.2400841580496893, -0.9900392029020522, -0.7399942477544149, -0.48994929260677766, -0.2399043374591403, 0.010140617688496834, 0.26018557283613397, 0.5102305279837713, 0.7602754831314087], [1, 3, 28, 200, 1865, 4280, 2214, 270, 25])
2018-01-28 11:39:37,990 - __main__ - DEBUG - Evaluating regression on the test set
2018-01-28 11:39:37,991 - __main__ - DEBUG - Test feature 5 Evaluating the model
2018-01-28 11:39:39,131 - __main__ - DEBUG - Test feature 5 Bin range: (-1.1838874816894531, 0.9623957276344299)
2018-01-28 11:39:41,116 - __main__ - DEBUG - Done in 3.125254 seconds
2018-01-28 11:39:41,116 - __main__ - DEBUG - Test feature 5 Mean error: 0.0039406980224, mean absolute error: 0.127266005156
2018-01-28 11:39:41,340 - __main__ - DEBUG - Test feature 5 RMSE: 0.171543564136, variance explained: 0.0105117647707, mean absolute error: 0.127266005156, r2: 0.267089662054
2018-01-28 11:39:41,340 - __main__ - DEBUG - Test feature 5 MRAE: 2.4787292874
2018-01-28 11:39:41,340 - __main__ - DEBUG - Test feature 5 Errors histogram: ([-1.1838874816894531, -0.9208013746473525, -0.6577152676052518, -0.3946291605631511, -0.13154305352105045, 0.13154305352105022, 0.3946291605631509, 0.6577152676052516, 0.9208013746473522, 1.1838874816894531], [1, 7, 50, 625, 2378, 677, 61, 6, 2])
2018-01-28 11:39:41,340 - __main__ - DEBUG - Test feature 5 Absolute errors histogram: ([0.0, 0.13154305352105033, 0.26308610704210067, 0.394629160563151, 0.5261722140842013, 0.6577152676052517, 0.789258321126302, 0.9208013746473523, 1.0523444281684027, 1.1838874816894531], [2378, 1029, 273, 79, 32, 10, 3, 3, 0])
2018-01-28 11:39:41,340 - __main__ - DEBUG - Test feature 5 Squared errors histogram: ([0.0, 0.15573217436677725, 0.3114643487335545, 0.4671965231003318, 0.622928697467109, 0.7786608718338862, 0.9343930462006635, 1.0901252205674408, 1.245857394934218, 1.4015895693009952], [3680, 85, 29, 7, 2, 4, 0, 0, 0]):
2018-01-28 11:39:41,341 - __main__ - DEBUG - Test feature 5 Predictions histogram: ([-1.1838874816894531, -0.9454115695423551, -0.7069356573952569, -0.4684597452481587, -0.22998383310106063, 0.008492079046037437, 0.24696799119313573, 0.4854439033402338, 0.7239198154873319, 0.9623957276344299], [0, 0, 0, 821, 2986, 0, 0, 0, 0])
2018-01-28 11:39:41,341 - __main__ - DEBUG - Test feature 5 Observations histogram: ([-1.1838874816894531, -0.9454115695423551, -0.7069356573952569, -0.4684597452481587, -0.22998383310106063, 0.008492079046037437, 0.24696799119313573, 0.4854439033402338, 0.7239198154873319, 0.9623957276344299], [5, 12, 93, 853, 1786, 925, 111, 21, 1])
2018-01-28 11:39:41,341 - __main__ - DEBUG - Computing predictions of the model with replaced feature 5
2018-01-28 11:39:41,341 - __main__ - DEBUG - Replacing original feature 5 with predicted values
2018-01-28 11:39:41,810 - __main__ - DEBUG - No predictions for 0 items out of 8886, leaving as is
2018-01-28 11:39:41,851 - __main__ - DEBUG - Done in 0.509891986847 seconds
2018-01-28 11:39:43,055 - __main__ - DEBUG - Done in 1.202876 seconds
2018-01-28 11:39:43,056 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 11:40:59,399 - __main__ - DEBUG - Done in 76.343776 seconds
2018-01-28 11:40:59,464 - __main__ - DEBUG - Replaced mean error baseline: 0.018048
2018-01-28 11:40:59,464 - __main__ - DEBUG - Evaluating replaced model
2018-01-28 11:41:02,515 - __main__ - DEBUG - Replaced feature 5 training Evaluating the model
2018-01-28 11:41:02,562 - __main__ - DEBUG - Replaced feature 5 training Bin range: (0.0, 5.5)
2018-01-28 11:44:00,301 - __main__ - DEBUG - Done in 177.784950 seconds
2018-01-28 11:44:00,301 - __main__ - DEBUG - Replaced feature 5 training Mean error: -0.00475846413994, mean absolute error: 0.0180478529271
2018-01-28 11:44:15,248 - __main__ - DEBUG - Replaced feature 5 training RMSE: 0.0282866789095, variance explained: 0.383908807259, mean absolute error: 0.0180478529271, r2: 0.997931941297
2018-01-28 11:44:15,248 - __main__ - DEBUG - Replaced feature 5 training MRAE: 0.00555893971187
2018-01-28 11:44:15,248 - __main__ - DEBUG - Replaced feature 5 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 2, 12963797, 0, 0, 0, 0])
2018-01-28 11:44:15,248 - __main__ - DEBUG - Replaced feature 5 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12963797, 2, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 11:44:15,249 - __main__ - DEBUG - Replaced feature 5 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963799, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 11:44:15,249 - __main__ - DEBUG - Replaced feature 5 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1910, 24124, 148906, 671681, 2307269, 4802666, 4097438, 881780, 27956])
2018-01-28 11:44:15,249 - __main__ - DEBUG - Replaced feature 5 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 11:44:15,250 - __main__ - DEBUG - Computing predictions of the model with replaced feature 5 test
2018-01-28 11:44:15,250 - __main__ - DEBUG - Replacing original feature 5 with predicted values
2018-01-28 11:44:15,715 - __main__ - DEBUG - No predictions for 0 items out of 3807, leaving as is
2018-01-28 11:44:15,756 - __main__ - DEBUG - Done in 0.506115198135 seconds
2018-01-28 11:44:17,011 - __main__ - DEBUG - Done in 1.254522 seconds
2018-01-28 11:44:17,012 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 11:44:47,865 - __main__ - DEBUG - Done in 30.853336 seconds
2018-01-28 11:44:47,919 - __main__ - DEBUG - Replaced mean error baseline test: 0.017289
2018-01-28 11:44:47,920 - __main__ - DEBUG - Evaluating replaced model test
2018-01-28 11:44:50,658 - __main__ - DEBUG - Replaced feature 5 test Evaluating the model
2018-01-28 11:44:50,702 - __main__ - DEBUG - Replaced feature 5 test Bin range: (0.0, 5.5)
2018-01-28 11:45:54,629 - __main__ - DEBUG - Done in 63.970402 seconds
2018-01-28 11:45:54,629 - __main__ - DEBUG - Replaced feature 5 test Mean error: -0.0061189239328, mean absolute error: 0.017289033307
2018-01-28 11:46:00,994 - __main__ - DEBUG - Replaced feature 5 test RMSE: 0.0276748114482, variance explained: 0.401140034785, mean absolute error: 0.017289033307, r2: 0.998104131083
2018-01-28 11:46:00,994 - __main__ - DEBUG - Replaced feature 5 test MRAE: 0.00533558233501
2018-01-28 11:46:00,994 - __main__ - DEBUG - Replaced feature 5 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 2, 5258809, 0, 0, 0, 0])
2018-01-28 11:46:00,994 - __main__ - DEBUG - Replaced feature 5 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5258809, 2, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 11:46:00,995 - __main__ - DEBUG - Replaced feature 5 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 11:46:00,995 - __main__ - DEBUG - Replaced feature 5 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [936, 12778, 72444, 282241, 888368, 1902537, 1715911, 373744, 9832])
2018-01-28 11:46:00,995 - __main__ - DEBUG - Replaced feature 5 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 11:46:00,996 - __main__ - DEBUG - Randomizing feature 5
2018-01-28 11:46:01,313 - __main__ - DEBUG - Done in 0.317061 seconds
2018-01-28 11:46:01,313 - __main__ - DEBUG - Computing predictions of the model with randomized feature 5
2018-01-28 11:46:01,985 - __main__ - DEBUG - Done in 0.671767 seconds
2018-01-28 11:46:01,985 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 11:47:17,797 - __main__ - DEBUG - Done in 75.812042 seconds
2018-01-28 11:47:17,863 - __main__ - DEBUG - Radnomized mean error baseline: 0.037283
2018-01-28 11:47:17,864 - __main__ - DEBUG - Substitution is 2.065770 times better than randomization on the training set
2018-01-28 11:47:17,864 - __main__ - DEBUG - Evaluating randomized model
2018-01-28 11:47:21,164 - __main__ - DEBUG - Randomized feature 5 training Evaluating the model
2018-01-28 11:47:21,213 - __main__ - DEBUG - Randomized feature 5 training Bin range: (0.0, 5.5)
2018-01-28 11:50:19,218 - __main__ - DEBUG - Done in 178.052911 seconds
2018-01-28 11:50:19,218 - __main__ - DEBUG - Randomized feature 5 training Mean error: -0.00899162557142, mean absolute error: 0.0372827181252
2018-01-28 11:50:34,321 - __main__ - DEBUG - Randomized feature 5 training RMSE: 0.0579137870407, variance explained: 0.381980848101, mean absolute error: 0.0372827181252, r2: 0.991331122407
2018-01-28 11:50:34,321 - __main__ - DEBUG - Randomized feature 5 training MRAE: 0.0112552459556
2018-01-28 11:50:34,321 - __main__ - DEBUG - Randomized feature 5 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 97, 12963658, 44, 0, 0, 0])
2018-01-28 11:50:34,321 - __main__ - DEBUG - Randomized feature 5 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12963658, 141, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 11:50:34,321 - __main__ - DEBUG - Randomized feature 5 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963799, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 11:50:34,321 - __main__ - DEBUG - Randomized feature 5 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1942, 24180, 149090, 673231, 2323619, 4829603, 4075940, 858924, 27202])
2018-01-28 11:50:34,322 - __main__ - DEBUG - Randomized feature 5 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 11:50:34,322 - __main__ - DEBUG - Randomizing feature 5 test
2018-01-28 11:50:34,661 - __main__ - DEBUG - Done in 0.339130 seconds
2018-01-28 11:50:34,662 - __main__ - DEBUG - Computing predictions of the model with randomized feature 5 test
2018-01-28 11:50:35,385 - __main__ - DEBUG - Done in 0.723021 seconds
2018-01-28 11:50:35,385 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 11:51:06,868 - __main__ - DEBUG - Done in 31.482786 seconds
2018-01-28 11:51:06,903 - __main__ - DEBUG - Radnomized mean error baseline test: 0.035706
2018-01-28 11:51:06,904 - __main__ - DEBUG - Substitution is 2.065238 times better than randomization on the test set
2018-01-28 11:51:06,904 - __main__ - DEBUG - Evaluating randomized model test
2018-01-28 11:51:09,656 - __main__ - DEBUG - Randomized feature 5 test Evaluating the model
2018-01-28 11:51:09,705 - __main__ - DEBUG - Randomized feature 5 test Bin range: (0.0, 5.5)
2018-01-28 11:52:14,173 - __main__ - DEBUG - Done in 64.516646 seconds
2018-01-28 11:52:14,173 - __main__ - DEBUG - Randomized feature 5 test Mean error: -0.0107499708256, mean absolute error: 0.0357059624556
2018-01-28 11:52:20,587 - __main__ - DEBUG - Randomized feature 5 test RMSE: 0.0585119794371, variance explained: 0.399009210909, mean absolute error: 0.0357059624556, r2: 0.9915252178
2018-01-28 11:52:20,587 - __main__ - DEBUG - Randomized feature 5 test MRAE: 0.0108060934284
2018-01-28 11:52:20,587 - __main__ - DEBUG - Randomized feature 5 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 215, 5258555, 41, 0, 0, 0])
2018-01-28 11:52:20,588 - __main__ - DEBUG - Randomized feature 5 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5258555, 255, 1, 0, 0, 0, 0, 0, 0])
2018-01-28 11:52:20,588 - __main__ - DEBUG - Randomized feature 5 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 11:52:20,588 - __main__ - DEBUG - Randomized feature 5 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [951, 12830, 72196, 282349, 896629, 1917305, 1701864, 364867, 9800])
2018-01-28 11:52:20,588 - __main__ - DEBUG - Randomized feature 5 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 11:52:20,589 - __main__ - DEBUG - persist_dir: archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state
2018-01-28 11:52:20,589 - __main__ - DEBUG - Saving the state of current iteration
2018-01-28 11:52:20,589 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/results.pkl
2018-01-28 11:52:20,627 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/lr_model_5.pkl
2018-01-28 11:52:21,040 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/predictions_5.pkl
2018-01-28 11:52:21,411 - __main__ - DEBUG - Processing 6 out of 20
2018-01-28 11:52:21,412 - __main__ - DEBUG - Feature 6 not in [0, 1, 2, 3, 4, 5], processing
2018-01-28 11:52:21,634 - __main__ - DEBUG - predict_internal_feature(features.count()=8886, indicators.count()=8886, f=6, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, no_threshold=True, is_classifier=False, num_classes=None, max_depth=3)
2018-01-28 11:52:21,634 - __main__ - DEBUG - Processing feature 6
2018-01-28 11:52:21,634 - __main__ - DEBUG - Building data set
2018-01-28 11:52:21,661 - __main__ - DEBUG - Done in 0.0268828868866 seconds
2018-01-28 11:52:22,225 - __main__ - DEBUG - train_regression_model(data.count=8886, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, max_depth=3, num_trees=128, is_classifier=False, num_classes=None)
2018-01-28 11:52:22,226 - __main__ - DEBUG - num_classes is None, setting to max_bins=8
2018-01-28 11:52:22,226 - __main__ - DEBUG - Training regression_tree
2018-01-28 11:52:23,368 - __main__ - DEBUG - Done in 1.14285111427 seconds
2018-01-28 11:52:24,288 - __main__ - INFO - DecisionTreeModel regressor of depth 3 with 15 nodes
  If (average_rating <= 2.88)
   If (Isn't movielens_genre:Comedy)
    If (average_rating <= 2.5210405508798774)
     Predict: -0.3110037264176113
    Else (average_rating > 2.5210405508798774)
     Predict: -0.4150326169286372
   Else (Is movielens_genre:Comedy)
    If (average_rating <= 2.5210405508798774)
     Predict: -0.17925142937661573
    Else (average_rating > 2.5210405508798774)
     Predict: -0.265793820927553
  Else (average_rating > 2.88)
   If (Isn't movielens_genre:Comedy)
    If (imdb_rating <= 6.9)
     Predict: -0.468563890150134
    Else (imdb_rating > 6.9)
     Predict: -0.5301211710256738
   Else (Is movielens_genre:Comedy)
    If (Is movielens_genre:Drama)
     Predict: -0.46193101575816153
    Else (Isn't movielens_genre:Drama)
     Predict: -0.3621212201782591

2018-01-28 11:52:24,288 - __main__ - DEBUG - Computing predictions on the test set
2018-01-28 11:52:24,636 - __main__ - DEBUG - Training feature 6 Evaluating the model
2018-01-28 11:52:25,632 - __main__ - DEBUG - Training feature 6 Bin range: (-1.8438538312911987, 0.6106691360473633)
2018-01-28 11:52:27,548 - __main__ - DEBUG - Done in 2.912176 seconds
2018-01-28 11:52:27,548 - __main__ - DEBUG - Training feature 6 Mean error: -5.49739062385e-18, mean absolute error: 0.118752151773
2018-01-28 11:52:27,763 - __main__ - DEBUG - Training feature 6 RMSE: 0.161168622661, variance explained: 0.00876102611545, mean absolute error: 0.118752151773, r2: 0.25221492332
2018-01-28 11:52:27,764 - __main__ - DEBUG - Training feature 6 MRAE: 1.05090604806
2018-01-28 11:52:27,764 - __main__ - DEBUG - Training feature 6 Errors histogram: ([-1.8438538312911987, -1.4341085354487102, -1.0243632396062217, -0.6146179437637329, -0.20487264792124438, 0.20487264792124416, 0.6146179437637329, 1.0243632396062212, 1.43410853544871, 1.8438538312911987], [0, 1, 13, 716, 7451, 683, 20, 2, 0])
2018-01-28 11:52:27,764 - __main__ - DEBUG - Training feature 6 Absolute errors histogram: ([0.0, 0.2048726479212443, 0.4097452958424886, 0.6146179437637329, 0.8194905916849772, 1.0243632396062214, 1.2292358875274658, 1.43410853544871, 1.6389811833699544, 1.8438538312911987], [7451, 1229, 170, 28, 5, 2, 1, 0, 0])
2018-01-28 11:52:27,765 - __main__ - DEBUG - Training feature 6 Squared errors histogram: ([0.0, 0.37775521679635915, 0.7555104335927183, 1.1332656503890775, 1.5110208671854366, 1.8887760839817958, 2.266531300778155, 2.644286517574514, 3.022041734370873, 3.3997969511672324], [8850, 31, 3, 1, 1, 0, 0, 0, 0]):
2018-01-28 11:52:27,765 - __main__ - DEBUG - Training feature 6 Predictions histogram: ([-1.8438538312911987, -1.5711290571424696, -1.2984042829937406, -1.0256795088450115, -0.7529547346962824, -0.4802299605475533, -0.2075051863988242, 0.06521958774990488, 0.33794436189863397, 0.6106691360473633], [0, 0, 0, 0, 2472, 6066, 348, 0, 0])
2018-01-28 11:52:27,765 - __main__ - DEBUG - Training feature 6 Observations histogram: ([-1.8438538312911987, -1.5711290571424696, -1.2984042829937406, -1.0256795088450115, -0.7529547346962824, -0.4802299605475533, -0.2075051863988242, 0.06521958774990488, 0.33794436189863397, 0.6106691360473633], [1, 2, 18, 228, 3486, 4172, 870, 100, 9])
2018-01-28 11:52:27,766 - __main__ - DEBUG - Evaluating regression on the test set
2018-01-28 11:52:27,766 - __main__ - DEBUG - Test feature 6 Evaluating the model
2018-01-28 11:52:28,707 - __main__ - DEBUG - Test feature 6 Bin range: (-1.4167906045913696, 0.35518208146095276)
2018-01-28 11:52:30,681 - __main__ - DEBUG - Done in 2.914411 seconds
2018-01-28 11:52:30,681 - __main__ - DEBUG - Test feature 6 Mean error: -3.04441664082e-05, mean absolute error: 0.118036744446
2018-01-28 11:52:30,914 - __main__ - DEBUG - Test feature 6 RMSE: 0.156869222424, variance explained: 0.00881176529669, mean absolute error: 0.118036744446, r2: 0.247958868291
2018-01-28 11:52:30,914 - __main__ - DEBUG - Test feature 6 MRAE: 2.4218493609
2018-01-28 11:52:30,915 - __main__ - DEBUG - Test feature 6 Errors histogram: ([-1.4167906045913696, -1.1019482480155096, -0.7871058914396498, -0.4722635348637899, -0.15742117828793, 0.15742117828793, 0.4722635348637898, 0.7871058914396496, 1.1019482480155096, 1.4167906045913696], [0, 0, 17, 513, 2758, 499, 18, 1, 1])
2018-01-28 11:52:30,915 - __main__ - DEBUG - Test feature 6 Absolute errors histogram: ([0.0, 0.15742117828792995, 0.3148423565758599, 0.47226353486378986, 0.6296847131517198, 0.7871058914396498, 0.9445270697275797, 1.1019482480155096, 1.2593694263034396, 1.4167906045913696], [2758, 859, 153, 27, 8, 1, 0, 1, 0])
2018-01-28 11:52:30,915 - __main__ - DEBUG - Test feature 6 Squared errors histogram: ([0.0, 0.22303284636204207, 0.44606569272408414, 0.6690985390861262, 0.8921313854481683, 1.1151642318102104, 1.3381970781722523, 1.5612299245342944, 1.7842627708963366, 2.0072956172583787], [3770, 32, 3, 1, 0, 1, 0, 0, 0]):
2018-01-28 11:52:30,915 - __main__ - DEBUG - Test feature 6 Predictions histogram: ([-1.4167906045913696, -1.219904750585556, -1.0230188965797424, -0.8261330425739288, -0.6292471885681152, -0.43236133456230164, -0.23547548055648804, -0.03858962655067444, 0.15829622745513916, 0.35518208146095276], [0, 0, 0, 0, 2333, 1335, 139, 0, 0])
2018-01-28 11:52:30,916 - __main__ - DEBUG - Test feature 6 Observations histogram: ([-1.4167906045913696, -1.219904750585556, -1.0230188965797424, -0.8261330425739288, -0.6292471885681152, -0.43236133456230164, -0.23547548055648804, -0.03858962655067444, 0.15829622745513916, 0.35518208146095276], [1, 4, 29, 392, 1653, 1223, 394, 97, 14])
2018-01-28 11:52:30,917 - __main__ - DEBUG - Computing predictions of the model with replaced feature 6
2018-01-28 11:52:30,917 - __main__ - DEBUG - Replacing original feature 6 with predicted values
2018-01-28 11:52:31,388 - __main__ - DEBUG - No predictions for 0 items out of 8886, leaving as is
2018-01-28 11:52:31,425 - __main__ - DEBUG - Done in 0.508443117142 seconds
2018-01-28 11:52:32,915 - __main__ - DEBUG - Done in 1.488352 seconds
2018-01-28 11:52:32,915 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 11:53:49,072 - __main__ - DEBUG - Done in 76.156801 seconds
2018-01-28 11:53:49,122 - __main__ - DEBUG - Replaced mean error baseline: 0.042267
2018-01-28 11:53:49,123 - __main__ - DEBUG - Evaluating replaced model
2018-01-28 11:53:52,220 - __main__ - DEBUG - Replaced feature 6 training Evaluating the model
2018-01-28 11:53:52,273 - __main__ - DEBUG - Replaced feature 6 training Bin range: (0.0, 5.5)
2018-01-28 11:56:51,300 - __main__ - DEBUG - Done in 179.079718 seconds
2018-01-28 11:56:51,300 - __main__ - DEBUG - Replaced feature 6 training Mean error: 0.015536739328, mean absolute error: 0.0422668384716
2018-01-28 11:57:06,456 - __main__ - DEBUG - Replaced feature 6 training RMSE: 0.0620197725938, variance explained: 0.384426657568, mean absolute error: 0.0422668384716, r2: 0.990058331447
2018-01-28 11:57:06,456 - __main__ - DEBUG - Replaced feature 6 training MRAE: 0.0130522138541
2018-01-28 11:57:06,456 - __main__ - DEBUG - Replaced feature 6 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 19, 12961095, 2685, 0, 0, 0])
2018-01-28 11:57:06,456 - __main__ - DEBUG - Replaced feature 6 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12961095, 2699, 5, 0, 0, 0, 0, 0, 0])
2018-01-28 11:57:06,457 - __main__ - DEBUG - Replaced feature 6 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963799, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 11:57:06,457 - __main__ - DEBUG - Replaced feature 6 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1758, 23229, 146086, 643940, 2199016, 4755633, 4222773, 938201, 33077])
2018-01-28 11:57:06,457 - __main__ - DEBUG - Replaced feature 6 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 11:57:06,458 - __main__ - DEBUG - Computing predictions of the model with replaced feature 6 test
2018-01-28 11:57:06,458 - __main__ - DEBUG - Replacing original feature 6 with predicted values
2018-01-28 11:57:06,979 - __main__ - DEBUG - No predictions for 0 items out of 3807, leaving as is
2018-01-28 11:57:07,014 - __main__ - DEBUG - Done in 0.55613899231 seconds
2018-01-28 11:57:08,215 - __main__ - DEBUG - Done in 1.200084 seconds
2018-01-28 11:57:08,215 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 11:57:39,318 - __main__ - DEBUG - Done in 31.103089 seconds
2018-01-28 11:57:39,373 - __main__ - DEBUG - Replaced mean error baseline test: 0.041694
2018-01-28 11:57:39,374 - __main__ - DEBUG - Evaluating replaced model test
2018-01-28 11:57:42,481 - __main__ - DEBUG - Replaced feature 6 test Evaluating the model
2018-01-28 11:57:42,530 - __main__ - DEBUG - Replaced feature 6 test Bin range: (0.0, 5.5)
2018-01-28 11:58:46,925 - __main__ - DEBUG - Done in 64.443589 seconds
2018-01-28 11:58:46,925 - __main__ - DEBUG - Replaced feature 6 test Mean error: 0.0155587963327, mean absolute error: 0.0416937030248
2018-01-28 11:58:53,214 - __main__ - DEBUG - Replaced feature 6 test RMSE: 0.0627887876296, variance explained: 0.394438916259, mean absolute error: 0.0416937030248, r2: 0.990241048493
2018-01-28 11:58:53,214 - __main__ - DEBUG - Replaced feature 6 test MRAE: 0.0130159782409
2018-01-28 11:58:53,214 - __main__ - DEBUG - Replaced feature 6 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 3, 5257748, 1060, 0, 0, 0])
2018-01-28 11:58:53,214 - __main__ - DEBUG - Replaced feature 6 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5257748, 1063, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 11:58:53,214 - __main__ - DEBUG - Replaced feature 6 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 11:58:53,214 - __main__ - DEBUG - Replaced feature 6 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [885, 12206, 69052, 264887, 842548, 1889823, 1782175, 387377, 9847])
2018-01-28 11:58:53,215 - __main__ - DEBUG - Replaced feature 6 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 11:58:53,215 - __main__ - DEBUG - Randomizing feature 6
2018-01-28 11:58:53,538 - __main__ - DEBUG - Done in 0.323105 seconds
2018-01-28 11:58:53,539 - __main__ - DEBUG - Computing predictions of the model with randomized feature 6
2018-01-28 11:58:54,195 - __main__ - DEBUG - Done in 0.655897 seconds
2018-01-28 11:58:54,195 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 12:00:10,495 - __main__ - DEBUG - Done in 76.299931 seconds
2018-01-28 12:00:10,557 - __main__ - DEBUG - Radnomized mean error baseline: 0.075706
2018-01-28 12:00:10,558 - __main__ - DEBUG - Substitution is 1.791138 times better than randomization on the training set
2018-01-28 12:00:10,559 - __main__ - DEBUG - Evaluating randomized model
2018-01-28 12:00:13,705 - __main__ - DEBUG - Randomized feature 6 training Evaluating the model
2018-01-28 12:00:13,749 - __main__ - DEBUG - Randomized feature 6 training Bin range: (0.0, 5.5)
2018-01-28 12:03:14,180 - __main__ - DEBUG - Done in 180.474172 seconds
2018-01-28 12:03:14,180 - __main__ - DEBUG - Randomized feature 6 training Mean error: 0.000567292372396, mean absolute error: 0.0757057243997
2018-01-28 12:03:29,227 - __main__ - DEBUG - Randomized feature 6 training RMSE: 0.104396842232, variance explained: 0.371567284024, mean absolute error: 0.0757057243997, r2: 0.971830854962
2018-01-28 12:03:29,227 - __main__ - DEBUG - Randomized feature 6 training MRAE: 0.0232339865535
2018-01-28 12:03:29,228 - __main__ - DEBUG - Randomized feature 6 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 2312, 12959597, 1890, 0, 0, 0])
2018-01-28 12:03:29,228 - __main__ - DEBUG - Randomized feature 6 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12959597, 4186, 16, 0, 0, 0, 0, 0, 0])
2018-01-28 12:03:29,228 - __main__ - DEBUG - Randomized feature 6 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963799, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 12:03:29,228 - __main__ - DEBUG - Randomized feature 6 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1564, 20394, 135833, 643121, 2284536, 4871175, 4118053, 863815, 25256])
2018-01-28 12:03:29,228 - __main__ - DEBUG - Randomized feature 6 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 12:03:29,229 - __main__ - DEBUG - Randomizing feature 6 test
2018-01-28 12:03:29,553 - __main__ - DEBUG - Done in 0.323646 seconds
2018-01-28 12:03:29,553 - __main__ - DEBUG - Computing predictions of the model with randomized feature 6 test
2018-01-28 12:03:30,211 - __main__ - DEBUG - Done in 0.658276 seconds
2018-01-28 12:03:30,212 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 12:04:01,332 - __main__ - DEBUG - Done in 31.119941 seconds
2018-01-28 12:04:01,383 - __main__ - DEBUG - Radnomized mean error baseline test: 0.081509
2018-01-28 12:04:01,384 - __main__ - DEBUG - Substitution is 1.954944 times better than randomization on the test set
2018-01-28 12:04:01,384 - __main__ - DEBUG - Evaluating randomized model test
2018-01-28 12:04:04,209 - __main__ - DEBUG - Randomized feature 6 test Evaluating the model
2018-01-28 12:04:04,249 - __main__ - DEBUG - Randomized feature 6 test Bin range: (0.0, 5.5)
2018-01-28 12:05:08,730 - __main__ - DEBUG - Done in 64.520725 seconds
2018-01-28 12:05:08,730 - __main__ - DEBUG - Randomized feature 6 test Mean error: 0.00598485008193, mean absolute error: 0.0815088639287
2018-01-28 12:05:14,964 - __main__ - DEBUG - Randomized feature 6 test RMSE: 0.113198239931, variance explained: 0.379458256988, mean absolute error: 0.0815088639287, r2: 0.968281085701
2018-01-28 12:05:14,964 - __main__ - DEBUG - Randomized feature 6 test MRAE: 0.0251484312829
2018-01-28 12:05:14,964 - __main__ - DEBUG - Randomized feature 6 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 124, 5253363, 5324, 0, 0, 0])
2018-01-28 12:05:14,964 - __main__ - DEBUG - Randomized feature 6 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5253363, 5427, 21, 0, 0, 0, 0, 0, 0])
2018-01-28 12:05:14,964 - __main__ - DEBUG - Randomized feature 6 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 12:05:14,964 - __main__ - DEBUG - Randomized feature 6 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [824, 11236, 64598, 258601, 861593, 1938324, 1762580, 352706, 8337])
2018-01-28 12:05:14,964 - __main__ - DEBUG - Randomized feature 6 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 12:05:14,965 - __main__ - DEBUG - persist_dir: archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state
2018-01-28 12:05:14,965 - __main__ - DEBUG - Saving the state of current iteration
2018-01-28 12:05:14,965 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/results.pkl
2018-01-28 12:05:15,005 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/lr_model_6.pkl
2018-01-28 12:05:15,390 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/predictions_6.pkl
2018-01-28 12:05:15,717 - __main__ - DEBUG - Processing 7 out of 20
2018-01-28 12:05:15,717 - __main__ - DEBUG - Feature 7 not in [0, 1, 2, 3, 4, 5, 6], processing
2018-01-28 12:05:15,957 - __main__ - DEBUG - predict_internal_feature(features.count()=8886, indicators.count()=8886, f=7, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, no_threshold=True, is_classifier=False, num_classes=None, max_depth=3)
2018-01-28 12:05:15,957 - __main__ - DEBUG - Processing feature 7
2018-01-28 12:05:15,957 - __main__ - DEBUG - Building data set
2018-01-28 12:05:15,984 - __main__ - DEBUG - Done in 0.0265910625458 seconds
2018-01-28 12:05:16,577 - __main__ - DEBUG - train_regression_model(data.count=8886, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, max_depth=3, num_trees=128, is_classifier=False, num_classes=None)
2018-01-28 12:05:16,577 - __main__ - DEBUG - num_classes is None, setting to max_bins=8
2018-01-28 12:05:16,577 - __main__ - DEBUG - Training regression_tree
2018-01-28 12:05:17,701 - __main__ - DEBUG - Done in 1.12379693985 seconds
2018-01-28 12:05:18,390 - __main__ - INFO - DecisionTreeModel regressor of depth 3 with 15 nodes
  If (imdb_year <= 1977.0)
   If (Is movielens_genre:Children)
    If (Isn't imdb_keywords:murder)
     Predict: -0.38160695113015897
    Else (Is imdb_keywords:murder)
     Predict: -0.12282414175570011
   Else (Isn't movielens_genre:Children)
    If (Isn't movielens_genre:Horror)
     Predict: -0.07690328479350819
    Else (Is movielens_genre:Horror)
     Predict: 0.07373326286336179
  Else (imdb_year > 1977.0)
   If (Isn't imdb_keywords:blood)
    If (Is movielens_genre:Children)
     Predict: -0.46594746438509754
    Else (Isn't movielens_genre:Children)
     Predict: -0.23330008945314157
   Else (Is imdb_keywords:blood)
    If (Isn't imdb_keywords:gore)
     Predict: -0.15470863514371622
    Else (Is imdb_keywords:gore)
     Predict: -0.04625397077349501

2018-01-28 12:05:18,390 - __main__ - DEBUG - Computing predictions on the test set
2018-01-28 12:05:18,733 - __main__ - DEBUG - Training feature 7 Evaluating the model
2018-01-28 12:05:19,905 - __main__ - DEBUG - Training feature 7 Bin range: (-1.295867681503296, 1.2421032190322876)
2018-01-28 12:05:22,037 - __main__ - DEBUG - Done in 3.304314 seconds
2018-01-28 12:05:22,037 - __main__ - DEBUG - Training feature 7 Mean error: -6.84675014061e-18, mean absolute error: 0.169537662148
2018-01-28 12:05:22,270 - __main__ - DEBUG - Training feature 7 RMSE: 0.219376944326, variance explained: 0.00977517786221, mean absolute error: 0.169537662148, r2: 0.168824488211
2018-01-28 12:05:22,270 - __main__ - DEBUG - Training feature 7 MRAE: 7.41428440417
2018-01-28 12:05:22,270 - __main__ - DEBUG - Training feature 7 Errors histogram: ([-1.295867681503296, -1.0078970856136746, -0.7199264897240533, -0.4319558938344319, -0.14398529794481063, 0.14398529794481063, 0.4319558938344321, 0.7199264897240534, 1.0078970856136746, 1.295867681503296], [1, 19, 216, 1855, 4661, 1892, 223, 16, 2])
2018-01-28 12:05:22,270 - __main__ - DEBUG - Training feature 7 Absolute errors histogram: ([0.0, 0.14398529794481066, 0.2879705958896213, 0.431955893834432, 0.5759411917792426, 0.7199264897240533, 0.863911787668864, 1.0078970856136746, 1.1518823835584853, 1.295867681503296], [4661, 2701, 1046, 343, 96, 26, 9, 3, 0])
2018-01-28 12:05:22,271 - __main__ - DEBUG - Training feature 7 Squared errors histogram: ([0.0, 0.18658589421830307, 0.37317178843660614, 0.5597576826549092, 0.7463435768732123, 0.9329294710915154, 1.1195153653098184, 1.3061012595281216, 1.4926871537464246, 1.6792730479647275], [8408, 381, 65, 19, 7, 3, 2, 0, 0]):
2018-01-28 12:05:22,271 - __main__ - DEBUG - Training feature 7 Predictions histogram: ([-1.295867681503296, -1.0138709147771199, -0.731874148050944, -0.44987738132476807, -0.16788061459859205, 0.11411615212758397, 0.39611291885375977, 0.6781096855799358, 0.9601064523061118, 1.2421032190322876], [0, 0, 303, 4349, 4234, 0, 0, 0, 0])
2018-01-28 12:05:22,271 - __main__ - DEBUG - Training feature 7 Observations histogram: ([-1.295867681503296, -1.0138709147771199, -0.731874148050944, -0.44987738132476807, -0.16788061459859205, 0.11411615212758397, 0.39611291885375977, 0.6781096855799358, 0.9601064523061118, 1.2421032190322876], [10, 109, 945, 3389, 3497, 846, 79, 10, 1])
2018-01-28 12:05:22,272 - __main__ - DEBUG - Evaluating regression on the test set
2018-01-28 12:05:22,272 - __main__ - DEBUG - Test feature 7 Evaluating the model
2018-01-28 12:05:23,319 - __main__ - DEBUG - Test feature 7 Bin range: (-1.1653950214385986, 0.9633220434188843)
2018-01-28 12:05:25,369 - __main__ - DEBUG - Done in 3.097044 seconds
2018-01-28 12:05:25,369 - __main__ - DEBUG - Test feature 7 Mean error: -0.00226234764695, mean absolute error: 0.166342720338
2018-01-28 12:05:25,582 - __main__ - DEBUG - Test feature 7 RMSE: 0.214022816617, variance explained: 0.00950585106958, mean absolute error: 0.166342720338, r2: 0.169959563115
2018-01-28 12:05:25,582 - __main__ - DEBUG - Test feature 7 MRAE: 3.50637606454
2018-01-28 12:05:25,582 - __main__ - DEBUG - Test feature 7 Errors histogram: ([-1.1653950214385986, -0.9064183500077989, -0.6474416785769992, -0.38846500714619947, -0.12948833571539975, 0.12948833571539997, 0.3884650071461997, 0.6474416785769994, 0.9064183500077991, 1.1653950214385986], [1, 16, 117, 875, 1807, 864, 118, 6, 2])
2018-01-28 12:05:25,583 - __main__ - DEBUG - Test feature 7 Absolute errors histogram: ([0.0, 0.12948833571539986, 0.2589766714307997, 0.3884650071461996, 0.5179533428615994, 0.6474416785769993, 0.7769300142923992, 0.906418350007799, 1.0359066857231989, 1.1653950214385986], [1807, 1216, 523, 174, 61, 15, 7, 3, 0])
2018-01-28 12:05:25,583 - __main__ - DEBUG - Test feature 7 Squared errors histogram: ([0.0, 0.15090506177709687, 0.30181012355419373, 0.4527151853312906, 0.6036202471083875, 0.7545253088854843, 0.9054303706625813, 1.056335432439678, 1.207240494216775, 1.3581455559938718], [3546, 202, 37, 11, 6, 3, 1, 0, 0]):
2018-01-28 12:05:25,583 - __main__ - DEBUG - Test feature 7 Predictions histogram: ([-1.1653950214385986, -0.9288709031211005, -0.6923467848036025, -0.45582266648610437, -0.21929854816860628, 0.017225570148891922, 0.2537496884663899, 0.4902738067838879, 0.7267979251013861, 0.9633220434188843], [0, 0, 114, 1843, 1745, 105, 0, 0, 0])
2018-01-28 12:05:25,583 - __main__ - DEBUG - Test feature 7 Observations histogram: ([-1.1653950214385986, -0.9288709031211005, -0.6923467848036025, -0.45582266648610437, -0.21929854816860628, 0.017225570148891922, 0.2537496884663899, 0.4902738067838879, 0.7267979251013861, 0.9633220434188843], [7, 58, 351, 1111, 1519, 652, 92, 13, 4])
2018-01-28 12:05:25,584 - __main__ - DEBUG - Computing predictions of the model with replaced feature 7
2018-01-28 12:05:25,584 - __main__ - DEBUG - Replacing original feature 7 with predicted values
2018-01-28 12:05:26,078 - __main__ - DEBUG - No predictions for 0 items out of 8886, leaving as is
2018-01-28 12:05:26,119 - __main__ - DEBUG - Done in 0.534857988358 seconds
2018-01-28 12:05:27,411 - __main__ - DEBUG - Done in 1.290599 seconds
2018-01-28 12:05:27,411 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 12:06:43,413 - __main__ - DEBUG - Done in 76.001668 seconds
2018-01-28 12:06:43,471 - __main__ - DEBUG - Replaced mean error baseline: 0.044240
2018-01-28 12:06:43,471 - __main__ - DEBUG - Evaluating replaced model
2018-01-28 12:06:46,612 - __main__ - DEBUG - Replaced feature 7 training Evaluating the model
2018-01-28 12:06:46,663 - __main__ - DEBUG - Replaced feature 7 training Bin range: (0.0, 5.5)
2018-01-28 12:09:45,444 - __main__ - DEBUG - Done in 178.831506 seconds
2018-01-28 12:09:45,444 - __main__ - DEBUG - Replaced feature 7 training Mean error: -0.0199557433264, mean absolute error: 0.0442402213046
2018-01-28 12:10:01,088 - __main__ - DEBUG - Replaced feature 7 training RMSE: 0.0733824247286, variance explained: 0.396293864649, mean absolute error: 0.0442402213046, r2: 0.986081800522
2018-01-28 12:10:01,088 - __main__ - DEBUG - Replaced feature 7 training MRAE: 0.013401094037
2018-01-28 12:10:01,088 - __main__ - DEBUG - Replaced feature 7 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 1594, 12962177, 28, 0, 0, 0])
2018-01-28 12:10:01,088 - __main__ - DEBUG - Replaced feature 7 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12962177, 1620, 2, 0, 0, 0, 0, 0, 0])
2018-01-28 12:10:01,088 - __main__ - DEBUG - Replaced feature 7 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963799, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 12:10:01,089 - __main__ - DEBUG - Replaced feature 7 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1666, 23417, 154855, 724528, 2428940, 4727239, 3976018, 895076, 31997])
2018-01-28 12:10:01,089 - __main__ - DEBUG - Replaced feature 7 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 12:10:01,089 - __main__ - DEBUG - Computing predictions of the model with replaced feature 7 test
2018-01-28 12:10:01,089 - __main__ - DEBUG - Replacing original feature 7 with predicted values
2018-01-28 12:10:01,564 - __main__ - DEBUG - No predictions for 0 items out of 3807, leaving as is
2018-01-28 12:10:01,607 - __main__ - DEBUG - Done in 0.517045021057 seconds
2018-01-28 12:10:02,681 - __main__ - DEBUG - Done in 1.074110 seconds
2018-01-28 12:10:02,682 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 12:10:34,030 - __main__ - DEBUG - Done in 31.348155 seconds
2018-01-28 12:10:34,077 - __main__ - DEBUG - Replaced mean error baseline test: 0.044921
2018-01-28 12:10:34,078 - __main__ - DEBUG - Evaluating replaced model test
2018-01-28 12:10:37,111 - __main__ - DEBUG - Replaced feature 7 test Evaluating the model
2018-01-28 12:10:37,153 - __main__ - DEBUG - Replaced feature 7 test Bin range: (0.0, 5.5)
2018-01-28 12:11:40,828 - __main__ - DEBUG - Done in 63.717060 seconds
2018-01-28 12:11:40,829 - __main__ - DEBUG - Replaced feature 7 test Mean error: -0.0204838797612, mean absolute error: 0.0449206965156
2018-01-28 12:11:47,303 - __main__ - DEBUG - Replaced feature 7 test RMSE: 0.0743983297286, variance explained: 0.412007199528, mean absolute error: 0.0449206965156, r2: 0.98629858767
2018-01-28 12:11:47,303 - __main__ - DEBUG - Replaced feature 7 test MRAE: 0.0135735190088
2018-01-28 12:11:47,303 - __main__ - DEBUG - Replaced feature 7 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 829, 5257971, 11, 0, 0, 0])
2018-01-28 12:11:47,303 - __main__ - DEBUG - Replaced feature 7 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5257971, 840, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 12:11:47,303 - __main__ - DEBUG - Replaced feature 7 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 12:11:47,303 - __main__ - DEBUG - Replaced feature 7 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [815, 12667, 75796, 301585, 926803, 1883940, 1669428, 377143, 10625])
2018-01-28 12:11:47,303 - __main__ - DEBUG - Replaced feature 7 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 12:11:47,304 - __main__ - DEBUG - Randomizing feature 7
2018-01-28 12:11:47,637 - __main__ - DEBUG - Done in 0.333813 seconds
2018-01-28 12:11:47,638 - __main__ - DEBUG - Computing predictions of the model with randomized feature 7
2018-01-28 12:11:48,351 - __main__ - DEBUG - Done in 0.713710 seconds
2018-01-28 12:11:48,352 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 12:13:04,361 - __main__ - DEBUG - Done in 76.009708 seconds
2018-01-28 12:13:04,427 - __main__ - DEBUG - Radnomized mean error baseline: 0.075172
2018-01-28 12:13:04,428 - __main__ - DEBUG - Substitution is 1.699177 times better than randomization on the training set
2018-01-28 12:13:04,428 - __main__ - DEBUG - Evaluating randomized model
2018-01-28 12:13:07,624 - __main__ - DEBUG - Randomized feature 7 training Evaluating the model
2018-01-28 12:13:07,671 - __main__ - DEBUG - Randomized feature 7 training Bin range: (0.0, 5.5)
2018-01-28 12:16:08,021 - __main__ - DEBUG - Done in 180.396787 seconds
2018-01-28 12:16:08,022 - __main__ - DEBUG - Randomized feature 7 training Mean error: -0.0278015101239, mean absolute error: 0.0751719647494
2018-01-28 12:16:23,138 - __main__ - DEBUG - Randomized feature 7 training RMSE: 0.119735484767, variance explained: 0.405472449979, mean absolute error: 0.0751719647494, r2: 0.962945181129
2018-01-28 12:16:23,138 - __main__ - DEBUG - Randomized feature 7 training MRAE: 0.0226574369279
2018-01-28 12:16:23,138 - __main__ - DEBUG - Randomized feature 7 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 4, 32844, 12929765, 1185, 1, 0, 0])
2018-01-28 12:16:23,138 - __main__ - DEBUG - Randomized feature 7 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12929765, 33683, 346, 5, 0, 0, 0, 0, 0])
2018-01-28 12:16:23,138 - __main__ - DEBUG - Randomized feature 7 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963794, 5, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 12:16:23,139 - __main__ - DEBUG - Randomized feature 7 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1685, 23748, 160953, 758635, 2471907, 4704517, 3899379, 902165, 40505])
2018-01-28 12:16:23,139 - __main__ - DEBUG - Randomized feature 7 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 12:16:23,139 - __main__ - DEBUG - Randomizing feature 7 test
2018-01-28 12:16:23,439 - __main__ - DEBUG - Done in 0.300235 seconds
2018-01-28 12:16:23,440 - __main__ - DEBUG - Computing predictions of the model with randomized feature 7 test
2018-01-28 12:16:24,054 - __main__ - DEBUG - Done in 0.614275 seconds
2018-01-28 12:16:24,054 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 12:16:55,059 - __main__ - DEBUG - Done in 31.004579 seconds
2018-01-28 12:16:55,108 - __main__ - DEBUG - Radnomized mean error baseline test: 0.078489
2018-01-28 12:16:55,109 - __main__ - DEBUG - Substitution is 1.747284 times better than randomization on the test set
2018-01-28 12:16:55,109 - __main__ - DEBUG - Evaluating randomized model test
2018-01-28 12:16:58,006 - __main__ - DEBUG - Randomized feature 7 test Evaluating the model
2018-01-28 12:16:58,053 - __main__ - DEBUG - Randomized feature 7 test Bin range: (0.0, 5.5)
2018-01-28 12:18:02,146 - __main__ - DEBUG - Done in 64.139053 seconds
2018-01-28 12:18:02,146 - __main__ - DEBUG - Randomized feature 7 test Mean error: -0.0334036194091, mean absolute error: 0.0784891954554
2018-01-28 12:18:08,535 - __main__ - DEBUG - Randomized feature 7 test RMSE: 0.12169286635, variance explained: 0.417827253313, mean absolute error: 0.0784891954554, r2: 0.96334196292
2018-01-28 12:18:08,536 - __main__ - DEBUG - Randomized feature 7 test MRAE: 0.0234475041298
2018-01-28 12:18:08,536 - __main__ - DEBUG - Randomized feature 7 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 2, 9842, 5248229, 737, 1, 0, 0])
2018-01-28 12:18:08,536 - __main__ - DEBUG - Randomized feature 7 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5248229, 10464, 115, 3, 0, 0, 0, 0, 0])
2018-01-28 12:18:08,536 - __main__ - DEBUG - Randomized feature 7 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258808, 3, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 12:18:08,536 - __main__ - DEBUG - Randomized feature 7 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [809, 12853, 78572, 312686, 956356, 1887205, 1627762, 370209, 12289])
2018-01-28 12:18:08,536 - __main__ - DEBUG - Randomized feature 7 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 12:18:08,537 - __main__ - DEBUG - persist_dir: archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state
2018-01-28 12:18:08,537 - __main__ - DEBUG - Saving the state of current iteration
2018-01-28 12:18:08,537 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/results.pkl
2018-01-28 12:18:08,590 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/lr_model_7.pkl
2018-01-28 12:18:08,925 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/predictions_7.pkl
2018-01-28 12:18:09,254 - __main__ - DEBUG - Processing 8 out of 20
2018-01-28 12:18:09,254 - __main__ - DEBUG - Feature 8 not in [0, 1, 2, 3, 4, 5, 6, 7], processing
2018-01-28 12:18:09,500 - __main__ - DEBUG - predict_internal_feature(features.count()=8886, indicators.count()=8886, f=8, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, no_threshold=True, is_classifier=False, num_classes=None, max_depth=3)
2018-01-28 12:18:09,500 - __main__ - DEBUG - Processing feature 8
2018-01-28 12:18:09,501 - __main__ - DEBUG - Building data set
2018-01-28 12:18:09,529 - __main__ - DEBUG - Done in 0.0282859802246 seconds
2018-01-28 12:18:10,076 - __main__ - DEBUG - train_regression_model(data.count=8886, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, max_depth=3, num_trees=128, is_classifier=False, num_classes=None)
2018-01-28 12:18:10,077 - __main__ - DEBUG - num_classes is None, setting to max_bins=8
2018-01-28 12:18:10,077 - __main__ - DEBUG - Training regression_tree
2018-01-28 12:18:11,017 - __main__ - DEBUG - Done in 0.940638065338 seconds
2018-01-28 12:18:11,718 - __main__ - INFO - DecisionTreeModel regressor of depth 3 with 15 nodes
  If (average_rating <= 3.0848758465011286)
   If (average_rating <= 2.5210405508798774)
    If (imdb_rating <= 5.3)
     Predict: 0.15624551147310967
    Else (imdb_rating > 5.3)
     Predict: 0.2500177081909784
   Else (average_rating > 2.5210405508798774)
    If (Is movielens_genre:Action)
     Predict: 0.20797808383389155
    Else (Isn't movielens_genre:Action)
     Predict: 0.34486257677884313
  Else (average_rating > 3.0848758465011286)
   If (Is movielens_genre:Action)
    If (average_rating <= 3.4354256854256855)
     Predict: 0.28247264090374463
    Else (average_rating > 3.4354256854256855)
     Predict: 0.37750248864731367
   Else (Isn't movielens_genre:Action)
    If (average_rating <= 3.4354256854256855)
     Predict: 0.4516109087486731
    Else (average_rating > 3.4354256854256855)
     Predict: 0.5476227553476751

2018-01-28 12:18:11,718 - __main__ - DEBUG - Computing predictions on the test set
2018-01-28 12:18:12,019 - __main__ - DEBUG - Training feature 8 Evaluating the model
2018-01-28 12:18:13,227 - __main__ - DEBUG - Training feature 8 Bin range: (-0.4465947449207306, 1.3961760997772217)
2018-01-28 12:18:15,328 - __main__ - DEBUG - Done in 3.308965 seconds
2018-01-28 12:18:15,329 - __main__ - DEBUG - Training feature 8 Mean error: -6.30325811302e-18, mean absolute error: 0.122491513558
2018-01-28 12:18:15,563 - __main__ - DEBUG - Training feature 8 RMSE: 0.159523145723, variance explained: 0.0164949449288, mean absolute error: 0.122491513558, r2: 0.393274456213
2018-01-28 12:18:15,564 - __main__ - DEBUG - Training feature 8 MRAE: 1.22565267042
2018-01-28 12:18:15,564 - __main__ - DEBUG - Training feature 8 Errors histogram: ([-1.3961760997772217, -1.0859147442711725, -0.7756533887651231, -0.46539203325907386, -0.15513067775302458, 0.15513067775302458, 0.46539203325907397, 0.7756533887651234, 1.0859147442711725, 1.3961760997772217], [0, 1, 49, 1201, 6297, 1303, 35, 0, 0])
2018-01-28 12:18:15,564 - __main__ - DEBUG - Training feature 8 Absolute errors histogram: ([0.0, 0.15513067775302464, 0.3102613555060493, 0.4653920332590739, 0.6205227110120985, 0.7756533887651231, 0.9307840665181478, 1.0859147442711725, 1.241045422024197, 1.3961760997772217], [6297, 2093, 411, 72, 12, 0, 1, 0, 0])
2018-01-28 12:18:15,564 - __main__ - DEBUG - Training feature 8 Squared errors histogram: ([0.0, 0.21658974462101493, 0.43317948924202987, 0.6497692338630447, 0.8663589784840597, 1.0829487231050747, 1.2995384677260895, 1.5161282123471045, 1.7327179569681195, 1.9493077015891345], [8801, 75, 9, 0, 1, 0, 0, 0, 0]):
2018-01-28 12:18:15,564 - __main__ - DEBUG - Training feature 8 Predictions histogram: ([-0.4465947449207306, -0.24184242884318033, -0.03709011276563007, 0.16766220331192017, 0.37241451938947046, 0.5771668354670207, 0.7819191515445709, 0.9866714676221213, 1.1914237836996715, 1.3961760997772217], [0, 0, 666, 3048, 5172, 0, 0, 0, 0])
2018-01-28 12:18:15,564 - __main__ - DEBUG - Training feature 8 Observations histogram: ([-0.4465947449207306, -0.24184242884318033, -0.03709011276563007, 0.16766220331192017, 0.37241451938947046, 0.5771668354670207, 0.7819191515445709, 0.9866714676221213, 1.1914237836996715, 1.3961760997772217], [20, 130, 999, 2602, 3200, 1748, 178, 8, 1])
2018-01-28 12:18:15,565 - __main__ - DEBUG - Evaluating regression on the test set
2018-01-28 12:18:15,565 - __main__ - DEBUG - Test feature 8 Evaluating the model
2018-01-28 12:18:16,698 - __main__ - DEBUG - Test feature 8 Bin range: (-0.709649920463562, 1.2044345140457153)
2018-01-28 12:18:18,771 - __main__ - DEBUG - Done in 3.205807 seconds
2018-01-28 12:18:18,771 - __main__ - DEBUG - Test feature 8 Mean error: 0.00026166926594, mean absolute error: 0.125545335701
2018-01-28 12:18:19,002 - __main__ - DEBUG - Test feature 8 RMSE: 0.163776002467, variance explained: 0.0166293951629, mean absolute error: 0.125545335701, r2: 0.394615462404
2018-01-28 12:18:19,002 - __main__ - DEBUG - Test feature 8 MRAE: 0.940317560503
2018-01-28 12:18:19,003 - __main__ - DEBUG - Test feature 8 Errors histogram: ([-1.2044345140457153, -0.9367823998133342, -0.669130285580953, -0.4014781713485718, -0.13382605711619067, 0.13382605711619044, 0.4014781713485718, 0.6691302855809529, 0.936782399813334, 1.2044345140457153], [0, 4, 47, 655, 2358, 704, 35, 3, 1])
2018-01-28 12:18:19,003 - __main__ - DEBUG - Test feature 8 Absolute errors histogram: ([0.0, 0.13382605711619058, 0.26765211423238117, 0.4014781713485718, 0.5353042284647623, 0.6691302855809529, 0.8029563426971436, 0.9367823998133341, 1.0706084569295247, 1.2044345140457153], [2358, 1105, 254, 66, 16, 7, 0, 1, 0])
2018-01-28 12:18:19,003 - __main__ - DEBUG - Test feature 8 Squared errors histogram: ([0.0, 0.16118472206939316, 0.3223694441387863, 0.4835541662081795, 0.6447388882775726, 0.8059236103469658, 0.967108332416359, 1.1282930544857521, 1.2894777765551453, 1.4506624986245384], [3717, 71, 12, 6, 0, 0, 1, 0, 0]):
2018-01-28 12:18:19,003 - __main__ - DEBUG - Test feature 8 Predictions histogram: ([-0.709649920463562, -0.4969738721847534, -0.2842978239059448, -0.07162177562713623, 0.14105427265167236, 0.35373032093048096, 0.5664063692092896, 0.7790824174880981, 0.9917584657669067, 1.2044345140457153], [0, 0, 0, 0, 1629, 2178, 0, 0, 0])
2018-01-28 12:18:19,003 - __main__ - DEBUG - Test feature 8 Observations histogram: ([-0.709649920463562, -0.4969738721847534, -0.2842978239059448, -0.07162177562713623, 0.14105427265167236, 0.35373032093048096, 0.5664063692092896, 0.7790824174880981, 0.9917584657669067, 1.2044345140457153], [1, 8, 43, 377, 1073, 1410, 816, 67, 12])
2018-01-28 12:18:19,004 - __main__ - DEBUG - Computing predictions of the model with replaced feature 8
2018-01-28 12:18:19,005 - __main__ - DEBUG - Replacing original feature 8 with predicted values
2018-01-28 12:18:19,517 - __main__ - DEBUG - No predictions for 0 items out of 8886, leaving as is
2018-01-28 12:18:19,559 - __main__ - DEBUG - Done in 0.554702997208 seconds
2018-01-28 12:18:20,865 - __main__ - DEBUG - Done in 1.304046 seconds
2018-01-28 12:18:20,865 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 12:19:36,104 - __main__ - DEBUG - Done in 75.238603 seconds
2018-01-28 12:19:36,167 - __main__ - DEBUG - Replaced mean error baseline: 0.044510
2018-01-28 12:19:36,168 - __main__ - DEBUG - Evaluating replaced model
2018-01-28 12:19:39,259 - __main__ - DEBUG - Replaced feature 8 training Evaluating the model
2018-01-28 12:19:39,305 - __main__ - DEBUG - Replaced feature 8 training Bin range: (0.0, 5.5)
2018-01-28 12:22:37,007 - __main__ - DEBUG - Done in 177.748338 seconds
2018-01-28 12:22:37,008 - __main__ - DEBUG - Replaced feature 8 training Mean error: 0.0125747812571, mean absolute error: 0.0445104108424
2018-01-28 12:22:52,033 - __main__ - DEBUG - Replaced feature 8 training RMSE: 0.0585637194746, variance explained: 0.376914809944, mean absolute error: 0.0445104108424, r2: 0.991135459178
2018-01-28 12:22:52,033 - __main__ - DEBUG - Replaced feature 8 training MRAE: 0.0136964199082
2018-01-28 12:22:52,033 - __main__ - DEBUG - Replaced feature 8 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 4, 12963793, 2, 0, 0, 0])
2018-01-28 12:22:52,033 - __main__ - DEBUG - Replaced feature 8 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12963793, 6, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 12:22:52,033 - __main__ - DEBUG - Replaced feature 8 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963799, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 12:22:52,033 - __main__ - DEBUG - Replaced feature 8 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1702, 22131, 138426, 628830, 2228801, 4808607, 4193495, 910429, 31303])
2018-01-28 12:22:52,033 - __main__ - DEBUG - Replaced feature 8 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 12:22:52,034 - __main__ - DEBUG - Computing predictions of the model with replaced feature 8 test
2018-01-28 12:22:52,034 - __main__ - DEBUG - Replacing original feature 8 with predicted values
2018-01-28 12:22:52,502 - __main__ - DEBUG - No predictions for 0 items out of 3807, leaving as is
2018-01-28 12:22:52,539 - __main__ - DEBUG - Done in 0.505104780197 seconds
2018-01-28 12:22:53,614 - __main__ - DEBUG - Done in 1.074515 seconds
2018-01-28 12:22:53,614 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 12:23:24,670 - __main__ - DEBUG - Done in 31.055810 seconds
2018-01-28 12:23:24,725 - __main__ - DEBUG - Replaced mean error baseline test: 0.047047
2018-01-28 12:23:24,725 - __main__ - DEBUG - Evaluating replaced model test
2018-01-28 12:23:27,789 - __main__ - DEBUG - Replaced feature 8 test Evaluating the model
2018-01-28 12:23:27,837 - __main__ - DEBUG - Replaced feature 8 test Bin range: (0.0, 5.5)
2018-01-28 12:24:31,950 - __main__ - DEBUG - Done in 64.161668 seconds
2018-01-28 12:24:31,951 - __main__ - DEBUG - Replaced feature 8 test Mean error: 0.0179722982019, mean absolute error: 0.0470469225822
2018-01-28 12:24:38,303 - __main__ - DEBUG - Replaced feature 8 test RMSE: 0.0609315799078, variance explained: 0.388925755689, mean absolute error: 0.0470469225822, r2: 0.990809823687
2018-01-28 12:24:38,304 - __main__ - DEBUG - Replaced feature 8 test MRAE: 0.0146101584854
2018-01-28 12:24:38,304 - __main__ - DEBUG - Replaced feature 8 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 4, 5258804, 3, 0, 0, 0])
2018-01-28 12:24:38,304 - __main__ - DEBUG - Replaced feature 8 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5258804, 7, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 12:24:38,304 - __main__ - DEBUG - Replaced feature 8 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 12:24:38,304 - __main__ - DEBUG - Replaced feature 8 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [796, 11287, 65137, 258646, 847827, 1900377, 1776885, 387476, 10361])
2018-01-28 12:24:38,304 - __main__ - DEBUG - Replaced feature 8 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 12:24:38,305 - __main__ - DEBUG - Randomizing feature 8
2018-01-28 12:24:38,660 - __main__ - DEBUG - Done in 0.354932 seconds
2018-01-28 12:24:38,660 - __main__ - DEBUG - Computing predictions of the model with randomized feature 8
2018-01-28 12:24:39,313 - __main__ - DEBUG - Done in 0.652828 seconds
2018-01-28 12:24:39,313 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 12:25:55,838 - __main__ - DEBUG - Done in 76.524828 seconds
2018-01-28 12:25:55,897 - __main__ - DEBUG - Radnomized mean error baseline: 0.092623
2018-01-28 12:25:55,898 - __main__ - DEBUG - Substitution is 2.080939 times better than randomization on the training set
2018-01-28 12:25:55,898 - __main__ - DEBUG - Evaluating randomized model
2018-01-28 12:25:59,068 - __main__ - DEBUG - Randomized feature 8 training Evaluating the model
2018-01-28 12:25:59,114 - __main__ - DEBUG - Randomized feature 8 training Bin range: (0.0, 5.5)
2018-01-28 12:28:56,354 - __main__ - DEBUG - Done in 177.285937 seconds
2018-01-28 12:28:56,354 - __main__ - DEBUG - Randomized feature 8 training Mean error: -0.00374025526859, mean absolute error: 0.0926234536556
2018-01-28 12:29:11,556 - __main__ - DEBUG - Randomized feature 8 training RMSE: 0.122746161399, variance explained: 0.357241577836, mean absolute error: 0.0926234536556, r2: 0.961058311368
2018-01-28 12:29:11,556 - __main__ - DEBUG - Randomized feature 8 training MRAE: 0.0281920265273
2018-01-28 12:29:11,556 - __main__ - DEBUG - Randomized feature 8 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 1579, 12961795, 425, 0, 0, 0])
2018-01-28 12:29:11,557 - __main__ - DEBUG - Randomized feature 8 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12961795, 2003, 1, 0, 0, 0, 0, 0, 0])
2018-01-28 12:29:11,557 - __main__ - DEBUG - Randomized feature 8 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963799, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 12:29:11,557 - __main__ - DEBUG - Randomized feature 8 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1402, 18025, 122014, 607617, 2309722, 5057774, 3996531, 818198, 32407])
2018-01-28 12:29:11,557 - __main__ - DEBUG - Randomized feature 8 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 12:29:11,558 - __main__ - DEBUG - Randomizing feature 8 test
2018-01-28 12:29:11,868 - __main__ - DEBUG - Done in 0.309709 seconds
2018-01-28 12:29:11,868 - __main__ - DEBUG - Computing predictions of the model with randomized feature 8 test
2018-01-28 12:29:12,517 - __main__ - DEBUG - Done in 0.648536 seconds
2018-01-28 12:29:12,517 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 12:29:43,404 - __main__ - DEBUG - Done in 30.886728 seconds
2018-01-28 12:29:43,445 - __main__ - DEBUG - Radnomized mean error baseline test: 0.094621
2018-01-28 12:29:43,446 - __main__ - DEBUG - Substitution is 2.011204 times better than randomization on the test set
2018-01-28 12:29:43,446 - __main__ - DEBUG - Evaluating randomized model test
2018-01-28 12:29:46,262 - __main__ - DEBUG - Randomized feature 8 test Evaluating the model
2018-01-28 12:29:46,307 - __main__ - DEBUG - Randomized feature 8 test Bin range: (0.0, 5.5)
2018-01-28 12:30:49,865 - __main__ - DEBUG - Done in 63.602658 seconds
2018-01-28 12:30:49,865 - __main__ - DEBUG - Randomized feature 8 test Mean error: -0.00514842358964, mean absolute error: 0.0946209635617
2018-01-28 12:30:56,312 - __main__ - DEBUG - Randomized feature 8 test RMSE: 0.128361836924, variance explained: 0.366938655909, mean absolute error: 0.0946209635617, r2: 0.959214028456
2018-01-28 12:30:56,312 - __main__ - DEBUG - Randomized feature 8 test MRAE: 0.0293349120723
2018-01-28 12:30:56,312 - __main__ - DEBUG - Randomized feature 8 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 2037, 5256551, 223, 0, 0, 0])
2018-01-28 12:30:56,312 - __main__ - DEBUG - Randomized feature 8 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5256551, 2259, 1, 0, 0, 0, 0, 0, 0])
2018-01-28 12:30:56,312 - __main__ - DEBUG - Randomized feature 8 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 12:30:56,312 - __main__ - DEBUG - Randomized feature 8 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [646, 9173, 58280, 253353, 894191, 2011954, 1681454, 340513, 9240])
2018-01-28 12:30:56,312 - __main__ - DEBUG - Randomized feature 8 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 12:30:56,313 - __main__ - DEBUG - persist_dir: archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state
2018-01-28 12:30:56,313 - __main__ - DEBUG - Saving the state of current iteration
2018-01-28 12:30:56,313 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/results.pkl
2018-01-28 12:30:56,359 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/lr_model_8.pkl
2018-01-28 12:30:56,701 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/predictions_8.pkl
2018-01-28 12:30:57,014 - __main__ - DEBUG - Processing 9 out of 20
2018-01-28 12:30:57,015 - __main__ - DEBUG - Feature 9 not in [0, 1, 2, 3, 4, 5, 6, 7, 8], processing
2018-01-28 12:30:57,242 - __main__ - DEBUG - predict_internal_feature(features.count()=8886, indicators.count()=8886, f=9, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, no_threshold=True, is_classifier=False, num_classes=None, max_depth=3)
2018-01-28 12:30:57,242 - __main__ - DEBUG - Processing feature 9
2018-01-28 12:30:57,242 - __main__ - DEBUG - Building data set
2018-01-28 12:30:57,268 - __main__ - DEBUG - Done in 0.0257771015167 seconds
2018-01-28 12:30:57,836 - __main__ - DEBUG - train_regression_model(data.count=8886, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, max_depth=3, num_trees=128, is_classifier=False, num_classes=None)
2018-01-28 12:30:57,836 - __main__ - DEBUG - num_classes is None, setting to max_bins=8
2018-01-28 12:30:57,837 - __main__ - DEBUG - Training regression_tree
2018-01-28 12:30:58,828 - __main__ - DEBUG - Done in 0.991390943527 seconds
2018-01-28 12:30:59,519 - __main__ - INFO - DecisionTreeModel regressor of depth 3 with 15 nodes
  If (imdb_rating <= 6.6)
   If (average_rating <= 2.88)
    If (imdb_year <= 1988.0)
     Predict: 0.08078070113176328
    Else (imdb_year > 1988.0)
     Predict: -0.05308062620715951
   Else (average_rating > 2.88)
    If (year <= 1988.0)
     Predict: 0.23739494639314082
    Else (year > 1988.0)
     Predict: 0.08801197509023721
  Else (imdb_rating > 6.6)
   If (imdb_year <= 1977.0)
    If (imdb_rating <= 7.2)
     Predict: 0.33910197105142287
    Else (imdb_rating > 7.2)
     Predict: 0.4718610136859977
   Else (imdb_year > 1977.0)
    If (Is imdb_languages:English)
     Predict: 0.2359642450322344
    Else (Isn't imdb_languages:English)
     Predict: 0.36524789634032623

2018-01-28 12:30:59,520 - __main__ - DEBUG - Computing predictions on the test set
2018-01-28 12:30:59,838 - __main__ - DEBUG - Training feature 9 Evaluating the model
2018-01-28 12:31:01,108 - __main__ - DEBUG - Training feature 9 Bin range: (-1.17234468460083, 1.2356040477752686)
2018-01-28 12:31:03,226 - __main__ - DEBUG - Done in 3.387058 seconds
2018-01-28 12:31:03,226 - __main__ - DEBUG - Training feature 9 Mean error: 1.32437137756e-17, mean absolute error: 0.146185591731
2018-01-28 12:31:03,483 - __main__ - DEBUG - Training feature 9 RMSE: 0.190798969844, variance explained: 0.0248898609244, mean absolute error: 0.146185591731, r2: 0.406072652177
2018-01-28 12:31:03,483 - __main__ - DEBUG - Training feature 9 MRAE: 2.49951017884
2018-01-28 12:31:03,483 - __main__ - DEBUG - Training feature 9 Errors histogram: ([-1.2356040477752686, -0.9610253704918755, -0.6864466932084825, -0.4118680159250895, -0.13728933864169646, 0.13728933864169646, 0.4118680159250896, 0.6864466932084827, 0.9610253704918756, 1.2356040477752686], [1, 16, 160, 1719, 5041, 1802, 135, 10, 1])
2018-01-28 12:31:03,483 - __main__ - DEBUG - Training feature 9 Absolute errors histogram: ([0.0, 0.1372893386416965, 0.274578677283393, 0.41186801592508954, 0.549157354566786, 0.6864466932084825, 0.8237360318501791, 0.9610253704918756, 1.098314709133572, 1.2356040477752686], [5041, 2671, 850, 213, 82, 20, 6, 1, 1])
2018-01-28 12:31:03,483 - __main__ - DEBUG - Training feature 9 Squared errors histogram: ([0.0, 0.1696352625420698, 0.3392705250841396, 0.5089057876262093, 0.6785410501682791, 0.848176312710349, 1.0178115752524186, 1.1874468377944885, 1.3570821003365583, 1.5267173628786281], [8562, 242, 62, 11, 5, 1, 1, 1, 0]):
2018-01-28 12:31:03,483 - __main__ - DEBUG - Training feature 9 Predictions histogram: ([-1.17234468460083, -0.9047948254479302, -0.6372449662950304, -0.3696951071421305, -0.10214524798923064, 0.1654046111636691, 0.4329544703165691, 0.7005043294694691, 0.9680541886223688, 1.2356040477752686], [0, 0, 0, 0, 3761, 4248, 877, 0, 0])
2018-01-28 12:31:03,484 - __main__ - DEBUG - Training feature 9 Observations histogram: ([-1.17234468460083, -0.9047948254479302, -0.6372449662950304, -0.3696951071421305, -0.10214524798923064, 0.1654046111636691, 0.4329544703165691, 0.7005043294694691, 0.9680541886223688, 1.2356040477752686], [2, 9, 99, 978, 2850, 3470, 1368, 98, 12])
2018-01-28 12:31:03,484 - __main__ - DEBUG - Evaluating regression on the test set
2018-01-28 12:31:03,484 - __main__ - DEBUG - Test feature 9 Evaluating the model
2018-01-28 12:31:04,634 - __main__ - DEBUG - Test feature 9 Bin range: (-0.9499698281288147, 1.01573646068573)
2018-01-28 12:31:06,728 - __main__ - DEBUG - Done in 3.243050 seconds
2018-01-28 12:31:06,728 - __main__ - DEBUG - Test feature 9 Mean error: 0.00487277997, mean absolute error: 0.148002977735
2018-01-28 12:31:06,957 - __main__ - DEBUG - Test feature 9 RMSE: 0.192045480012, variance explained: 0.025799818169, mean absolute error: 0.148002977735, r2: 0.411463537861
2018-01-28 12:31:06,957 - __main__ - DEBUG - Test feature 9 MRAE: 2.90105936951
2018-01-28 12:31:06,957 - __main__ - DEBUG - Test feature 9 Errors histogram: ([-1.01573646068573, -0.7900172472000122, -0.5642980337142944, -0.33857882022857666, -0.11285960674285889, 0.11285960674285889, 0.33857882022857666, 0.5642980337142944, 0.7900172472000122, 1.01573646068573], [2, 15, 123, 830, 1841, 838, 142, 13, 3])
2018-01-28 12:31:06,957 - __main__ - DEBUG - Test feature 9 Absolute errors histogram: ([0.0, 0.11285960674285889, 0.22571921348571777, 0.33857882022857666, 0.45143842697143555, 0.5642980337142944, 0.6771576404571533, 0.7900172472000122, 0.9028768539428711, 1.01573646068573], [1841, 1129, 539, 199, 66, 25, 3, 4, 1])
2018-01-28 12:31:06,958 - __main__ - DEBUG - Test feature 9 Squared errors histogram: ([0.0, 0.11463561750737483, 0.22927123501474966, 0.3439068525221245, 0.4585424700294993, 0.5731780875368742, 0.687813705044249, 0.8024493225516238, 0.9170849400589987, 1.0317205575663735], [3509, 221, 51, 18, 1, 3, 2, 2, 0]):
2018-01-28 12:31:06,958 - __main__ - DEBUG - Test feature 9 Predictions histogram: ([-0.9499698281288147, -0.7315580182605319, -0.5131462083922492, -0.29473439852396655, -0.07632258865568375, 0.14208922121259904, 0.3605010310808816, 0.5789128409491644, 0.7973246508174472, 1.01573646068573], [0, 0, 0, 0, 1590, 1523, 694, 0, 0])
2018-01-28 12:31:06,958 - __main__ - DEBUG - Test feature 9 Observations histogram: ([-0.9499698281288147, -0.7315580182605319, -0.5131462083922492, -0.29473439852396655, -0.07632258865568375, 0.14208922121259904, 0.3605010310808816, 0.5789128409491644, 0.7973246508174472, 1.01573646068573], [2, 12, 114, 453, 972, 1264, 810, 168, 12])
2018-01-28 12:31:06,959 - __main__ - DEBUG - Computing predictions of the model with replaced feature 9
2018-01-28 12:31:06,959 - __main__ - DEBUG - Replacing original feature 9 with predicted values
2018-01-28 12:31:07,447 - __main__ - DEBUG - No predictions for 0 items out of 8886, leaving as is
2018-01-28 12:31:07,486 - __main__ - DEBUG - Done in 0.526946783066 seconds
2018-01-28 12:31:08,667 - __main__ - DEBUG - Done in 1.179941 seconds
2018-01-28 12:31:08,667 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 12:32:24,085 - __main__ - DEBUG - Done in 75.414468 seconds
2018-01-28 12:32:24,135 - __main__ - DEBUG - Replaced mean error baseline: 0.026170
2018-01-28 12:32:24,136 - __main__ - DEBUG - Evaluating replaced model
2018-01-28 12:32:27,374 - __main__ - DEBUG - Replaced feature 9 training Evaluating the model
2018-01-28 12:32:27,426 - __main__ - DEBUG - Replaced feature 9 training Bin range: (0.0, 5.5)
2018-01-28 12:35:24,843 - __main__ - DEBUG - Done in 177.468365 seconds
2018-01-28 12:35:24,844 - __main__ - DEBUG - Replaced feature 9 training Mean error: 0.00493674776589, mean absolute error: 0.0261698696131
2018-01-28 12:35:40,151 - __main__ - DEBUG - Replaced feature 9 training RMSE: 0.0392802257267, variance explained: 0.373554474753, mean absolute error: 0.0261698696131, r2: 0.996012075839
2018-01-28 12:35:40,151 - __main__ - DEBUG - Replaced feature 9 training MRAE: 0.00837510114573
2018-01-28 12:35:40,151 - __main__ - DEBUG - Replaced feature 9 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 7, 12963792, 0, 0, 0, 0])
2018-01-28 12:35:40,151 - __main__ - DEBUG - Replaced feature 9 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12963792, 7, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 12:35:40,152 - __main__ - DEBUG - Replaced feature 9 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963799, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 12:35:40,152 - __main__ - DEBUG - Replaced feature 9 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1526, 21613, 138865, 640054, 2250971, 4849672, 4158880, 875896, 26269])
2018-01-28 12:35:40,152 - __main__ - DEBUG - Replaced feature 9 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 12:35:40,153 - __main__ - DEBUG - Computing predictions of the model with replaced feature 9 test
2018-01-28 12:35:40,153 - __main__ - DEBUG - Replacing original feature 9 with predicted values
2018-01-28 12:35:40,674 - __main__ - DEBUG - No predictions for 0 items out of 3807, leaving as is
2018-01-28 12:35:40,720 - __main__ - DEBUG - Done in 0.5666680336 seconds
2018-01-28 12:35:41,858 - __main__ - DEBUG - Done in 1.137418 seconds
2018-01-28 12:35:41,858 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 12:36:13,529 - __main__ - DEBUG - Done in 31.671263 seconds
2018-01-28 12:36:13,585 - __main__ - DEBUG - Replaced mean error baseline test: 0.025654
2018-01-28 12:36:13,585 - __main__ - DEBUG - Evaluating replaced model test
2018-01-28 12:36:16,245 - __main__ - DEBUG - Replaced feature 9 test Evaluating the model
2018-01-28 12:36:16,292 - __main__ - DEBUG - Replaced feature 9 test Bin range: (0.0, 5.5)
2018-01-28 12:37:20,897 - __main__ - DEBUG - Done in 64.651667 seconds
2018-01-28 12:37:20,897 - __main__ - DEBUG - Replaced feature 9 test Mean error: 0.00198953584156, mean absolute error: 0.0256543586565
2018-01-28 12:37:27,220 - __main__ - DEBUG - Replaced feature 9 test RMSE: 0.0384518084508, variance explained: 0.389650522736, mean absolute error: 0.0256543586565, r2: 0.996340072307
2018-01-28 12:37:27,220 - __main__ - DEBUG - Replaced feature 9 test MRAE: 0.00822191717451
2018-01-28 12:37:27,220 - __main__ - DEBUG - Replaced feature 9 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 4, 5258806, 1, 0, 0, 0])
2018-01-28 12:37:27,220 - __main__ - DEBUG - Replaced feature 9 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5258806, 5, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 12:37:27,220 - __main__ - DEBUG - Replaced feature 9 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 12:37:27,220 - __main__ - DEBUG - Replaced feature 9 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [718, 11311, 68177, 272682, 867419, 1917741, 1746794, 365075, 8880])
2018-01-28 12:37:27,221 - __main__ - DEBUG - Replaced feature 9 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 12:37:27,221 - __main__ - DEBUG - Randomizing feature 9
2018-01-28 12:37:27,567 - __main__ - DEBUG - Done in 0.345520 seconds
2018-01-28 12:37:27,567 - __main__ - DEBUG - Computing predictions of the model with randomized feature 9
2018-01-28 12:37:28,344 - __main__ - DEBUG - Done in 0.776243 seconds
2018-01-28 12:37:28,344 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 12:38:44,107 - __main__ - DEBUG - Done in 75.763573 seconds
2018-01-28 12:38:44,158 - __main__ - DEBUG - Radnomized mean error baseline: 0.056545
2018-01-28 12:38:44,158 - __main__ - DEBUG - Substitution is 2.160694 times better than randomization on the training set
2018-01-28 12:38:44,158 - __main__ - DEBUG - Evaluating randomized model
2018-01-28 12:38:47,300 - __main__ - DEBUG - Randomized feature 9 training Evaluating the model
2018-01-28 12:38:47,343 - __main__ - DEBUG - Randomized feature 9 training Bin range: (0.0, 5.5)
2018-01-28 12:41:47,608 - __main__ - DEBUG - Done in 180.307768 seconds
2018-01-28 12:41:47,608 - __main__ - DEBUG - Randomized feature 9 training Mean error: -0.00266406988881, mean absolute error: 0.0565450723128
2018-01-28 12:42:02,725 - __main__ - DEBUG - Randomized feature 9 training RMSE: 0.0834411898004, variance explained: 0.362577871416, mean absolute error: 0.0565450723128, r2: 0.982004665769
2018-01-28 12:42:02,725 - __main__ - DEBUG - Randomized feature 9 training MRAE: 0.0177347011613
2018-01-28 12:42:02,726 - __main__ - DEBUG - Randomized feature 9 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 790, 12962553, 456, 0, 0, 0])
2018-01-28 12:42:02,726 - __main__ - DEBUG - Randomized feature 9 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12962553, 1244, 2, 0, 0, 0, 0, 0, 0])
2018-01-28 12:42:02,726 - __main__ - DEBUG - Randomized feature 9 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963799, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 12:42:02,726 - __main__ - DEBUG - Randomized feature 9 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1349, 18843, 127482, 625139, 2315877, 4933546, 4090195, 827112, 24197])
2018-01-28 12:42:02,726 - __main__ - DEBUG - Randomized feature 9 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 12:42:02,727 - __main__ - DEBUG - Randomizing feature 9 test
2018-01-28 12:42:03,069 - __main__ - DEBUG - Done in 0.342191 seconds
2018-01-28 12:42:03,070 - __main__ - DEBUG - Computing predictions of the model with randomized feature 9 test
2018-01-28 12:42:03,751 - __main__ - DEBUG - Done in 0.680835 seconds
2018-01-28 12:42:03,751 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 12:42:35,516 - __main__ - DEBUG - Done in 31.765549 seconds
2018-01-28 12:42:35,573 - __main__ - DEBUG - Radnomized mean error baseline test: 0.058677
2018-01-28 12:42:35,574 - __main__ - DEBUG - Substitution is 2.287230 times better than randomization on the test set
2018-01-28 12:42:35,574 - __main__ - DEBUG - Evaluating randomized model test
2018-01-28 12:42:38,684 - __main__ - DEBUG - Randomized feature 9 test Evaluating the model
2018-01-28 12:42:38,734 - __main__ - DEBUG - Randomized feature 9 test Bin range: (0.0, 5.5)
2018-01-28 12:43:42,720 - __main__ - DEBUG - Done in 64.035814 seconds
2018-01-28 12:43:42,720 - __main__ - DEBUG - Randomized feature 9 test Mean error: -0.00422660480735, mean absolute error: 0.0586774190013
2018-01-28 12:43:49,038 - __main__ - DEBUG - Randomized feature 9 test RMSE: 0.0868321287514, variance explained: 0.375552734519, mean absolute error: 0.0586774190013, r2: 0.981336209048
2018-01-28 12:43:49,038 - __main__ - DEBUG - Randomized feature 9 test MRAE: 0.0184184381874
2018-01-28 12:43:49,038 - __main__ - DEBUG - Randomized feature 9 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 931, 5257713, 167, 0, 0, 0])
2018-01-28 12:43:49,038 - __main__ - DEBUG - Randomized feature 9 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5257713, 1097, 1, 0, 0, 0, 0, 0, 0])
2018-01-28 12:43:49,038 - __main__ - DEBUG - Randomized feature 9 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 12:43:49,038 - __main__ - DEBUG - Randomized feature 9 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [651, 9702, 61830, 264441, 892074, 1956971, 1722182, 342942, 8003])
2018-01-28 12:43:49,038 - __main__ - DEBUG - Randomized feature 9 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 12:43:49,039 - __main__ - DEBUG - persist_dir: archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state
2018-01-28 12:43:49,039 - __main__ - DEBUG - Saving the state of current iteration
2018-01-28 12:43:49,039 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/results.pkl
2018-01-28 12:43:49,088 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/lr_model_9.pkl
2018-01-28 12:43:49,440 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/predictions_9.pkl
2018-01-28 12:43:49,716 - __main__ - DEBUG - Processing 10 out of 20
2018-01-28 12:43:49,716 - __main__ - DEBUG - Feature 10 not in [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], processing
2018-01-28 12:43:49,955 - __main__ - DEBUG - predict_internal_feature(features.count()=8886, indicators.count()=8886, f=10, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, no_threshold=True, is_classifier=False, num_classes=None, max_depth=3)
2018-01-28 12:43:49,955 - __main__ - DEBUG - Processing feature 10
2018-01-28 12:43:49,955 - __main__ - DEBUG - Building data set
2018-01-28 12:43:49,982 - __main__ - DEBUG - Done in 0.0267479419708 seconds
2018-01-28 12:43:50,540 - __main__ - DEBUG - train_regression_model(data.count=8886, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, max_depth=3, num_trees=128, is_classifier=False, num_classes=None)
2018-01-28 12:43:50,540 - __main__ - DEBUG - num_classes is None, setting to max_bins=8
2018-01-28 12:43:50,541 - __main__ - DEBUG - Training regression_tree
2018-01-28 12:43:51,525 - __main__ - DEBUG - Done in 0.984164953232 seconds
2018-01-28 12:43:52,201 - __main__ - INFO - DecisionTreeModel regressor of depth 3 with 15 nodes
  If (Isn't movielens_genre:Drama)
   If (year <= 2005.0)
    If (Is imdb_languages:English)
     Predict: -0.1354575571163954
    Else (Isn't imdb_languages:English)
     Predict: -0.061659436342155455
   Else (year > 2005.0)
    If (Is movielens_genre:Children)
     Predict: -0.1639221015156827
    Else (Isn't movielens_genre:Children)
     Predict: -0.04241722894861425
  Else (Is movielens_genre:Drama)
   If (year <= 2005.0)
    If (Is imdb_languages:English)
     Predict: -0.05506118357555442
    Else (Isn't imdb_languages:English)
     Predict: 0.01565996536206328
   Else (year > 2005.0)
    If (average_rating <= 3.0848758465011286)
     Predict: -0.012441867974767387
    Else (average_rating > 3.0848758465011286)
     Predict: 0.03811734206739131

2018-01-28 12:43:52,201 - __main__ - DEBUG - Computing predictions on the test set
2018-01-28 12:43:52,506 - __main__ - DEBUG - Training feature 10 Evaluating the model
2018-01-28 12:43:53,635 - __main__ - DEBUG - Training feature 10 Bin range: (-1.3496838808059692, 0.9304367303848267)
2018-01-28 12:43:55,756 - __main__ - DEBUG - Done in 3.249429 seconds
2018-01-28 12:43:55,756 - __main__ - DEBUG - Training feature 10 Mean error: 6.02214154703e-18, mean absolute error: 0.0974454155045
2018-01-28 12:43:55,990 - __main__ - DEBUG - Training feature 10 RMSE: 0.132698642477, variance explained: 0.00339274440999, mean absolute error: 0.0974454155045, r2: 0.161546379101
2018-01-28 12:43:55,990 - __main__ - DEBUG - Training feature 10 MRAE: 3.41440700637
2018-01-28 12:43:55,991 - __main__ - DEBUG - Training feature 10 Errors histogram: ([-1.3496838808059692, -1.0497541295157538, -0.7498243782255385, -0.4498946269353231, -0.14996487564510774, 0.14996487564510774, 0.449894626935323, 0.7498243782255383, 1.0497541295157538, 1.3496838808059692], [0, 4, 31, 873, 7103, 836, 37, 1, 1])
2018-01-28 12:43:55,991 - __main__ - DEBUG - Training feature 10 Absolute errors histogram: ([0.0, 0.1499648756451077, 0.2999297512902154, 0.44989462693532306, 0.5998595025804307, 0.7498243782255385, 0.8997892538706461, 1.0497541295157538, 1.1997190051608615, 1.3496838808059692], [7103, 1476, 233, 54, 14, 5, 0, 0, 1])
2018-01-28 12:43:55,991 - __main__ - DEBUG - Training feature 10 Squared errors histogram: ([0.0, 0.20240517534527352, 0.40481035069054705, 0.6072155260358205, 0.8096207013810941, 1.0120258767263677, 1.214431052071641, 1.4168362274169146, 1.6192414027621882, 1.8216465781074618], [8812, 61, 8, 4, 0, 0, 0, 1, 0]):
2018-01-28 12:43:55,991 - __main__ - DEBUG - Training feature 10 Predictions histogram: ([-1.3496838808059692, -1.0963371462292142, -0.842990411652459, -0.5896436770757039, -0.3362969424989488, -0.08295020792219376, 0.1703965266545615, 0.42374326123131656, 0.6770899958080716, 0.9304367303848267], [0, 0, 0, 0, 2827, 6059, 0, 0, 0])
2018-01-28 12:43:55,991 - __main__ - DEBUG - Training feature 10 Observations histogram: ([-1.3496838808059692, -1.0963371462292142, -0.842990411652459, -0.5896436770757039, -0.3362969424989488, -0.08295020792219376, 0.1703965266545615, 0.42374326123131656, 0.6770899958080716, 0.9304367303848267], [1, 0, 14, 195, 3826, 4382, 435, 28, 5])
2018-01-28 12:43:55,992 - __main__ - DEBUG - Evaluating regression on the test set
2018-01-28 12:43:55,992 - __main__ - DEBUG - Test feature 10 Evaluating the model
2018-01-28 12:43:57,147 - __main__ - DEBUG - Test feature 10 Bin range: (-0.7064117193222046, 0.6327043771743774)
2018-01-28 12:43:59,224 - __main__ - DEBUG - Done in 3.231831 seconds
2018-01-28 12:43:59,224 - __main__ - DEBUG - Test feature 10 Mean error: -0.00213973265873, mean absolute error: 0.0962279100353
2018-01-28 12:43:59,466 - __main__ - DEBUG - Test feature 10 RMSE: 0.128671175696, variance explained: 0.00343833652641, mean absolute error: 0.0962279100353, r2: 0.153817925319
2018-01-28 12:43:59,466 - __main__ - DEBUG - Test feature 10 MRAE: 3.82515248552
2018-01-28 12:43:59,467 - __main__ - DEBUG - Test feature 10 Errors histogram: ([-0.7064117193222046, -0.5494313372506036, -0.3924509551790025, -0.2354705731074015, -0.07849019103580046, 0.07849019103580057, 0.2354705731074016, 0.39245095517900275, 0.5494313372506037, 0.7064117193222046], [1, 20, 138, 747, 1997, 792, 94, 14, 3])
2018-01-28 12:43:59,467 - __main__ - DEBUG - Test feature 10 Absolute errors histogram: ([0.0, 0.07849019103580052, 0.15698038207160103, 0.23547057310740155, 0.31396076414320206, 0.3924509551790026, 0.4709411462148031, 0.5494313372506037, 0.6279215282864041, 0.7064117193222046], [1997, 1118, 421, 164, 68, 25, 9, 3, 1])
2018-01-28 12:43:59,467 - __main__ - DEBUG - Test feature 10 Squared errors histogram: ([0.0, 0.05544639079952813, 0.11089278159905626, 0.1663391723985844, 0.22178556319811252, 0.27723195399764067, 0.3326783447971688, 0.3881247355966969, 0.44357112639622504, 0.49901751719575316], [3536, 188, 47, 22, 7, 3, 2, 1, 0]):
2018-01-28 12:43:59,467 - __main__ - DEBUG - Test feature 10 Predictions histogram: ([-0.7064117193222046, -0.5576210419336954, -0.40883036454518634, -0.26003968715667725, -0.1112490097681681, 0.03754166762034106, 0.1863323450088501, 0.33512302239735936, 0.4839136997858684, 0.6327043771743774], [0, 0, 0, 1218, 2206, 383, 0, 0, 0])
2018-01-28 12:43:59,467 - __main__ - DEBUG - Test feature 10 Observations histogram: ([-0.7064117193222046, -0.5576210419336954, -0.40883036454518634, -0.26003968715667725, -0.1112490097681681, 0.03754166762034106, 0.1863323450088501, 0.33512302239735936, 0.4839136997858684, 0.6327043771743774], [5, 23, 190, 1130, 1664, 627, 136, 29, 3])
2018-01-28 12:43:59,468 - __main__ - DEBUG - Computing predictions of the model with replaced feature 10
2018-01-28 12:43:59,468 - __main__ - DEBUG - Replacing original feature 10 with predicted values
2018-01-28 12:43:59,966 - __main__ - DEBUG - No predictions for 0 items out of 8886, leaving as is
2018-01-28 12:44:00,011 - __main__ - DEBUG - Done in 0.542271137238 seconds
2018-01-28 12:44:01,196 - __main__ - DEBUG - Done in 1.184368 seconds
2018-01-28 12:44:01,197 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 12:45:17,746 - __main__ - DEBUG - Done in 76.549375 seconds
2018-01-28 12:45:17,794 - __main__ - DEBUG - Replaced mean error baseline: 0.007532
2018-01-28 12:45:17,795 - __main__ - DEBUG - Evaluating replaced model
2018-01-28 12:45:20,951 - __main__ - DEBUG - Replaced feature 10 training Evaluating the model
2018-01-28 12:45:21,006 - __main__ - DEBUG - Replaced feature 10 training Bin range: (0.0, 5.5)
2018-01-28 12:48:20,613 - __main__ - DEBUG - Done in 179.661765 seconds
2018-01-28 12:48:20,613 - __main__ - DEBUG - Replaced feature 10 training Mean error: -0.000736064835387, mean absolute error: 0.0075322303217
2018-01-28 12:48:35,622 - __main__ - DEBUG - Replaced feature 10 training RMSE: 0.012083663735, variance explained: 0.387252574199, mean absolute error: 0.0075322303217, r2: 0.999622604947
2018-01-28 12:48:35,622 - __main__ - DEBUG - Replaced feature 10 training MRAE: 0.00226170613557
2018-01-28 12:48:35,622 - __main__ - DEBUG - Replaced feature 10 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 0, 12963799, 0, 0, 0, 0])
2018-01-28 12:48:35,622 - __main__ - DEBUG - Replaced feature 10 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12963799, 0, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 12:48:35,622 - __main__ - DEBUG - Replaced feature 10 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963799, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 12:48:35,622 - __main__ - DEBUG - Replaced feature 10 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1927, 24518, 150564, 672383, 2290959, 4766325, 4121878, 906258, 28918])
2018-01-28 12:48:35,622 - __main__ - DEBUG - Replaced feature 10 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 12:48:35,623 - __main__ - DEBUG - Computing predictions of the model with replaced feature 10 test
2018-01-28 12:48:35,623 - __main__ - DEBUG - Replacing original feature 10 with predicted values
2018-01-28 12:48:36,106 - __main__ - DEBUG - No predictions for 0 items out of 3807, leaving as is
2018-01-28 12:48:36,150 - __main__ - DEBUG - Done in 0.526220083237 seconds
2018-01-28 12:48:37,215 - __main__ - DEBUG - Done in 1.065265 seconds
2018-01-28 12:48:37,216 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 12:49:08,766 - __main__ - DEBUG - Done in 31.550068 seconds
2018-01-28 12:49:08,816 - __main__ - DEBUG - Replaced mean error baseline test: 0.007178
2018-01-28 12:49:08,816 - __main__ - DEBUG - Evaluating replaced model test
2018-01-28 12:49:11,702 - __main__ - DEBUG - Replaced feature 10 test Evaluating the model
2018-01-28 12:49:11,744 - __main__ - DEBUG - Replaced feature 10 test Bin range: (0.0, 5.5)
2018-01-28 12:50:15,895 - __main__ - DEBUG - Done in 64.192404 seconds
2018-01-28 12:50:15,895 - __main__ - DEBUG - Replaced feature 10 test Mean error: -0.000711737177204, mean absolute error: 0.00717845804582
2018-01-28 12:50:22,328 - __main__ - DEBUG - Replaced feature 10 test RMSE: 0.0116341498025, variance explained: 0.404193079083, mean absolute error: 0.00717845804582, r2: 0.999664951045
2018-01-28 12:50:22,328 - __main__ - DEBUG - Replaced feature 10 test MRAE: 0.00214859421409
2018-01-28 12:50:22,329 - __main__ - DEBUG - Replaced feature 10 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 0, 5258811, 0, 0, 0, 0])
2018-01-28 12:50:22,329 - __main__ - DEBUG - Replaced feature 10 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5258811, 0, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 12:50:22,329 - __main__ - DEBUG - Replaced feature 10 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 12:50:22,329 - __main__ - DEBUG - Replaced feature 10 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [956, 13010, 72679, 281722, 878990, 1885599, 1731249, 384225, 10359])
2018-01-28 12:50:22,329 - __main__ - DEBUG - Replaced feature 10 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 12:50:22,330 - __main__ - DEBUG - Randomizing feature 10
2018-01-28 12:50:22,708 - __main__ - DEBUG - Done in 0.378094 seconds
2018-01-28 12:50:22,708 - __main__ - DEBUG - Computing predictions of the model with randomized feature 10
2018-01-28 12:50:23,627 - __main__ - DEBUG - Done in 0.918738 seconds
2018-01-28 12:50:23,628 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 12:51:39,878 - __main__ - DEBUG - Done in 76.249856 seconds
2018-01-28 12:51:39,942 - __main__ - DEBUG - Radnomized mean error baseline: 0.014724
2018-01-28 12:51:39,943 - __main__ - DEBUG - Substitution is 1.954805 times better than randomization on the training set
2018-01-28 12:51:39,943 - __main__ - DEBUG - Evaluating randomized model
2018-01-28 12:51:43,122 - __main__ - DEBUG - Randomized feature 10 training Evaluating the model
2018-01-28 12:51:43,171 - __main__ - DEBUG - Randomized feature 10 training Bin range: (0.0, 5.5)
2018-01-28 12:54:34,222 - __main__ - DEBUG - Done in 171.099105 seconds
2018-01-28 12:54:34,222 - __main__ - DEBUG - Randomized feature 10 training Mean error: -0.00368121799596, mean absolute error: 0.0147240389178
2018-01-28 12:54:49,537 - __main__ - DEBUG - Randomized feature 10 training RMSE: 0.02384502723, variance explained: 0.387505270597, mean absolute error: 0.0147240389178, r2: 0.99853041542
2018-01-28 12:54:49,537 - __main__ - DEBUG - Randomized feature 10 training MRAE: 0.00444743743311
2018-01-28 12:54:49,537 - __main__ - DEBUG - Randomized feature 10 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 0, 12963798, 1, 0, 0, 0])
2018-01-28 12:54:49,537 - __main__ - DEBUG - Randomized feature 10 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12963798, 1, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 12:54:49,537 - __main__ - DEBUG - Randomized feature 10 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963799, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 12:54:49,537 - __main__ - DEBUG - Randomized feature 10 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1929, 24436, 151142, 677348, 2307608, 4770140, 4103261, 899503, 28365])
2018-01-28 12:54:49,537 - __main__ - DEBUG - Randomized feature 10 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 12:54:49,538 - __main__ - DEBUG - Randomizing feature 10 test
2018-01-28 12:54:49,815 - __main__ - DEBUG - Done in 0.277423 seconds
2018-01-28 12:54:49,816 - __main__ - DEBUG - Computing predictions of the model with randomized feature 10 test
2018-01-28 12:54:50,454 - __main__ - DEBUG - Done in 0.638490 seconds
2018-01-28 12:54:50,455 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 12:55:20,191 - __main__ - DEBUG - Done in 29.735897 seconds
2018-01-28 12:55:20,236 - __main__ - DEBUG - Radnomized mean error baseline test: 0.013638
2018-01-28 12:55:20,236 - __main__ - DEBUG - Substitution is 1.899911 times better than randomization on the test set
2018-01-28 12:55:20,236 - __main__ - DEBUG - Evaluating randomized model test
2018-01-28 12:55:23,122 - __main__ - DEBUG - Randomized feature 10 test Evaluating the model
2018-01-28 12:55:23,164 - __main__ - DEBUG - Randomized feature 10 test Bin range: (0.0, 5.5)
2018-01-28 12:56:22,992 - __main__ - DEBUG - Done in 59.869187 seconds
2018-01-28 12:56:22,992 - __main__ - DEBUG - Randomized feature 10 test Mean error: -0.00334812953966, mean absolute error: 0.0136384327359
2018-01-28 12:56:29,414 - __main__ - DEBUG - Randomized feature 10 test RMSE: 0.0225310001063, variance explained: 0.404416702906, mean absolute error: 0.0136384327359, r2: 0.998743391757
2018-01-28 12:56:29,414 - __main__ - DEBUG - Randomized feature 10 test MRAE: 0.0041166842989
2018-01-28 12:56:29,414 - __main__ - DEBUG - Randomized feature 10 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 0, 5258811, 0, 0, 0, 0])
2018-01-28 12:56:29,415 - __main__ - DEBUG - Randomized feature 10 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5258811, 0, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 12:56:29,415 - __main__ - DEBUG - Randomized feature 10 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 12:56:29,415 - __main__ - DEBUG - Randomized feature 10 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [964, 12975, 72957, 283817, 883833, 1888369, 1724123, 381290, 10461])
2018-01-28 12:56:29,415 - __main__ - DEBUG - Randomized feature 10 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 12:56:29,415 - __main__ - DEBUG - persist_dir: archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state
2018-01-28 12:56:29,415 - __main__ - DEBUG - Saving the state of current iteration
2018-01-28 12:56:29,415 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/results.pkl
2018-01-28 12:56:29,468 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/lr_model_10.pkl
2018-01-28 12:56:29,872 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/predictions_10.pkl
2018-01-28 12:56:30,192 - __main__ - DEBUG - Processing 11 out of 20
2018-01-28 12:56:30,193 - __main__ - DEBUG - Feature 11 not in [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10], processing
2018-01-28 12:56:30,454 - __main__ - DEBUG - predict_internal_feature(features.count()=8886, indicators.count()=8886, f=11, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, no_threshold=True, is_classifier=False, num_classes=None, max_depth=3)
2018-01-28 12:56:30,454 - __main__ - DEBUG - Processing feature 11
2018-01-28 12:56:30,454 - __main__ - DEBUG - Building data set
2018-01-28 12:56:30,484 - __main__ - DEBUG - Done in 0.0298120975494 seconds
2018-01-28 12:56:31,057 - __main__ - DEBUG - train_regression_model(data.count=8886, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, max_depth=3, num_trees=128, is_classifier=False, num_classes=None)
2018-01-28 12:56:31,057 - __main__ - DEBUG - num_classes is None, setting to max_bins=8
2018-01-28 12:56:31,057 - __main__ - DEBUG - Training regression_tree
2018-01-28 12:56:32,305 - __main__ - DEBUG - Done in 1.24824881554 seconds
2018-01-28 12:56:32,980 - __main__ - INFO - DecisionTreeModel regressor of depth 3 with 15 nodes
  If (year <= 1996.0)
   If (imdb_rating <= 6.6)
    If (year <= 1976.0)
     Predict: -0.023721375169844763
    Else (year > 1976.0)
     Predict: 0.007147068398806768
   Else (imdb_rating > 6.6)
    If (average_rating <= 3.769449378330373)
     Predict: -0.03811414422020947
    Else (average_rating > 3.769449378330373)
     Predict: -0.08316757948502634
  Else (year > 1996.0)
   If (Isn't movielens_genre:Romance)
    If (Is movielens_genre:Animation)
     Predict: -0.04374694070736849
    Else (Isn't movielens_genre:Animation)
     Predict: 0.032880793739010684
   Else (Is movielens_genre:Romance)
    If (Isn't imdb_keywords:female-protagonist)
     Predict: 0.0666682297240343
    Else (Is imdb_keywords:female-protagonist)
     Predict: 0.14383410448269723

2018-01-28 12:56:32,981 - __main__ - DEBUG - Computing predictions on the test set
2018-01-28 12:56:33,339 - __main__ - DEBUG - Training feature 11 Evaluating the model
2018-01-28 12:56:34,539 - __main__ - DEBUG - Training feature 11 Bin range: (-0.6038268804550171, 0.7799037098884583)
2018-01-28 12:56:36,670 - __main__ - DEBUG - Done in 3.331108 seconds
2018-01-28 12:56:36,671 - __main__ - DEBUG - Training feature 11 Mean error: -1.73042863955e-18, mean absolute error: 0.0747878423625
2018-01-28 12:56:36,939 - __main__ - DEBUG - Training feature 11 RMSE: 0.103094866428, variance explained: 0.00180697614881, mean absolute error: 0.0747878423625, r2: 0.145307557685
2018-01-28 12:56:36,940 - __main__ - DEBUG - Training feature 11 MRAE: 5.05423975391
2018-01-28 12:56:36,940 - __main__ - DEBUG - Training feature 11 Errors histogram: ([-0.7799037098884583, -0.6065917743576897, -0.4332798388269212, -0.2599679032961527, -0.0866559677653842, 0.08665596776538431, 0.2599679032961528, 0.43327983882692145, 0.6065917743576899, 0.7799037098884583], [2, 11, 109, 1271, 6087, 1282, 113, 10, 1])
2018-01-28 12:56:36,940 - __main__ - DEBUG - Training feature 11 Absolute errors histogram: ([0.0, 0.08665596776538426, 0.1733119355307685, 0.25996790329615277, 0.346623871061537, 0.4332798388269213, 0.5199358065923055, 0.6065917743576899, 0.693247742123074, 0.7799037098884583], [6087, 2017, 536, 183, 39, 16, 5, 1, 2])
2018-01-28 12:56:36,940 - __main__ - DEBUG - Training feature 11 Squared errors histogram: ([0.0, 0.06758331074419782, 0.13516662148839564, 0.20274993223259347, 0.2703332429767913, 0.3379165537209891, 0.40549986446518693, 0.47308317520938475, 0.5406664859535826, 0.6082497966977805], [8640, 198, 27, 13, 4, 2, 0, 1, 1]):
2018-01-28 12:56:36,940 - __main__ - DEBUG - Training feature 11 Predictions histogram: ([-0.6038268804550171, -0.4500790370835198, -0.29633119371202254, -0.14258335034052527, 0.011164493030972, 0.16491233640246927, 0.31866017977396655, 0.47240802314546393, 0.6261558665169611, 0.7799037098884583], [0, 0, 0, 4624, 4262, 0, 0, 0, 0])
2018-01-28 12:56:36,940 - __main__ - DEBUG - Training feature 11 Observations histogram: ([-0.6038268804550171, -0.4500790370835198, -0.29633119371202254, -0.14258335034052527, 0.011164493030972, 0.16491233640246927, 0.31866017977396655, 0.47240802314546393, 0.6261558665169611, 0.7799037098884583], [7, 62, 616, 4153, 3421, 552, 63, 10, 2])
2018-01-28 12:56:36,941 - __main__ - DEBUG - Evaluating regression on the test set
2018-01-28 12:56:36,941 - __main__ - DEBUG - Test feature 11 Evaluating the model
2018-01-28 12:56:38,207 - __main__ - DEBUG - Test feature 11 Bin range: (-0.5880249738693237, 0.5608797073364258)
2018-01-28 12:56:40,310 - __main__ - DEBUG - Done in 3.368444 seconds
2018-01-28 12:56:40,310 - __main__ - DEBUG - Test feature 11 Mean error: -0.000530803797006, mean absolute error: 0.0762542774029
2018-01-28 12:56:40,536 - __main__ - DEBUG - Test feature 11 RMSE: 0.104189524721, variance explained: 0.0018935664544, mean absolute error: 0.0762542774029, r2: 0.145915012331
2018-01-28 12:56:40,536 - __main__ - DEBUG - Test feature 11 MRAE: 3.3658853795
2018-01-28 12:56:40,537 - __main__ - DEBUG - Test feature 11 Errors histogram: ([-0.5880249738693237, -0.45735275745391846, -0.3266805410385132, -0.1960083246231079, -0.06533610820770264, 0.06533610820770264, 0.1960083246231079, 0.3266805410385132, 0.45735275745391846, 0.5880249738693237], [6, 16, 109, 719, 2100, 734, 102, 18, 2])
2018-01-28 12:56:40,537 - __main__ - DEBUG - Test feature 11 Absolute errors histogram: ([0.0, 0.06533610820770264, 0.13067221641540527, 0.1960083246231079, 0.26134443283081055, 0.3266805410385132, 0.3920166492462158, 0.45735275745391846, 0.5226888656616211, 0.5880249738693237], [2100, 1084, 369, 151, 60, 25, 9, 7, 1])
2018-01-28 12:56:40,537 - __main__ - DEBUG - Test feature 11 Squared errors histogram: ([0.0, 0.03841926332155765, 0.0768385266431153, 0.11525778996467295, 0.1536770532862306, 0.19209631660778825, 0.2305155799293459, 0.26893484325090355, 0.3073541065724612, 0.34577336989401886], [3553, 170, 47, 19, 8, 3, 4, 2, 0]):
2018-01-28 12:56:40,537 - __main__ - DEBUG - Test feature 11 Predictions histogram: ([-0.5880249738693237, -0.460368898179796, -0.3327128224902683, -0.2050567468007406, -0.07740067111121285, 0.0502554045783149, 0.17791148026784254, 0.3055675559573703, 0.43322363164689803, 0.5608797073364258], [0, 0, 0, 284, 3162, 361, 0, 0, 0])
2018-01-28 12:56:40,538 - __main__ - DEBUG - Test feature 11 Observations histogram: ([-0.5880249738693237, -0.460368898179796, -0.3327128224902683, -0.2050567468007406, -0.07740067111121285, 0.0502554045783149, 0.17791148026784254, 0.3055675559573703, 0.43322363164689803, 0.5608797073364258], [2, 21, 81, 658, 1855, 965, 184, 33, 8])
2018-01-28 12:56:40,539 - __main__ - DEBUG - Computing predictions of the model with replaced feature 11
2018-01-28 12:56:40,539 - __main__ - DEBUG - Replacing original feature 11 with predicted values
2018-01-28 12:56:41,008 - __main__ - DEBUG - No predictions for 0 items out of 8886, leaving as is
2018-01-28 12:56:41,050 - __main__ - DEBUG - Done in 0.510193824768 seconds
2018-01-28 12:56:42,085 - __main__ - DEBUG - Done in 1.034809 seconds
2018-01-28 12:56:42,086 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 12:57:55,422 - __main__ - DEBUG - Done in 73.336383 seconds
2018-01-28 12:57:55,477 - __main__ - DEBUG - Replaced mean error baseline: 0.004823
2018-01-28 12:57:55,479 - __main__ - DEBUG - Evaluating replaced model
2018-01-28 12:57:58,846 - __main__ - DEBUG - Replaced feature 11 training Evaluating the model
2018-01-28 12:57:58,892 - __main__ - DEBUG - Replaced feature 11 training Bin range: (0.0, 5.5)
2018-01-28 13:00:50,584 - __main__ - DEBUG - Done in 171.737572 seconds
2018-01-28 13:00:50,584 - __main__ - DEBUG - Replaced feature 11 training Mean error: -0.00132343841546, mean absolute error: 0.00482343065751
2018-01-28 13:01:05,956 - __main__ - DEBUG - Replaced feature 11 training RMSE: 0.00867844204608, variance explained: 0.386619437245, mean absolute error: 0.00482343065751, r2: 0.999805337419
2018-01-28 13:01:05,956 - __main__ - DEBUG - Replaced feature 11 training MRAE: 0.00151414444223
2018-01-28 13:01:05,956 - __main__ - DEBUG - Replaced feature 11 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 0, 12963799, 0, 0, 0, 0])
2018-01-28 13:01:05,956 - __main__ - DEBUG - Replaced feature 11 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12963799, 0, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 13:01:05,956 - __main__ - DEBUG - Replaced feature 11 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963799, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 13:01:05,956 - __main__ - DEBUG - Replaced feature 11 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1967, 24765, 150802, 672366, 2289504, 4770894, 4125665, 899752, 28015])
2018-01-28 13:01:05,956 - __main__ - DEBUG - Replaced feature 11 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 13:01:05,957 - __main__ - DEBUG - Computing predictions of the model with replaced feature 11 test
2018-01-28 13:01:05,957 - __main__ - DEBUG - Replacing original feature 11 with predicted values
2018-01-28 13:01:06,441 - __main__ - DEBUG - No predictions for 0 items out of 3807, leaving as is
2018-01-28 13:01:06,482 - __main__ - DEBUG - Done in 0.524616003036 seconds
2018-01-28 13:01:07,535 - __main__ - DEBUG - Done in 1.051999 seconds
2018-01-28 13:01:07,535 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 13:01:37,077 - __main__ - DEBUG - Done in 29.541410 seconds
2018-01-28 13:01:37,111 - __main__ - DEBUG - Replaced mean error baseline test: 0.004935
2018-01-28 13:01:37,111 - __main__ - DEBUG - Evaluating replaced model test
2018-01-28 13:01:39,770 - __main__ - DEBUG - Replaced feature 11 test Evaluating the model
2018-01-28 13:01:39,812 - __main__ - DEBUG - Replaced feature 11 test Bin range: (0.0, 5.5)
2018-01-28 13:02:38,192 - __main__ - DEBUG - Done in 58.421576 seconds
2018-01-28 13:02:38,192 - __main__ - DEBUG - Replaced feature 11 test Mean error: -0.00103647871151, mean absolute error: 0.00493522306504
2018-01-28 13:02:44,610 - __main__ - DEBUG - Replaced feature 11 test RMSE: 0.0086825598777, variance explained: 0.403695120086, mean absolute error: 0.00493522306504, r2: 0.999813390161
2018-01-28 13:02:44,610 - __main__ - DEBUG - Replaced feature 11 test MRAE: 0.00155642534151
2018-01-28 13:02:44,610 - __main__ - DEBUG - Replaced feature 11 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 0, 5258811, 0, 0, 0, 0])
2018-01-28 13:02:44,610 - __main__ - DEBUG - Replaced feature 11 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5258811, 0, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 13:02:44,610 - __main__ - DEBUG - Replaced feature 11 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 13:02:44,610 - __main__ - DEBUG - Replaced feature 11 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [977, 13065, 72770, 281711, 877853, 1886854, 1733401, 382129, 10030])
2018-01-28 13:02:44,610 - __main__ - DEBUG - Replaced feature 11 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 13:02:44,611 - __main__ - DEBUG - Randomizing feature 11
2018-01-28 13:02:44,958 - __main__ - DEBUG - Done in 0.347048 seconds
2018-01-28 13:02:44,958 - __main__ - DEBUG - Computing predictions of the model with randomized feature 11
2018-01-28 13:02:45,724 - __main__ - DEBUG - Done in 0.765653 seconds
2018-01-28 13:02:45,724 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 13:03:57,863 - __main__ - DEBUG - Done in 72.138250 seconds
2018-01-28 13:03:57,951 - __main__ - DEBUG - Radnomized mean error baseline: 0.008341
2018-01-28 13:03:57,952 - __main__ - DEBUG - Substitution is 1.729370 times better than randomization on the training set
2018-01-28 13:03:57,952 - __main__ - DEBUG - Evaluating randomized model
2018-01-28 13:04:00,903 - __main__ - DEBUG - Randomized feature 11 training Evaluating the model
2018-01-28 13:04:00,944 - __main__ - DEBUG - Randomized feature 11 training Bin range: (0.0, 5.5)
2018-01-28 13:06:53,029 - __main__ - DEBUG - Done in 172.126423 seconds
2018-01-28 13:06:53,030 - __main__ - DEBUG - Randomized feature 11 training Mean error: -0.00245492453874, mean absolute error: 0.00834149679025
2018-01-28 13:07:08,141 - __main__ - DEBUG - Randomized feature 11 training RMSE: 0.0142007111007, variance explained: 0.385811313956, mean absolute error: 0.00834149679025, r2: 0.999478782336
2018-01-28 13:07:08,141 - __main__ - DEBUG - Randomized feature 11 training MRAE: 0.00255873723886
2018-01-28 13:07:08,141 - __main__ - DEBUG - Randomized feature 11 training Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 0, 12963799, 0, 0, 0, 0])
2018-01-28 13:07:08,141 - __main__ - DEBUG - Randomized feature 11 training Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [12963799, 0, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 13:07:08,142 - __main__ - DEBUG - Randomized feature 11 training Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [12963799, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 13:07:08,142 - __main__ - DEBUG - Randomized feature 11 training Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1947, 24663, 150886, 672865, 2292850, 4777315, 4124153, 891736, 27314])
2018-01-28 13:07:08,142 - __main__ - DEBUG - Randomized feature 11 training Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [1980, 24719, 150607, 669939, 2284801, 4767983, 4128962, 906190, 28550])
2018-01-28 13:07:08,143 - __main__ - DEBUG - Randomizing feature 11 test
2018-01-28 13:07:08,426 - __main__ - DEBUG - Done in 0.283319 seconds
2018-01-28 13:07:08,426 - __main__ - DEBUG - Computing predictions of the model with randomized feature 11 test
2018-01-28 13:07:09,013 - __main__ - DEBUG - Done in 0.586855 seconds
2018-01-28 13:07:09,013 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 13:07:38,719 - __main__ - DEBUG - Done in 29.705835 seconds
2018-01-28 13:07:38,769 - __main__ - DEBUG - Radnomized mean error baseline test: 0.008357
2018-01-28 13:07:38,770 - __main__ - DEBUG - Substitution is 1.693287 times better than randomization on the test set
2018-01-28 13:07:38,770 - __main__ - DEBUG - Evaluating randomized model test
2018-01-28 13:07:41,795 - __main__ - DEBUG - Randomized feature 11 test Evaluating the model
2018-01-28 13:07:41,842 - __main__ - DEBUG - Randomized feature 11 test Bin range: (0.0, 5.5)
2018-01-28 13:08:42,088 - __main__ - DEBUG - Done in 60.292761 seconds
2018-01-28 13:08:42,089 - __main__ - DEBUG - Randomized feature 11 test Mean error: -0.00227725465353, mean absolute error: 0.00835674674339
2018-01-28 13:08:48,435 - __main__ - DEBUG - Randomized feature 11 test RMSE: 0.0140235243576, variance explained: 0.402629845316, mean absolute error: 0.00835674674339, r2: 0.999513196927
2018-01-28 13:08:48,435 - __main__ - DEBUG - Randomized feature 11 test MRAE: 0.00258248893432
2018-01-28 13:08:48,436 - __main__ - DEBUG - Randomized feature 11 test Errors histogram: ([-5.5, -4.277777777777778, -3.0555555555555554, -1.833333333333333, -0.6111111111111107, 0.6111111111111116, 1.833333333333334, 3.055555555555557, 4.277777777777779, 5.5], [0, 0, 0, 0, 5258811, 0, 0, 0, 0])
2018-01-28 13:08:48,436 - __main__ - DEBUG - Randomized feature 11 test Absolute errors histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [5258811, 0, 0, 0, 0, 0, 0, 0, 0])
2018-01-28 13:08:48,436 - __main__ - DEBUG - Randomized feature 11 test Squared errors histogram: ([0.0, 3.361111111111111, 6.722222222222222, 10.083333333333334, 13.444444444444445, 16.805555555555557, 20.166666666666668, 23.52777777777778, 26.88888888888889, 30.25], [5258811, 0, 0, 0, 0, 0, 0, 0, 0]):
2018-01-28 13:08:48,436 - __main__ - DEBUG - Randomized feature 11 test Predictions histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [952, 13067, 72704, 281652, 878934, 1891764, 1731329, 378555, 9831])
2018-01-28 13:08:48,436 - __main__ - DEBUG - Randomized feature 11 test Observations histogram: ([0.0, 0.6111111111111112, 1.2222222222222223, 1.8333333333333335, 2.4444444444444446, 3.055555555555556, 3.666666666666667, 4.277777777777779, 4.888888888888889, 5.5], [971, 13064, 72722, 281050, 876715, 1885027, 1734842, 384198, 10201])
2018-01-28 13:08:48,436 - __main__ - DEBUG - persist_dir: archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state
2018-01-28 13:08:48,436 - __main__ - DEBUG - Saving the state of current iteration
2018-01-28 13:08:48,437 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/results.pkl
2018-01-28 13:08:48,476 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/lr_model_11.pkl
2018-01-28 13:08:48,839 - __main__ - DEBUG - Saving archived_states/product_regression_all_regression_tree_rank_20_depth_3_ijcai_tree_lmbda_0.1_rank_20_maxdepth_3_nbins_8.state/predictions_11.pkl
2018-01-28 13:08:49,176 - __main__ - DEBUG - Processing 12 out of 20
2018-01-28 13:08:49,176 - __main__ - DEBUG - Feature 12 not in [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], processing
2018-01-28 13:08:49,423 - __main__ - DEBUG - predict_internal_feature(features.count()=8886, indicators.count()=8886, f=12, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, no_threshold=True, is_classifier=False, num_classes=None, max_depth=3)
2018-01-28 13:08:49,423 - __main__ - DEBUG - Processing feature 12
2018-01-28 13:08:49,423 - __main__ - DEBUG - Building data set
2018-01-28 13:08:49,454 - __main__ - DEBUG - Done in 0.0303030014038 seconds
2018-01-28 13:08:50,069 - __main__ - DEBUG - train_regression_model(data.count=8886, regression_model="regression_tree", len(categorical_features)=1220, max_bins=8, max_depth=3, num_trees=128, is_classifier=False, num_classes=None)
2018-01-28 13:08:50,069 - __main__ - DEBUG - num_classes is None, setting to max_bins=8
2018-01-28 13:08:50,069 - __main__ - DEBUG - Training regression_tree
2018-01-28 13:08:51,205 - __main__ - DEBUG - Done in 1.13596487045 seconds
2018-01-28 13:08:51,913 - __main__ - INFO - DecisionTreeModel regressor of depth 3 with 15 nodes
  If (imdb_year <= 1977.0)
   If (imdb_rating <= 7.2)
    If (year <= 1957.0)
     Predict: 0.05357043147023643
    Else (year > 1957.0)
     Predict: 0.13532055019001493
   Else (imdb_rating > 7.2)
    If (imdb_rating <= 7.6)
     Predict: 0.024800137278918777
    Else (imdb_rating > 7.6)
     Predict: -0.05182018230102726
  Else (imdb_year > 1977.0)
   If (Isn't movielens_genre:Action)
    If (imdb_rating <= 6.6)
     Predict: 0.24648923269115258
    Else (imdb_rating > 6.6)
     Predict: 0.15390237016013647
   Else (Is movielens_genre:Action)
    If (Isn't imdb_keywords:supernatural-power)
     Predict: 0.317593637833258
    Else (Is imdb_keywords:supernatural-power)
     Predict: 0.4490799602121115

2018-01-28 13:08:51,913 - __main__ - DEBUG - Computing predictions on the test set
2018-01-28 13:08:52,250 - __main__ - DEBUG - Training feature 12 Evaluating the model
2018-01-28 13:08:53,433 - __main__ - DEBUG - Training feature 12 Bin range: (-1.021535873413086, 1.0989503860473633)
2018-01-28 13:08:55,624 - __main__ - DEBUG - Done in 3.374114 seconds
2018-01-28 13:08:55,625 - __main__ - DEBUG - Training feature 12 Mean error: -3.94812599349e-18, mean absolute error: 0.141901283564
2018-01-28 13:08:55,856 - __main__ - DEBUG - Training feature 12 RMSE: 0.182185424301, variance explained: 0.0103501793305, mean absolute error: 0.141901283564, r2: 0.237707241362
2018-01-28 13:08:55,856 - __main__ - DEBUG - Training feature 12 MRAE: 3.69859817097
2018-01-28 13:08:55,856 - __main__ - DEBUG - Training feature 12 Errors histogram: ([-1.0989503860473633, -0.8547391891479492, -0.6105279922485352, -0.3663167953491211, -0.12210559844970703, 0.12210559844970703, 0.3663167953491211, 0.6105279922485352, 0.8547391891479492, 1.0989503860473633], [1, 13, 159, 2016, 4589, 1881, 201, 23, 2])
2018-01-28 13:08:55,856 - __main__ - DEBUG - Training feature 12 Absolute errors histogram: ([0.0, 0.12210559844970703, 0.24421119689941406, 0.3663167953491211, 0.4884223937988281, 0.6105279922485352, 0.7326335906982422, 0.8547391891479492, 0.9768447875976562, 1.0989503860473633], [4589, 2860, 1037, 283, 77, 29, 7, 3, 0])
2018-01-28 13:08:55,857 - __main__ - DEBUG - Training feature 12 Squared errors histogram: ([0.0, 0.13418799455484987, 0.26837598910969973, 0.4025639836645496, 0.5367519782193995, 0.6709399727742493, 0.8051279673290992, 0.9393159618839491, 1.073503956438799, 1.2076919509936488], [8486, 314, 56, 19, 7, 3, 0, 0, 0]):
2018-01-28 13:08:55,857 - __main__ - DEBUG - Training feature 12 Predictions histogram: ([-1.021535873413086, -0.7859262890285916, -0.5503167046440972, -0.3147071202596028, -0.07909753587510848, 0.15651204850938583, 0.39212163289388036, 0.6277312172783747, 0.863340801662869, 1.0989503860473633], [0, 0, 0, 0, 4715, 4081, 90, 0, 0])
2018-01-28 13:08:55,857 - __main__ - DEBUG - Training feature 12 Observations histogram: ([-1.021535873413086, -0.7859262890285916, -0.5503167046440972, -0.3147071202596028, -0.07909753587510848, 0.15651204850938583, 0.39212163289388036, 0.6277312172783747, 0.863340801662869, 1.0989503860473633], [2, 6, 73, 855, 3030, 3466, 1343, 100, 11])
2018-01-28 13:08:55,858 - __main__ - DEBUG - Evaluating regression on the test set
2018-01-28 13:08:55,858 - __main__ - DEBUG - Test feature 12 Evaluating the model
2018-01-28 13:08:56,791 - __main__ - DEBUG - Test feature 12 Bin range: (-0.7879588603973389, 1.2755154371261597)
2018-01-28 13:08:58,767 - __main__ - DEBUG - Done in 2.908874 seconds
2018-01-28 13:08:58,767 - __main__ - DEBUG - Test feature 12 Mean error: 0.00285348610384, mean absolute error: 0.14127566765
2018-01-28 13:08:58,985 - __main__ - DEBUG - Test feature 12 RMSE: 0.181066682532, variance explained: 0.00995249431956, mean absolute error: 0.14127566765, r2: 0.242613417006
2018-01-28 13:08:58,985 - __main__ - DEBUG - Test feature 12 MRAE: 3.97305900593
2018-01-28 13:08:58,986 - __main__ - DEBUG - Test feature 12 Errors histogram: ([-1.2755154371261597, -0.9920675622092353, -0.708619687292311, -0.4251718123753866, -0.14172393745846223, 0.14172393745846223, 0.4251718123753865, 0.7086196872923107, 0.9920675622092352, 1.2755154371261597], [1, 1, 38, 713, 2255, 754, 41, 4, 0])
2018-01-28 13:08:58,986 - __main__ - DEBUG - Test feature 12 Absolute errors histogram: ([0.0, 0.14172393745846218, 0.28344787491692436, 0.42517181237538654, 0.5668957498338487, 0.708619687292311, 0.8503436247507731, 0.9920675622092352, 1.1337914996676974, 1.2755154371261597], [2255, 1160, 307, 58, 21, 2, 3, 1, 0])
2018-01-28 13:08:58,986 - __main__ - DEBUG - Test feature 12 Squared errors histogram: ([0.0, 0.1807710700385709, 0.3615421400771418, 0.5423132101157127, 0.7230842801542836, 0.9038553501928546, 1.0846264202314253, 1.2653974902699963, 1.4461685603085672, 1.6269396303471382], [3722, 69, 10, 2, 2, 2, 0, 0, 0]):
2018-01-28 13:08:58,986 - __main__ - DEBUG - Test feature 12 Predictions histogram: ([-0.7879588603973389, -0.5586839384502835, -0.32940901650322807, -0.10013409455617261, 0.12914082739088273, 0.35841574933793807, 0.5876906712849936, 0.816965593232049, 1.0462405151791043, 1.2755154371261597], [0, 0, 0, 655, 3117, 35, 0, 0, 0])
2018-01-28 13:08:58,986 - __main__ - DEBUG - Test feature 12 Observations histogram: ([-0.7879588603973389, -0.5586839384502835, -0.32940901650322807, -0.10013409455617261, 0.12914082739088273, 0.35841574933793807, 0.5876906712849936, 0.816965593232049, 1.0462405151791043, 1.2755154371261597], [4, 23, 316, 1208, 1481, 708, 61, 4, 2])
2018-01-28 13:08:58,987 - __main__ - DEBUG - Computing predictions of the model with replaced feature 12
2018-01-28 13:08:58,987 - __main__ - DEBUG - Replacing original feature 12 with predicted values
2018-01-28 13:08:59,464 - __main__ - DEBUG - No predictions for 0 items out of 8886, leaving as is
2018-01-28 13:08:59,505 - __main__ - DEBUG - Done in 0.517997026443 seconds
2018-01-28 13:09:00,701 - __main__ - DEBUG - Done in 1.194425 seconds
2018-01-28 13:09:00,701 - __main__ - DEBUG - Computing replaced mean error relative to the baseline model
2018-01-28 13:10:13,298 - __main__ - DEBUG - Done in 72.596200 seconds
2018-01-28 13:10:13,344 - __main__ - DEBUG - Replaced mean error baseline: 0.028174
2018-01-28 13:10:13,344 - __main__ - DEBUG - Evaluating replaced model
2018-01-28 13:10:16,427 - __main__ - DEBUG - Replaced feature 12 training Evaluating the model
2018-01-28 13:10:16,473 - __main__ - DEBUG - Replaced feature 12 training Bin range: (0.0, 5.5)
