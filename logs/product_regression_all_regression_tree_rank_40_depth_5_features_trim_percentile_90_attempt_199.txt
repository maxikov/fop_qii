spark-submit --driver-memory 15g MovieLensALS.py --spark-executor-memory 15g --local-threads 8 --num-partitions 7 --checkpoint-dir /home/maxikov/spark_dir --temp-dir /home/maxikov/spark_dir --persist-dir /home/maxikov/product_regression_all_regression_tree_rank_40_depth_5_features_trim_percentile_90.state --data-path datasets/ml-20m --movies-file datasets/ml-20m/ml-20m.imdb.medium.csv --tvtropes-file datasets/dbtropes/tropes.csv --rank 40 --lmbda 0.01 --num-iter 300 --predict-product-features --metadata-sources years genres average_rating imdb_keywords imdb_producer imdb_director tags tvtropes --drop-rare-features 250 --drop-rare-movies 50 --cross-validation 70 --regression-model regression_tree --nbins 32 --max-depth 5 --features-trim-percentile 90
2017-05-21 20:07:29,291 - __main__ - DEBUG - rank: 40, lmbda: 0.01, num_iter: 300, num_partitions: 7
2017-05-21 20:07:29,291 - __main__ - DEBUG - data_path: datasets/ml-20m, checkpoint_dir: /home/maxikov/spark_dir
2017-05-21 20:07:29,291 - __main__ - DEBUG - Temp dir: /home/maxikov/spark_dir
2017-05-21 20:07:29,291 - __main__ - DEBUG - local_threads: 8
2017-05-21 20:07:29,291 - __main__ - DEBUG - spark_executor_memory: 15g
2017-05-21 20:07:29,291 - __main__ - DEBUG - regression_model: regression_tree
2017-05-21 20:07:29,291 - __main__ - DEBUG - nbins: 32
2017-05-21 20:07:29,291 - __main__ - DEBUG - regression_users: False
2017-05-21 20:07:29,291 - __main__ - DEBUG - predict_product_features: True
2017-05-21 20:07:29,291 - __main__ - DEBUG - metadata_sources: ['years', 'genres', 'average_rating', 'imdb_keywords', 'imdb_producer', 'imdb_director', 'tags', 'tvtropes']
2017-05-21 20:07:29,291 - __main__ - DEBUG - movies_file: datasets/ml-20m/ml-20m.imdb.medium.csv
2017-05-21 20:07:29,292 - __main__ - DEBUG - cross_validation: 70
2017-05-21 20:07:29,292 - __main__ - DEBUG - tvtropes_file: datasets/dbtropes/tropes.csv
2017-05-21 20:07:29,292 - __main__ - DEBUG - features_trim_percentile: 90
2017-05-21 20:07:29,292 - __main__ - DEBUG - drop_missing_movies: False
2017-05-21 20:07:29,292 - __main__ - DEBUG - drop_rare_features: 250
2017-05-21 20:07:29,292 - __main__ - DEBUG - filter_data_set: 10
2017-05-21 20:07:29,292 - __main__ - DEBUG - persist_dir: /home/maxikov/product_regression_all_regression_tree_rank_40_depth_5_features_trim_percentile_90.state, override_args: False
2017-05-21 20:07:29,292 - __main__ - DEBUG - drop_rare_movies: 50
2017-05-21 20:07:29,292 - __main__ - DEBUG - normalize: False
2017-05-21 20:07:29,292 - __main__ - DEBUG - max_depth: 5
2017-05-21 20:07:30,672 - __main__ - DEBUG - msep: ,
2017-05-21 20:07:30,672 - __main__ - DEBUG - Loading ratings
2017-05-21 20:07:38,766 - __main__ - DEBUG - Done in 8.093942 seconds
2017-05-21 20:07:38,766 - __main__ - DEBUG - Loading movies
2017-05-21 20:07:39,997 - __main__ - DEBUG - Done in 1.230231 seconds
2017-05-21 20:07:39,997 - __main__ - DEBUG - 26804 movies loaded
2017-05-21 20:08:57,449 - __main__ - DEBUG - 19912669 records in the training set
2017-05-21 20:09:04,123 - __main__ - DEBUG - 26284 unique movies in the training set
2017-05-21 20:09:04,123 - __main__ - DEBUG - Started internal_feature_predictor
2017-05-21 20:09:04,123 - __main__ - DEBUG - Trying to load previous results
2017-05-21 20:09:04,123 - __main__ - DEBUG - Loading /home/maxikov/product_regression_all_regression_tree_rank_40_depth_5_features_trim_percentile_90.state/results.pkl
2017-05-21 20:09:04,125 - __main__ - DEBUG - 0 features already processed: {}
2017-05-21 20:09:04,125 - __main__ - DEBUG - Training the average rating model
2017-05-21 20:09:24,783 - __main__ - DEBUG - Done in 20.658097 seconds
2017-05-21 20:09:24,812 - __main__ - DEBUG - Loading /home/maxikov/product_regression_all_regression_tree_rank_40_depth_5_features_trim_percentile_90.state/als_model.pkl
2017-05-21 20:09:28,172 - __main__ - DEBUG - Loading /home/maxikov/product_regression_all_regression_tree_rank_40_depth_5_features_trim_percentile_90.state/baseline_predictions.pkl
